/**
 * A simple free (AGPL) T-SQL formatting library for JS
 * @version 1.6.10.1315
 * @copyright Copyright Â©  2011-2017 Tao Klerks
 * @compiler Bridge.NET 16.0.0-beta4
 */
Bridge.assembly("PoorMansTSqlFormatterJS", function ($asm, globals) {
    "use strict";

    Bridge.define("PoorMansTSqlFormatterLib._SqlFormattingManager", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.BaseFormatterState", {
        fields: {
            _outBuilder: null
        },
        props: {
            HtmlOutput: false
        },
        ctors: {
            init: function () {
                this._outBuilder = new System.Text.StringBuilder();
            },
            ctor: function (htmlOutput) {
                this.$initialize();
                this.HtmlOutput = htmlOutput;
            }
        },
        methods: {
            AddOutputContent: function (content) {
                this.AddOutputContent$1(content, null);
            },
            AddOutputContent$1: function (content, htmlClassName) {
                if (this.HtmlOutput) {
                    if (!System.String.isNullOrEmpty(htmlClassName)) {
                        this._outBuilder.append(System.String.concat("<span class=\"", htmlClassName, "\">"));
                    }
                    this._outBuilder.append(PoorMansTSqlFormatterLib.Utils.HtmlEncode(content));
                    if (!System.String.isNullOrEmpty(htmlClassName)) {
                        this._outBuilder.append("</span>");
                    }
                } else {
                    this._outBuilder.append(content);
                }
            },
            OpenClass: function (htmlClassName) {
                if (htmlClassName == null) {
                    throw new System.ArgumentNullException("htmlClassName");
                }

                if (this.HtmlOutput) {
                    this._outBuilder.append(System.String.concat("<span class=\"", htmlClassName, "\">"));
                }
            },
            CloseClass: function () {
                if (this.HtmlOutput) {
                    this._outBuilder.append("</span>");
                }
            },
            AddOutputContentRaw: function (content) {
                this._outBuilder.append(content);
            },
            AddOutputLineBreak: function () {
                this._outBuilder.append('\n');
            },
            DumpOutput: function () {
                return this._outBuilder.toString();
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTokenFormatter", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType", {
        $kind: "enum",
        statics: {
            fields: {
                NoFormat: 1,
                Minify: 2
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions", {
        statics: {
            fields: {
                _defaultOptions: null
            },
            ctors: {
                init: function () {
                    this._defaultOptions = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor();
                }
            }
        },
        fields: {
            _indentString: null
        },
        props: {
            IndentString: {
                get: function () {
                    return this._indentString;
                },
                set: function (value) {
                    this._indentString = System.String.replaceAll(System.String.replaceAll(value, "\\t", "\t"), "\\s", " ");
                }
            },
            SpacesPerTab: 0,
            MaxLineWidth: 0,
            ExpandCommaLists: false,
            TrailingCommas: false,
            SpaceAfterExpandedComma: false,
            ExpandBooleanExpressions: false,
            ExpandCaseStatements: false,
            ExpandBetweenConditions: false,
            UppercaseKeywords: false,
            BreakJoinOnSections: false,
            HTMLColoring: false,
            KeywordStandardization: false,
            ExpandInLists: false,
            NewClauseLineBreaks: 0,
            NewStatementLineBreaks: 0
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                this.IndentString = "\t";
                this.SpacesPerTab = 4;
                this.MaxLineWidth = 999;
                this.ExpandCommaLists = true;
                this.TrailingCommas = false;
                this.SpaceAfterExpandedComma = false;
                this.ExpandBooleanExpressions = true;
                this.ExpandBetweenConditions = true;
                this.ExpandCaseStatements = true;
                this.UppercaseKeywords = true;
                this.BreakJoinOnSections = false;
                this.HTMLColoring = false;
                this.KeywordStandardization = false;
                this.ExpandInLists = true;
                this.NewClauseLineBreaks = 1;
                this.NewStatementLineBreaks = 2;
            },
            $ctor1: function (serializedString) {
                PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor.call(this);
                var $t;

                if (System.String.isNullOrEmpty(serializedString)) {
                    return;
                }

                //PLEASE NOTE: This is not reusable/general-purpose key-value serialization: it does not handle commas in data.
                // This will need to be enhanced if we ever need to store formatter options that might contain equals signs or 
                // commas.
                $t = Bridge.getEnumerator(System.String.split(serializedString, [44].map(function(i) {{ return String.fromCharCode(i); }})));
                try {
                    while ($t.moveNext()) {
                        var kvp = $t.Current;
                        var splitPair = System.String.split(kvp, [61].map(function(i) {{ return String.fromCharCode(i); }}));
                        var key = splitPair[System.Array.index(0, splitPair)];
                        var value = splitPair[System.Array.index(1, splitPair)];

                        if (Bridge.referenceEquals(key, "IndentString")) {
                            this.IndentString = value;
                        } else {
                            if (Bridge.referenceEquals(key, "SpacesPerTab")) {
                                this.SpacesPerTab = System.Convert.toInt32(value);
                            } else {
                                if (Bridge.referenceEquals(key, "MaxLineWidth")) {
                                    this.MaxLineWidth = System.Convert.toInt32(value);
                                } else {
                                    if (Bridge.referenceEquals(key, "ExpandCommaLists")) {
                                        this.ExpandCommaLists = System.Convert.toBoolean(value);
                                    } else {
                                        if (Bridge.referenceEquals(key, "TrailingCommas")) {
                                            this.TrailingCommas = System.Convert.toBoolean(value);
                                        } else {
                                            if (Bridge.referenceEquals(key, "SpaceAfterExpandedComma")) {
                                                this.SpaceAfterExpandedComma = System.Convert.toBoolean(value);
                                            } else {
                                                if (Bridge.referenceEquals(key, "ExpandBooleanExpressions")) {
                                                    this.ExpandBooleanExpressions = System.Convert.toBoolean(value);
                                                } else {
                                                    if (Bridge.referenceEquals(key, "ExpandBetweenConditions")) {
                                                        this.ExpandBetweenConditions = System.Convert.toBoolean(value);
                                                    } else {
                                                        if (Bridge.referenceEquals(key, "ExpandCaseStatements")) {
                                                            this.ExpandCaseStatements = System.Convert.toBoolean(value);
                                                        } else {
                                                            if (Bridge.referenceEquals(key, "UppercaseKeywords")) {
                                                                this.UppercaseKeywords = System.Convert.toBoolean(value);
                                                            } else {
                                                                if (Bridge.referenceEquals(key, "BreakJoinOnSections")) {
                                                                    this.BreakJoinOnSections = System.Convert.toBoolean(value);
                                                                } else {
                                                                    if (Bridge.referenceEquals(key, "HTMLColoring")) {
                                                                        this.HTMLColoring = System.Convert.toBoolean(value);
                                                                    } else {
                                                                        if (Bridge.referenceEquals(key, "KeywordStandardization")) {
                                                                            this.KeywordStandardization = System.Convert.toBoolean(value);
                                                                        } else {
                                                                            if (Bridge.referenceEquals(key, "ExpandInLists")) {
                                                                                this.ExpandInLists = System.Convert.toBoolean(value);
                                                                            } else {
                                                                                if (Bridge.referenceEquals(key, "NewClauseLineBreaks")) {
                                                                                    this.NewClauseLineBreaks = System.Convert.toInt32(value);
                                                                                } else {
                                                                                    if (Bridge.referenceEquals(key, "NewStatementLineBreaks")) {
                                                                                        this.NewStatementLineBreaks = System.Convert.toInt32(value);
                                                                                    } else {
                                                                                        throw new System.ArgumentException(System.String.concat("Unknown option: ", key));
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }
        }
    },
    methods: {
        ToSerializedString: function () {
            var overrides = new (System.Collections.Generic.Dictionary$2(System.String,System.String))();

            if (!Bridge.referenceEquals(this.IndentString, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.IndentString)) {
                overrides.add("IndentString", this.IndentString);
            }
            if (this.SpacesPerTab !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.SpacesPerTab) {
                overrides.add("SpacesPerTab", this.SpacesPerTab.toString());
            }
            if (this.MaxLineWidth !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.MaxLineWidth) {
                overrides.add("MaxLineWidth", this.MaxLineWidth.toString());
            }
            if (this.ExpandCommaLists !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandCommaLists) {
                overrides.add("ExpandCommaLists", System.Boolean.toString(this.ExpandCommaLists));
            }
            if (this.TrailingCommas !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.TrailingCommas) {
                overrides.add("TrailingCommas", System.Boolean.toString(this.TrailingCommas));
            }
            if (this.SpaceAfterExpandedComma !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.SpaceAfterExpandedComma) {
                overrides.add("SpaceAfterExpandedComma", System.Boolean.toString(this.SpaceAfterExpandedComma));
            }
            if (this.ExpandBooleanExpressions !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandBooleanExpressions) {
                overrides.add("ExpandBooleanExpressions", System.Boolean.toString(this.ExpandBooleanExpressions));
            }
            if (this.ExpandBetweenConditions !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandBetweenConditions) {
                overrides.add("ExpandBetweenConditions", System.Boolean.toString(this.ExpandBetweenConditions));
            }
            if (this.ExpandCaseStatements !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandCaseStatements) {
                overrides.add("ExpandCaseStatements", System.Boolean.toString(this.ExpandCaseStatements));
            }
            if (this.UppercaseKeywords !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.UppercaseKeywords) {
                overrides.add("UppercaseKeywords", System.Boolean.toString(this.UppercaseKeywords));
            }
            if (this.BreakJoinOnSections !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.BreakJoinOnSections) {
                overrides.add("BreakJoinOnSections", System.Boolean.toString(this.BreakJoinOnSections));
            }
            if (this.HTMLColoring !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.HTMLColoring) {
                overrides.add("HTMLColoring", System.Boolean.toString(this.HTMLColoring));
            }
            if (this.KeywordStandardization !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.KeywordStandardization) {
                overrides.add("KeywordStandardization", System.Boolean.toString(this.KeywordStandardization));
            }
            if (this.ExpandInLists !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandInLists) {
                overrides.add("ExpandInLists", System.Boolean.toString(this.ExpandInLists));
            }
            if (this.NewClauseLineBreaks !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.NewClauseLineBreaks) {
                overrides.add("NewClauseLineBreaks", this.NewClauseLineBreaks.toString());
            }
            if (this.NewStatementLineBreaks !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.NewStatementLineBreaks) {
                overrides.add("NewStatementLineBreaks", this.NewStatementLineBreaks.toString());
            }
            this.NewStatementLineBreaks = 2;

            if (overrides.count === 0) {
                return "";
            }
            return System.Linq.Enumerable.from(overrides).select($asm.$.PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.f1).toArray(System.String).join(",");

        }
    }
    });

    Bridge.ns("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions", $asm.$);

    Bridge.apply($asm.$.PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions, {
        f1: function (kvp) {
            return System.String.concat(kvp.key, "=", kvp.value);
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTokenizer", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTokenParser", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.IToken", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.MessagingConstants", {
        statics: {
            fields: {
                FormatErrorDefaultMessage: null
            },
            ctors: {
                init: function () {
                    this.FormatErrorDefaultMessage = "--WARNING! ERRORS ENCOUNTERED DURING SQL PARSING!";
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants", {
        statics: {
            fields: {
                CLASS_OPERATOR: null,
                CLASS_COMMENT: null,
                CLASS_STRING: null,
                CLASS_FUNCTION: null,
                CLASS_KEYWORD: null,
                CLASS_ERRORHIGHLIGHT: null
            },
            ctors: {
                init: function () {
                    this.CLASS_OPERATOR = "SQLOperator";
                    this.CLASS_COMMENT = "SQLComment";
                    this.CLASS_STRING = "SQLString";
                    this.CLASS_FUNCTION = "SQLFunction";
                    this.CLASS_KEYWORD = "SQLKeyword";
                    this.CLASS_ERRORHIGHLIGHT = "SQLErrorHighlight";
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants", {
        statics: {
            fields: {
                ENAME_SQL_ROOT: null,
                ENAME_SQL_STATEMENT: null,
                ENAME_SQL_CLAUSE: null,
                ENAME_SET_OPERATOR_CLAUSE: null,
                ENAME_INSERT_CLAUSE: null,
                ENAME_BEGIN_END_BLOCK: null,
                ENAME_TRY_BLOCK: null,
                ENAME_CATCH_BLOCK: null,
                ENAME_BATCH_SEPARATOR: null,
                ENAME_CASE_STATEMENT: null,
                ENAME_CASE_INPUT: null,
                ENAME_CASE_WHEN: null,
                ENAME_CASE_THEN: null,
                ENAME_CASE_ELSE: null,
                ENAME_IF_STATEMENT: null,
                ENAME_ELSE_CLAUSE: null,
                ENAME_BOOLEAN_EXPRESSION: null,
                ENAME_WHILE_LOOP: null,
                ENAME_CURSOR_DECLARATION: null,
                ENAME_CURSOR_FOR_BLOCK: null,
                ENAME_CURSOR_FOR_OPTIONS: null,
                ENAME_CTE_WITH_CLAUSE: null,
                ENAME_CTE_ALIAS: null,
                ENAME_CTE_AS_BLOCK: null,
                ENAME_BEGIN_TRANSACTION: null,
                ENAME_COMMIT_TRANSACTION: null,
                ENAME_ROLLBACK_TRANSACTION: null,
                ENAME_SAVE_TRANSACTION: null,
                ENAME_DDL_DECLARE_BLOCK: null,
                ENAME_DDL_PROCEDURAL_BLOCK: null,
                ENAME_DDL_OTHER_BLOCK: null,
                ENAME_DDL_AS_BLOCK: null,
                ENAME_DDL_PARENS: null,
                ENAME_DDL_SUBCLAUSE: null,
                ENAME_DDL_RETURNS: null,
                ENAME_DDLDETAIL_PARENS: null,
                ENAME_DDL_WITH_CLAUSE: null,
                ENAME_PERMISSIONS_BLOCK: null,
                ENAME_PERMISSIONS_DETAIL: null,
                ENAME_PERMISSIONS_TARGET: null,
                ENAME_PERMISSIONS_RECIPIENT: null,
                ENAME_TRIGGER_CONDITION: null,
                ENAME_SELECTIONTARGET_PARENS: null,
                ENAME_EXPRESSION_PARENS: null,
                ENAME_FUNCTION_PARENS: null,
                ENAME_IN_PARENS: null,
                ENAME_FUNCTION_KEYWORD: null,
                ENAME_DATATYPE_KEYWORD: null,
                ENAME_COMPOUNDKEYWORD: null,
                ENAME_OTHERKEYWORD: null,
                ENAME_LABEL: null,
                ENAME_CONTAINER_OPEN: null,
                ENAME_CONTAINER_MULTISTATEMENT: null,
                ENAME_CONTAINER_SINGLESTATEMENT: null,
                ENAME_CONTAINER_GENERALCONTENT: null,
                ENAME_CONTAINER_CLOSE: null,
                ENAME_SELECTIONTARGET: null,
                ENAME_MERGE_CLAUSE: null,
                ENAME_MERGE_TARGET: null,
                ENAME_MERGE_USING: null,
                ENAME_MERGE_CONDITION: null,
                ENAME_MERGE_WHEN: null,
                ENAME_MERGE_THEN: null,
                ENAME_MERGE_ACTION: null,
                ENAME_JOIN_ON_SECTION: null,
                ENAME_PSEUDONAME: null,
                ENAME_WHITESPACE: null,
                ENAME_OTHERNODE: null,
                ENAME_COMMENT_SINGLELINE: null,
                ENAME_COMMENT_SINGLELINE_CSTYLE: null,
                ENAME_COMMENT_MULTILINE: null,
                ENAME_STRING: null,
                ENAME_NSTRING: null,
                ENAME_QUOTED_STRING: null,
                ENAME_BRACKET_QUOTED_NAME: null,
                ENAME_COMMA: null,
                ENAME_PERIOD: null,
                ENAME_SEMICOLON: null,
                ENAME_SCOPERESOLUTIONOPERATOR: null,
                ENAME_ASTERISK: null,
                ENAME_EQUALSSIGN: null,
                ENAME_ALPHAOPERATOR: null,
                ENAME_OTHEROPERATOR: null,
                ENAME_AND_OPERATOR: null,
                ENAME_OR_OPERATOR: null,
                ENAME_BETWEEN_CONDITION: null,
                ENAME_BETWEEN_LOWERBOUND: null,
                ENAME_BETWEEN_UPPERBOUND: null,
                ENAME_NUMBER_VALUE: null,
                ENAME_MONETARY_VALUE: null,
                ENAME_BINARY_VALUE: null,
                ANAME_ERRORFOUND: null,
                ANAME_HASERROR: null,
                ANAME_DATALOSS: null,
                ANAME_SIMPLETEXT: null,
                ENAMELIST_COMMENT: null,
                ENAMELIST_NONCONTENT: null,
                ENAMELIST_NONSEMANTICCONTENT: null
            },
            ctors: {
                init: function () {
                    this.ENAME_SQL_ROOT = "SqlRoot";
                    this.ENAME_SQL_STATEMENT = "SqlStatement";
                    this.ENAME_SQL_CLAUSE = "Clause";
                    this.ENAME_SET_OPERATOR_CLAUSE = "SetOperatorClause";
                    this.ENAME_INSERT_CLAUSE = "InsertClause";
                    this.ENAME_BEGIN_END_BLOCK = "BeginEndBlock";
                    this.ENAME_TRY_BLOCK = "TryBlock";
                    this.ENAME_CATCH_BLOCK = "CatchBlock";
                    this.ENAME_BATCH_SEPARATOR = "BatchSeparator";
                    this.ENAME_CASE_STATEMENT = "CaseStatement";
                    this.ENAME_CASE_INPUT = "Input";
                    this.ENAME_CASE_WHEN = "When";
                    this.ENAME_CASE_THEN = "Then";
                    this.ENAME_CASE_ELSE = "CaseElse";
                    this.ENAME_IF_STATEMENT = "IfStatement";
                    this.ENAME_ELSE_CLAUSE = "ElseClause";
                    this.ENAME_BOOLEAN_EXPRESSION = "BooleanExpression";
                    this.ENAME_WHILE_LOOP = "WhileLoop";
                    this.ENAME_CURSOR_DECLARATION = "CursorDeclaration";
                    this.ENAME_CURSOR_FOR_BLOCK = "CursorForBlock";
                    this.ENAME_CURSOR_FOR_OPTIONS = "CursorForOptions";
                    this.ENAME_CTE_WITH_CLAUSE = "CTEWithClause";
                    this.ENAME_CTE_ALIAS = "CTEAlias";
                    this.ENAME_CTE_AS_BLOCK = "CTEAsBlock";
                    this.ENAME_BEGIN_TRANSACTION = "BeginTransaction";
                    this.ENAME_COMMIT_TRANSACTION = "CommitTransaction";
                    this.ENAME_ROLLBACK_TRANSACTION = "RollbackTransaction";
                    this.ENAME_SAVE_TRANSACTION = "SaveTransaction";
                    this.ENAME_DDL_DECLARE_BLOCK = "DDLDeclareBlock";
                    this.ENAME_DDL_PROCEDURAL_BLOCK = "DDLProceduralBlock";
                    this.ENAME_DDL_OTHER_BLOCK = "DDLOtherBlock";
                    this.ENAME_DDL_AS_BLOCK = "DDLAsBlock";
                    this.ENAME_DDL_PARENS = "DDLParens";
                    this.ENAME_DDL_SUBCLAUSE = "DDLSubClause";
                    this.ENAME_DDL_RETURNS = "DDLReturns";
                    this.ENAME_DDLDETAIL_PARENS = "DDLDetailParens";
                    this.ENAME_DDL_WITH_CLAUSE = "DDLWith";
                    this.ENAME_PERMISSIONS_BLOCK = "PermissionsBlock";
                    this.ENAME_PERMISSIONS_DETAIL = "PermissionsDetail";
                    this.ENAME_PERMISSIONS_TARGET = "PermissionsTarget";
                    this.ENAME_PERMISSIONS_RECIPIENT = "PermissionsRecipient";
                    this.ENAME_TRIGGER_CONDITION = "TriggerCondition";
                    this.ENAME_SELECTIONTARGET_PARENS = "SelectionTargetParens";
                    this.ENAME_EXPRESSION_PARENS = "ExpressionParens";
                    this.ENAME_FUNCTION_PARENS = "FunctionParens";
                    this.ENAME_IN_PARENS = "InParens";
                    this.ENAME_FUNCTION_KEYWORD = "FunctionKeyword";
                    this.ENAME_DATATYPE_KEYWORD = "DataTypeKeyword";
                    this.ENAME_COMPOUNDKEYWORD = "CompoundKeyword";
                    this.ENAME_OTHERKEYWORD = "OtherKeyword";
                    this.ENAME_LABEL = "Label";
                    this.ENAME_CONTAINER_OPEN = "ContainerOpen";
                    this.ENAME_CONTAINER_MULTISTATEMENT = "ContainerMultiStatementBody";
                    this.ENAME_CONTAINER_SINGLESTATEMENT = "ContainerSingleStatementBody";
                    this.ENAME_CONTAINER_GENERALCONTENT = "ContainerContentBody";
                    this.ENAME_CONTAINER_CLOSE = "ContainerClose";
                    this.ENAME_SELECTIONTARGET = "SelectionTarget";
                    this.ENAME_MERGE_CLAUSE = "MergeClause";
                    this.ENAME_MERGE_TARGET = "MergeTarget";
                    this.ENAME_MERGE_USING = "MergeUsing";
                    this.ENAME_MERGE_CONDITION = "MergeCondition";
                    this.ENAME_MERGE_WHEN = "MergeWhen";
                    this.ENAME_MERGE_THEN = "MergeThen";
                    this.ENAME_MERGE_ACTION = "MergeAction";
                    this.ENAME_JOIN_ON_SECTION = "JoinOn";
                    this.ENAME_PSEUDONAME = "PseudoName";
                    this.ENAME_WHITESPACE = "WhiteSpace";
                    this.ENAME_OTHERNODE = "Other";
                    this.ENAME_COMMENT_SINGLELINE = "SingleLineComment";
                    this.ENAME_COMMENT_SINGLELINE_CSTYLE = "SingleLineCommentCStyle";
                    this.ENAME_COMMENT_MULTILINE = "MultiLineComment";
                    this.ENAME_STRING = "String";
                    this.ENAME_NSTRING = "NationalString";
                    this.ENAME_QUOTED_STRING = "QuotedString";
                    this.ENAME_BRACKET_QUOTED_NAME = "BracketQuotedName";
                    this.ENAME_COMMA = "Comma";
                    this.ENAME_PERIOD = "Period";
                    this.ENAME_SEMICOLON = "Semicolon";
                    this.ENAME_SCOPERESOLUTIONOPERATOR = "ScopeResolutionOperator";
                    this.ENAME_ASTERISK = "Asterisk";
                    this.ENAME_EQUALSSIGN = "EqualsSign";
                    this.ENAME_ALPHAOPERATOR = "AlphaOperator";
                    this.ENAME_OTHEROPERATOR = "OtherOperator";
                    this.ENAME_AND_OPERATOR = "And";
                    this.ENAME_OR_OPERATOR = "Or";
                    this.ENAME_BETWEEN_CONDITION = "Between";
                    this.ENAME_BETWEEN_LOWERBOUND = "LowerBound";
                    this.ENAME_BETWEEN_UPPERBOUND = "UpperBound";
                    this.ENAME_NUMBER_VALUE = "NumberValue";
                    this.ENAME_MONETARY_VALUE = "MonetaryValue";
                    this.ENAME_BINARY_VALUE = "BinaryValue";
                    this.ANAME_ERRORFOUND = "errorFound";
                    this.ANAME_HASERROR = "hasError";
                    this.ANAME_DATALOSS = "dataLossLimitation";
                    this.ANAME_SIMPLETEXT = "simpleText";
                    this.ENAMELIST_COMMENT = System.Array.init([PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE], System.String);
                    this.ENAMELIST_NONCONTENT = System.Array.init([PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE], System.String);
                    this.ENAMELIST_NONSEMANTICCONTENT = System.Array.init([PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK], System.String);
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.SqlTokenType", {
        $kind: "enum",
        statics: {
            fields: {
                OpenParens: 0,
                CloseParens: 1,
                WhiteSpace: 2,
                OtherNode: 3,
                SingleLineComment: 4,
                SingleLineCommentCStyle: 5,
                MultiLineComment: 6,
                String: 7,
                NationalString: 8,
                BracketQuotedName: 9,
                QuotedString: 10,
                Comma: 11,
                Period: 12,
                Semicolon: 13,
                Colon: 14,
                Asterisk: 15,
                EqualsSign: 16,
                MonetaryValue: 17,
                Number: 18,
                BinaryValue: 19,
                OtherOperator: 20,
                PseudoName: 21
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping", {
        statics: {
            props: {
                Instance: null
            },
            ctors: {
                ctor: function () {
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance = new (System.Collections.Generic.Dictionary$2(System.String,System.String))();

                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("PROCEDURE", "PROC");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("LEFT OUTER JOIN", "LEFT JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("RIGHT OUTER JOIN", "RIGHT JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("FULL OUTER JOIN", "FULL JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("INNER JOIN", "JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("TRANSACTION", "TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("BEGIN TRANSACTION", "BEGIN TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("COMMIT TRANSACTION", "COMMIT TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("ROLLBACK TRANSACTION", "ROLLBACK TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("VARBINARY", "BINARY VARYING");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("VARCHAR", "CHARACTER VARYING");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("CHARACTER", "CHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("CHAR VARYING", "VARCHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("DECIMAL", "DEC");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("FLOAT", "DOUBLE PRECISION");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("INTEGER", "INT");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NCHAR", "NATIONAL CHARACTER");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NATIONAL CHAR", "NCHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NVARCHAR", "NATIONAL CHARACTER VARYING");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NATIONAL CHAR VARYING", "NVARCHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NTEXT", "NATIONAL TEXT");
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType", {
        $kind: "enum",
        statics: {
            fields: {
                OperatorKeyword: 0,
                FunctionKeyword: 1,
                DataTypeKeyword: 2,
                OtherKeyword: 3
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.Node", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions", {
        statics: {
            methods: {
                FollowingChild: function (value, fromChild) {
                    var $t;
                    if (value == null) {
                        return null;
                    }

                    if (fromChild == null) {
                        throw new System.ArgumentNullException("fromChild");
                    }

                    var targetFound = false;
                    var sibling = null;

                    $t = Bridge.getEnumerator(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var child = $t.Current;
                            if (targetFound) {
                                sibling = child;
                                break;
                            }

                            if (Bridge.referenceEquals(child, fromChild)) {
                                targetFound = true;
                            }
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }
                    return sibling;
                },
                PreviousChild: function (value, fromChild) {
                    var $t;
                    if (value == null) {
                        return null;
                    }

                    if (fromChild == null) {
                        throw new System.ArgumentNullException("fromChild");
                    }

                    var previousSibling = null;

                    $t = Bridge.getEnumerator(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var child = $t.Current;
                            if (Bridge.referenceEquals(child, fromChild)) {
                                return previousSibling;
                            }

                            previousSibling = child;
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }
                    return null;
                },
                NextSibling: function (value) {
                    if (value == null || value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                        return null;
                    }

                    return PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.FollowingChild(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, value);
                },
                PreviousSibling: function (value) {
                    if (value == null || value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                        return null;
                    }

                    return PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousChild(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, value);
                },
                RootContainer: function (value) {
                    if (value == null) {
                        return null;
                    }

                    var currentParent = value;
                    while (currentParent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                        currentParent = currentParent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                    }
                    return currentParent;
                },
                ChildrenByName: function (value, name) {
                    if (value == null) {
                        return System.Linq.Enumerable.empty();
                    }

                    return System.Linq.Enumerable.from(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).where(function (p) {
                            return Bridge.referenceEquals(p.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, name);
                        });
                },
                ChildrenByNames: function (value, names) {
                    if (value == null) {
                        return System.Linq.Enumerable.empty();
                    }

                    return System.Linq.Enumerable.from(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).where(function (p) {
                            return System.Linq.Enumerable.from(names).contains(p.PoorMansTSqlFormatterLib$ParseStructure$Node$Name);
                        });
                },
                ChildrenExcludingNames: function (value, names) {
                    if (value == null) {
                        return System.Linq.Enumerable.empty();
                    }

                    return System.Linq.Enumerable.from(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).where(function (p) {
                            return !System.Linq.Enumerable.from(names).contains(p.PoorMansTSqlFormatterLib$ParseStructure$Node$Name);
                        });
                },
                ChildByName: function (value, name) {
                    return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(value, name)).singleOrDefault(null, null);
                },
                ChildByNames: function (value, names) {
                    return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByNames(value, names)).singleOrDefault(null, null);
                },
                ChildExcludingNames: function (value, names) {
                    return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(value, names)).singleOrDefault(null, null);
                },
                ExtractStructureBetween: function (startingElement, endingElement) {
                    var $t;
                    var currentNode = startingElement;
                    var previousNode = null;
                    var remainder = null;
                    var remainderPosition = null;

                    while (currentNode != null) {
                        if (Bridge.equals(currentNode, endingElement)) {
                            break;
                        }

                        if (previousNode != null) {
                            var copyOfThisNode = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);

                            $t = Bridge.getEnumerator(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Attributes, System.Collections.Generic.KeyValuePair$2(System.String,System.String));
                            try {
                                while ($t.moveNext()) {
                                    var attribute = $t.Current;
                                    copyOfThisNode.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(attribute.key, attribute.value);
                                }
                            } finally {
                                if (Bridge.is($t, System.IDisposable)) {
                                    $t.System$IDisposable$dispose();
                                }
                            }
                            if (remainderPosition == null) {
                                remainderPosition = copyOfThisNode;
                                remainder = copyOfThisNode;
                            } else if (Bridge.equals(currentNode, previousNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                                remainderPosition = remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            } else if (Bridge.equals(currentNode, previousNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                                copyOfThisNode.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(remainderPosition);
                                remainderPosition = copyOfThisNode;
                                remainder = copyOfThisNode;
                            } else if (Bridge.equals(currentNode, PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(previousNode)) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                                remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(copyOfThisNode);
                                remainderPosition = copyOfThisNode;
                            } else if (Bridge.equals(currentNode, PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(previousNode)) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                                var copyOfThisNodesParent = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                                remainder = copyOfThisNodesParent;
                                remainder.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(remainderPosition);
                                remainder.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(copyOfThisNode);
                                remainderPosition = copyOfThisNode;
                            } else {
                                //we must be a child
                                remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(copyOfThisNode);
                                remainderPosition = copyOfThisNode;
                            }
                        }

                        var nextNode = null;
                        if (previousNode != null && System.Linq.Enumerable.from(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).any() && !(Bridge.equals(currentNode, previousNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent))) {
                            nextNode = System.Linq.Enumerable.from(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).firstOrDefault(null, null);
                        } else if (PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(currentNode) != null) {
                            nextNode = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(currentNode);
                        } else {
                            nextNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                        }

                        previousNode = currentNode;
                        currentNode = nextNode;
                    }

                    return remainder;
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.NodeFactory", {
        statics: {
            methods: {
                CreateNode: function (name, textValue) {
                    var $t;
                    return ($t = new PoorMansTSqlFormatterLib.ParseStructure.NodeImpl(), $t.Name = name, $t.TextValue = textValue, $t);
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.StandardKeywordRemapping", {
        statics: {
            props: {
                Instance: null
            },
            ctors: {
                ctor: function () {
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance = new (System.Collections.Generic.Dictionary$2(System.String,System.String))();

                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("PROC", "PROCEDURE");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("LEFT OUTER JOIN", "LEFT JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("RIGHT OUTER JOIN", "RIGHT JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("FULL OUTER JOIN", "FULL JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("JOIN", "INNER JOIN");
                    //TODO: This is now wrong in MERGE statements... we now need a scope-limitation strategy :(
                    //Instance.Add("INSERT", "INSERT INTO");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("TRAN", "TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("BEGIN TRAN", "BEGIN TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("COMMIT TRAN", "COMMIT TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("ROLLBACK TRAN", "ROLLBACK TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("BINARY VARYING", "VARBINARY");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("CHAR VARYING", "VARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("CHARACTER", "CHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("CHARACTER VARYING", "VARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("DEC", "DECIMAL");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("DOUBLE PRECISION", "FLOAT");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("INTEGER", "INT");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHARACTER", "NCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHAR", "NCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHARACTER VARYING", "NVARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHAR VARYING", "NVARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL TEXT", "NTEXT");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("OUT", "OUTPUT");
                    //TODO: This is wrong when a TIMESTAMP column is unnamed; ROWVERSION does not auto-name. Due to context-sensitivity, this mapping is disabled for now.
                    // REF: http://msdn.microsoft.com/en-us/library/ms182776.aspx
                    //Instance.Add("TIMESTAMP", "ROWVERSION");
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.SimplifiedStringReader", {
        fields: {
            inputChars: null,
            nextCharIndex: 0
        },
        props: {
            LastCharacterPosition: {
                get: function () {
                    if (this.nextCharIndex <= this.inputChars.length) {
                        return System.Int64(this.nextCharIndex);
                    } else {
                        return System.Int64(this.inputChars.length);
                    }
                }
            }
        },
        ctors: {
            init: function () {
                this.nextCharIndex = 0;
            },
            ctor: function (inputString) {
                this.$initialize();
                this.inputChars = System.String.toCharArray(inputString, 0, inputString.length);
            }
        },
        methods: {
            Read: function () {
                var nextChar = this.Peek();
                this.nextCharIndex = (this.nextCharIndex + 1) | 0;
                return nextChar;
            },
            Peek: function () {
                if (this.nextCharIndex < this.inputChars.length) {
                    return this.inputChars[System.Array.index(this.nextCharIndex, this.inputChars)];
                } else {
                    return -1;
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType", {
        $kind: "enum",
        statics: {
            fields: {
                WhiteSpace: 0,
                OtherNode: 1,
                SingleLineComment: 2,
                SingleLineCommentCStyle: 3,
                BlockComment: 4,
                String: 5,
                NString: 6,
                QuotedString: 7,
                BracketQuotedName: 8,
                OtherOperator: 9,
                Number: 10,
                BinaryValue: 11,
                MonetaryValue: 12,
                DecimalValue: 13,
                FloatValue: 14,
                PseudoName: 15,
                SingleAsterisk: 16,
                SingleDollar: 17,
                SingleHyphen: 18,
                SingleSlash: 19,
                SingleN: 20,
                SingleLT: 21,
                SingleGT: 22,
                SingleExclamation: 23,
                SinglePeriod: 24,
                SingleZero: 25,
                SinglePipe: 26,
                SingleEquals: 27,
                SingleOtherCompoundableOperator: 28
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.TokenizationState", {
        props: {
            TokenContainer: null,
            InputReader: null,
            CurrentTokenizationType: null,
            CurrentTokenValue: null,
            CommentNesting: 0,
            CurrentCharInt: 0,
            CurrentChar: {
                get: function () {
                    if (this.CurrentCharInt < 0) {
                        throw new System.InvalidOperationException("No character has been read from the stream");
                    }

                    if (!this.HasUnprocessedCurrentCharacter) {
                        throw new System.InvalidOperationException("The current character has already been consumed");
                    }

                    return ((this.CurrentCharInt) & 65535);
                }
            },
            RequestedMarkerPosition: null,
            HasUnprocessedCurrentCharacter: false
        },
        ctors: {
            init: function () {
                this.TokenContainer = new PoorMansTSqlFormatterLib.TokenList();
                this.CurrentTokenValue = new System.Text.StringBuilder();
                this.CommentNesting = 0;
                this.CurrentCharInt = -1;
            },
            ctor: function (inputSQL, requestedMarkerPosition) {
                this.$initialize();
                if (System.Nullable.liftcmp("gt", requestedMarkerPosition, System.Int64.lift(inputSQL.length))) {
                    throw new System.ArgumentException("Requested marker position cannot be beyond the end of the input string", "requestedMarkerPosition");
                }

                this.InputReader = new PoorMansTSqlFormatterLib.Tokenizers.SimplifiedStringReader(inputSQL);
                this.RequestedMarkerPosition = requestedMarkerPosition;
            }
        },
        methods: {
            ReadNextCharacter: function () {
                if (this.HasUnprocessedCurrentCharacter) {
                    throw new System.Exception("Unprocessed character detected!");
                }

                this.CurrentCharInt = this.InputReader.Read();

                if (this.CurrentCharInt >= 0) {
                    this.HasUnprocessedCurrentCharacter = true;
                }
            },
            ConsumeCurrentCharacterIntoToken: function () {
                if (!this.HasUnprocessedCurrentCharacter) {
                    throw new System.Exception("No current character to consume!");
                }

                this.CurrentTokenValue.append(String.fromCharCode(this.CurrentChar));
                this.HasUnprocessedCurrentCharacter = false;
            },
            HasRemainingCharacters: function () {
                if (!this.HasUnprocessedCurrentCharacter) {
                    throw new System.Exception("No current character to consume!");
                }

                this.CurrentTokenValue.append(String.fromCharCode(this.CurrentChar));
                this.HasUnprocessedCurrentCharacter = false;
            },
            DiscardNextCharacter: function () {
                this.ReadNextCharacter();
                this.HasUnprocessedCurrentCharacter = false;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Utils", {
        statics: {
            methods: {
                HtmlEncode: function (raw) {
                    var $t;
                    /* 
                      This is a "Roll Your Own" implementation of HtmlEncode, which was necessary in the end because people want
                      to use the library with .Net 3.5 Client Profile and other restricted environments; the dependency on 
                      System.Web just for HtmlEncode was always a little disturbing anyway.
                      I've attempted to optimize the implementation towards strings that don't actually contain any special 
                      characters, and I've also skipped some of the more interesting stuff that I see in the MS implementation
                      (pointers, and some special handling in the WinAnsi special range of characters?), keeping it to the basic 
                      4 "known bad" characters.
                    */

                    if (raw == null) {
                        return null;
                    }

                    var outBuilder = null;
                    var latestCheckPos = 0;
                    var latestReplacementPos = 0;

                    $t = Bridge.getEnumerator(raw);
                    try {
                        while ($t.moveNext()) {
                            var c = $t.Current;
                            var replacementString = null;

                            switch (c) {
                                case 62: 
                                    replacementString = "&gt;";
                                    break;
                                case 60: 
                                    replacementString = "&lt;";
                                    break;
                                case 38: 
                                    replacementString = "&amp;";
                                    break;
                                case 34: 
                                    replacementString = "&quot;";
                                    break;
                            }

                            if (replacementString != null) {
                                if (outBuilder == null) {
                                    outBuilder = new System.Text.StringBuilder("", raw.length);
                                }

                                if (latestReplacementPos < latestCheckPos) {
                                    outBuilder.append(raw.substr(latestReplacementPos, ((latestCheckPos - latestReplacementPos) | 0)));
                                }

                                outBuilder.append(replacementString);

                                latestReplacementPos = (latestCheckPos + 1) | 0;
                            }

                            latestCheckPos = (latestCheckPos + 1) | 0;
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }
                    if (outBuilder != null) {
                        if (latestReplacementPos < latestCheckPos) {
                            outBuilder.append(raw.substr(latestReplacementPos));
                        }

                        return outBuilder.toString();
                    } else {
                        return raw;
                    }
                },
                ToLowerInvariant$1: function (value) {
                    return value.toLowerCase();
                },
                ToLowerInvariant: function (value) {
                    return String.fromCharCode(value).toLowerCase().charCodeAt(0);
                },
                ToUpperInvariant$1: function (value) {
                    return value.toUpperCase();
                },
                ToUpperInvariant: function (value) {
                    return String.fromCharCode(value).toUpperCase().charCodeAt(0);
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.HtmlPageWrapper", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        statics: {
            fields: {
                HTML_OUTER_PAGE: null
            },
            ctors: {
                init: function () {
                    this.HTML_OUTER_PAGE = "<!DOCTYPE html >\r\n<html>\r\n<head>\r\n</head>\r\n<body>\r\n<style type=\"text/css\">\r\n.SQLCode {{\r\n\tfont-size: 13px;\r\n\tfont-weight: bold;\r\n\tfont-family: monospace;;\r\n\twhite-space: pre;\r\n    -o-tab-size: 4;\r\n    -moz-tab-size: 4;\r\n    -webkit-tab-size: 4;\r\n}}\r\n.SQLComment {{\r\n\tcolor: #00AA00;\r\n}}\r\n.SQLString {{\r\n\tcolor: #AA0000;\r\n}}\r\n.SQLFunction {{\r\n\tcolor: #AA00AA;\r\n}}\r\n.SQLKeyword {{\r\n\tcolor: #0000AA;\r\n}}\r\n.SQLOperator {{\r\n\tcolor: #777777;\r\n}}\r\n.SQLErrorHighlight {{\r\n\tbackground-color: #FFFF00;\r\n}}\r\n\r\n\r\n</style>\r\n<pre class=\"SQLCode\">{0}</pre>\r\n</body>\r\n</html>\r\n";
                }
            }
        },
        fields: {
            _underlyingFormatter: null
        },
        props: {
            HTMLFormatted: {
                get: function () {
                    return true;
                }
            },
            ErrorOutputPrefix: {
                get: function () {
                    return this._underlyingFormatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix;
                },
                set: function (value) {
                    throw new System.NotSupportedException("Error output prefix should be set on the underlying formatter - it cannot be set on the Html Page Wrapper.");
                }
            }
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree"
        ],
        ctors: {
            ctor: function (underlyingFormatter) {
                this.$initialize();
                if (underlyingFormatter == null) {
                    throw new System.ArgumentNullException("underlyingFormatter");
                }

                this._underlyingFormatter = underlyingFormatter;
            }
        },
        methods: {
            FormatSQLTree: function (sqlTree) {
                var formattedResult = this._underlyingFormatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree(sqlTree);
                if (this._underlyingFormatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted) {
                    return System.String.format(PoorMansTSqlFormatterLib.Formatters.HtmlPageWrapper.HTML_OUTER_PAGE, formattedResult);
                } else {
                    return System.String.format(PoorMansTSqlFormatterLib.Formatters.HtmlPageWrapper.HTML_OUTER_PAGE, PoorMansTSqlFormatterLib.Utils.HtmlEncode(formattedResult));
                }
            }
        }
    });

    /** @namespace PoorMansTSqlFormatterLib.Formatters */

    /**
     * This formatter is intended to output *exactly the same content as initially parsed*, unless the 
     "HtmlColoring" option is enabled (then it should look the same in HTML, except for the coloring).
     *
     * @public
     * @class PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter
     * @implements  PoorMansTSqlFormatterLib.Interfaces.ISqlTokenFormatter
     * @implements  PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter
     */
    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTokenFormatter,PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        statics: {
            methods: {
                ProcessSqlNodeList: function (rootList, state) {
                    var $t;
                    $t = Bridge.getEnumerator(rootList, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var contentElement = $t.Current;
                            PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNode(state, contentElement);
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }},
                ProcessSqlNode: function (state, contentElement) {
                    var $t;
                    if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                        state.OpenClass(PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_ERRORHIGHLIGHT);
                    }

                    switch (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name) {
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS: 
                            state.AddOutputContent("(");
                            PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                            state.AddOutputContent(")");
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS: 
                            $t = Bridge.getEnumerator(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                            try {
                                while ($t.moveNext()) {
                                    var childNode = $t.Current;
                                    PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNode(state, childNode);
                                }
                            } finally {
                                if (Bridge.is($t, System.IDisposable)) {
                                    $t.System$IDisposable$dispose();
                                }
                            }break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE: 
                            state.AddOutputContent$1(System.String.concat("/*", contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "*/"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE: 
                            state.AddOutputContent$1(System.String.concat("--", contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE: 
                            state.AddOutputContent$1(System.String.concat("//", contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING: 
                            state.AddOutputContent$1(System.String.concat("'", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''"), "'"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_STRING);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING: 
                            state.AddOutputContent$1(System.String.concat("N'", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''"), "'"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_STRING);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING: 
                            state.AddOutputContent(System.String.concat("\"", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\"", "\"\""), "\""));
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME: 
                            state.AddOutputContent(System.String.concat("[", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "]", "]]"), "]"));
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR: 
                            state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR: 
                            state.AddOutputContent$1(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD).PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD: 
                            state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_FUNCTION);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME: 
                            state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL: 
                            state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                            break;
                        default: 
                            throw new System.Exception("Unrecognized element in SQL Xml!");
                    }

                    if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                        state.CloseClass();
                    }
                }
            }
        },
        props: {
            HTMLColoring: false,
            HTMLFormatted: {
                get: function () {
                    return this.HTMLColoring;
                }
            },
            ErrorOutputPrefix: null
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree",
            "FormatSQLTokens", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenFormatter$FormatSQLTokens"
        ],
        ctors: {
            ctor: function () {
                PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1.call(this, false);
            },
            $ctor1: function (htmlColoring) {
                this.$initialize();
                this.HTMLColoring = htmlColoring;
                this.ErrorOutputPrefix = System.String.concat(PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage, '\n');
            }
        },
        methods: {
            FormatSQLTree: function (sqlTreeDoc) {
                var state = new PoorMansTSqlFormatterLib.BaseFormatterState(this.HTMLColoring);

                if (Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) && Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1")) {
                    state.AddOutputContent(this.ErrorOutputPrefix);
                }

                //pass "doc" itself into process: useful/necessary when formatting NOFORMAT sub-regions from standard formatter
                PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNodeList(System.Array.init([sqlTreeDoc], PoorMansTSqlFormatterLib.ParseStructure.Node), state);
                return state.DumpOutput();
            },
            FormatSQLTokens: function (sqlTokenList) {
                var $t;
                var outString = new System.Text.StringBuilder();

                if (sqlTokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$HasUnfinishedToken) {
                    outString.append(this.ErrorOutputPrefix);
                }

                $t = Bridge.getEnumerator(sqlTokenList, PoorMansTSqlFormatterLib.Interfaces.IToken);
                try {
                    while ($t.moveNext()) {
                        var entry = $t.Current;
                        switch (entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Type) {
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment: 
                                outString.append("/*");
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                outString.append("*/");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment: 
                                outString.append("--");
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle: 
                                outString.append("//");
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String: 
                                outString.append("'");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "'", "''"));
                                outString.append("'");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString: 
                                outString.append("N'");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "'", "''"));
                                outString.append("'");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString: 
                                outString.append("\"");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "\"", "\"\""));
                                outString.append("\"");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName: 
                                outString.append("[");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "]", "]]"));
                                outString.append("]");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OpenParens: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.CloseParens: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Semicolon: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName: 
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                break;
                            default: 
                                throw new System.Exception("Unrecognized Token Type in Token List!");
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }
                return outString.toString();
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        statics: {
            fields: {
                MIN_CASE_WORD_LENGTH: 0,
                MAX_CASE_WORD_LENGTH: 0
            },
            ctors: {
                init: function () {
                    this.MIN_CASE_WORD_LENGTH = 2;
                    this.MAX_CASE_WORD_LENGTH = 8;
                }
            }
        },
        fields: {
            KeywordMapping: null,
            _randomizer: null,
            _currentCaseLength: 0,
            _currentCaseLimit: 0,
            _currentlyUppercase: false
        },
        props: {
            RandomizeCase: false,
            RandomizeColor: false,
            RandomizeLineLength: false,
            PreserveComments: false,
            HTMLFormatted: {
                get: function () {
                    return this.RandomizeColor;
                }
            },
            ErrorOutputPrefix: null
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree"
        ],
        ctors: {
            init: function () {
                this.KeywordMapping = new (System.Collections.Generic.Dictionary$2(System.String,System.String))();
                this._randomizer = new System.Random.ctor();
                this._currentCaseLength = 0;
                this._currentCaseLimit = PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MAX_CASE_WORD_LENGTH;
                this._currentlyUppercase = false;
            },
            ctor: function () {
                PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.$ctor1.call(this, false, false, false, false, false);
            },
            $ctor1: function (randomizeCase, randomizeColor, randomizeLineLength, preserveComments, subtituteKeywords) {
                this.$initialize();
                this.RandomizeCase = randomizeCase;
                this.RandomizeColor = randomizeColor;
                this.RandomizeLineLength = randomizeLineLength;
                this.PreserveComments = preserveComments;
                if (subtituteKeywords) {
                    this.KeywordMapping = PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance;
                }

                this.ErrorOutputPrefix = System.String.concat(PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage, '\n');

                if (this.RandomizeCase) {
                    this._currentCaseLimit = this._randomizer.next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MIN_CASE_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MAX_CASE_WORD_LENGTH);
                    this._currentlyUppercase = this._randomizer.next$2(0, 2) === 0;
                }
            }
        },
        methods: {
            FormatSQLTree: function (sqlTreeDoc) {
                //thread-safe - each call to FormatSQLTree() gets its own independent state object
                var state = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState(this.RandomizeColor, this.RandomizeLineLength);

                if (Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) && Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1")) {
                    state.AddOutputContent(this.ErrorOutputPrefix);
                }

                //pass "doc" itself into process: useful/necessary when formatting MINIFY sub-regions from standard formatter
                this.ProcessSqlNodeList(System.Array.init([sqlTreeDoc], PoorMansTSqlFormatterLib.ParseStructure.Node), state);
                state.BreakIfExpected();
                return state.DumpOutput();
            },
            ProcessSqlNodeList: function (rootList, state) {
                var $t;
                $t = Bridge.getEnumerator(rootList, PoorMansTSqlFormatterLib.ParseStructure.Node);
                try {
                    while ($t.moveNext()) {
                        var contentElement = $t.Current;
                        this.ProcessSqlNode(contentElement, state);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }},
            ProcessSqlNode: function (contentElement, state) {
                switch (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name) {
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR: 
                        //these are all containers, and therefore have no impact on obfuscated output.
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS: 
                        state.SpaceExpected = false;
                        state.AddOutputContent("(");
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        state.SpaceExpected = false;
                        state.SpaceExpectedForAnsiString = false;
                        state.AddOutputContent(")");
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE: 
                        //do nothing
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE: 
                        if (this.PreserveComments) {
                            state.SpaceExpected = false;
                            state.AddOutputContent(System.String.concat("/*", contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "*/"));
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE: 
                        if (this.PreserveComments) {
                            state.SpaceExpected = false;
                            state.AddOutputContent(System.String.concat("--", System.String.replaceAll(System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\r", ""), "\n", "")));
                            state.BreakExpected = true;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE: 
                        if (this.PreserveComments) {
                            state.SpaceExpected = false;
                            state.AddOutputContent(System.String.concat("//", System.String.replaceAll(System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\r", ""), "\n", "")));
                            state.BreakExpected = true;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR: 
                        //newline regardless of whether previous element recommended a break or not.
                        state.BreakExpected = true;
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        state.BreakExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING: 
                        state.SpaceIfExpectedForAnsiString();
                        state.SpaceExpected = false;
                        state.AddOutputContent(System.String.concat("'", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''"), "'"));
                        state.SpaceExpectedForAnsiString = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING: 
                        state.AddOutputContent(System.String.concat("N'", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''"), "'"));
                        state.SpaceExpectedForAnsiString = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME: 
                        state.SpaceExpected = false;
                        state.AddOutputContent(System.String.concat("[", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "]", "]]"), "]"));
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING: 
                        state.SpaceExpected = false;
                        state.AddOutputContent(System.String.concat("\"", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\"", "\"\""), "\""));
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR: 
                        state.SpaceExpected = false;
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD: 
                        state.AddOutputContent(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT)));
                        state.SpaceExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL: 
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.BreakExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE: 
                        state.AddOutputContent(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue));
                        state.SpaceExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE: 
                        state.AddOutputContent(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue));
                        if (!System.String.contains(PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"e")) {
                            state.SpaceExpectedForE = true;
                            if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "0")) {
                                state.SpaceExpectedForX = true;
                            }
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE: 
                        if (!System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue.substr(0, 1), "$")) {
                            state.SpaceExpected = false;
                        }
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        if (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue.length === 1) {
                            state.SpaceExpectedForPlusMinus = true;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD: 
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.SpaceExpected = true;
                        break;
                    default: 
                        throw new System.Exception("Unrecognized element in SQL Xml!");
                }
            },
            FormatKeyword: function (keyword) {
                var outputKeyword = { };
                if (!this.KeywordMapping.System$Collections$Generic$IDictionary$2$System$String$System$String$tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(keyword), outputKeyword)) {
                    outputKeyword.v = keyword;
                }

                if (this.RandomizeCase) {
                    return this.GetCaseRandomized(outputKeyword.v);
                } else {
                    return outputKeyword.v;
                }
            },
            GetCaseRandomized: function (outputKeyword) {
                var keywordCharArray = System.String.toCharArray(outputKeyword, 0, outputKeyword.length);
                for (var i = 0; i < keywordCharArray.length; i = (i + 1) | 0) {
                    if (this._currentCaseLength === this._currentCaseLimit) {
                        this._currentCaseLimit = this._randomizer.next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MIN_CASE_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MAX_CASE_WORD_LENGTH);
                        this._currentlyUppercase = this._randomizer.next$2(0, 2) === 0;
                        this._currentCaseLength = 0;
                    }

                    keywordCharArray[System.Array.index(i, keywordCharArray)] = this._currentlyUppercase ? PoorMansTSqlFormatterLib.Utils.ToUpperInvariant(keywordCharArray[System.Array.index(i, keywordCharArray)]) : PoorMansTSqlFormatterLib.Utils.ToLowerInvariant(keywordCharArray[System.Array.index(i, keywordCharArray)]);
                    this._currentCaseLength = (this._currentCaseLength + 1) | 0;
                }
                return String.fromCharCode.apply(null, keywordCharArray);
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState", {
        inherits: [PoorMansTSqlFormatterLib.BaseFormatterState],
        statics: {
            fields: {
                MIN_COLOR_WORD_LENGTH: 0,
                MAX_COLOR_WORD_LENGTH: 0,
                MIN_LINE_LENGTH: 0,
                MAX_LINE_LENGTH: 0
            },
            ctors: {
                init: function () {
                    this.MIN_COLOR_WORD_LENGTH = 3;
                    this.MAX_COLOR_WORD_LENGTH = 15;
                    this.MIN_LINE_LENGTH = 10;
                    this.MAX_LINE_LENGTH = 80;
                }
            }
        },
        fields: {
            _randomizer: null,
            _currentLineLength: 0,
            _thisLineLimit: 0,
            _currentColorLength: 0,
            _currentColorLimit: 0,
            _currentColor: null
        },
        props: {
            RandomizeColor: false,
            RandomizeLineLength: false,
            BreakExpected: false,
            SpaceExpectedForAnsiString: false,
            SpaceExpectedForE: false,
            SpaceExpectedForX: false,
            SpaceExpectedForPlusMinus: false,
            SpaceExpected: false
        },
        ctors: {
            init: function () {
                this._randomizer = new System.Random.ctor();
                this._currentLineLength = 0;
                this._thisLineLimit = PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_LINE_LENGTH;
                this._currentColorLength = 0;
                this._currentColorLimit = PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_COLOR_WORD_LENGTH;
            },
            ctor: function (randomizeColor, randomizeLineLength) {
                this.$initialize();
                PoorMansTSqlFormatterLib.BaseFormatterState.ctor.call(this, randomizeColor);
                this.RandomizeColor = randomizeColor;
                this.RandomizeLineLength = randomizeLineLength;

                if (this.RandomizeColor) {
                    this._currentColorLimit = this._randomizer.next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MIN_COLOR_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_COLOR_WORD_LENGTH);
                    this._currentColor = System.String.format("#{0:x2}{1:x2}{2:x2}", Bridge.box(this._randomizer.next$2(0, 127), System.Int32), Bridge.box(this._randomizer.next$2(0, 127), System.Int32), Bridge.box(this._randomizer.next$2(0, 127), System.Int32));
                }
                if (this.RandomizeLineLength) {
                    this._thisLineLimit = this._randomizer.next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MIN_LINE_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_LINE_LENGTH);
                }
            }
        },
        methods: {
            BreakIfExpected: function () {
                if (this.BreakExpected) {
                    this.BreakExpected = false;
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputLineBreak.call(this);
                    this.SetSpaceNoLongerExpected();
                    this._currentLineLength = 0;

                    if (this.RandomizeLineLength) {
                        this._thisLineLimit = this._randomizer.next$2(10, 80);
                    }
                }
            },
            SpaceIfExpectedForAnsiString: function () {
                if (this.SpaceExpectedForAnsiString) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, " ", null);
                    this.SetSpaceNoLongerExpected();
                }
            },
            SpaceIfExpected: function () {
                if (this.SpaceExpected) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, " ", null);
                    this.SetSpaceNoLongerExpected();
                }
            },
            AddOutputContent$1: function (content, htmlClassName) {
                if (htmlClassName != null) {
                    throw new System.NotSupportedException("Obfuscating formatter does not use html class names...");
                }

                this.BreakIfExpected();
                this.SpaceIfExpected();
                if (this._currentLineLength > 0 && ((this._currentLineLength + content.length) | 0) > this._thisLineLimit) {
                    this.BreakExpected = true;
                    this.BreakIfExpected();
                } else if ((this.SpaceExpectedForE && System.String.equals(content.substr(0, 1).toLowerCase(), "e")) || (this.SpaceExpectedForX && System.String.equals(content.substr(0, 1).toLowerCase(), "x")) || (this.SpaceExpectedForPlusMinus && System.String.equals(content.substr(0, 1), "+")) || (this.SpaceExpectedForPlusMinus && System.String.equals(content.substr(0, 1), "-"))) {
                    this.SpaceExpected = true;
                    this.SpaceIfExpected();
                }

                this._currentLineLength = (this._currentLineLength + content.length) | 0;
                if (this.RandomizeColor) {
                    var lengthWritten = 0;
                    while (lengthWritten < content.length) {
                        if (this._currentColorLength === this._currentColorLimit) {
                            this._currentColorLimit = this._randomizer.next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MIN_COLOR_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_COLOR_WORD_LENGTH);
                            this._currentColor = System.String.format("#{0:x2}{1:x2}{2:x2}", Bridge.box(this._randomizer.next$2(0, 127), System.Int32), Bridge.box(this._randomizer.next$2(0, 127), System.Int32), Bridge.box(this._randomizer.next$2(0, 127), System.Int32));
                            this._currentColorLength = 0;
                        }

                        var writing;
                        if (((content.length - lengthWritten) | 0) < ((this._currentColorLimit - this._currentColorLength) | 0)) {
                            writing = (content.length - lengthWritten) | 0;
                        } else {
                            writing = (this._currentColorLimit - this._currentColorLength) | 0;
                        }

                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, "<span style=\"color: ");
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, this._currentColor);
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, ";\">");
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, PoorMansTSqlFormatterLib.Utils.HtmlEncode(content.substr(lengthWritten, writing)));
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, "</span>");
                        lengthWritten = (lengthWritten + writing) | 0;
                        this._currentColorLength = (this._currentColorLength + writing) | 0;
                    }
                } else {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, content, null);
                }
                this.SetSpaceNoLongerExpected();
            },
            SetSpaceNoLongerExpected: function () {
                this.SpaceExpected = false;
                this.SpaceExpectedForAnsiString = false;
                this.SpaceExpectedForE = false;
                this.SpaceExpectedForX = false;
                this.SpaceExpectedForPlusMinus = false;
            },
            AddOutputLineBreak: function () {
                //don't want the outer code to write line breaks at all
                throw new System.NotSupportedException();
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        fields: {
            KeywordMapping: null
        },
        props: {
            Options: null,
            IndentString: {
                get: function () {
                    return this.Options.IndentString;
                },
                set: function (value) {
                    this.Options.IndentString = value;
                }
            },
            SpacesPerTab: {
                get: function () {
                    return this.Options.SpacesPerTab;
                },
                set: function (value) {
                    this.Options.SpacesPerTab = value;
                }
            },
            MaxLineWidth: {
                get: function () {
                    return this.Options.MaxLineWidth;
                },
                set: function (value) {
                    this.Options.MaxLineWidth = value;
                }
            },
            ExpandCommaLists: {
                get: function () {
                    return this.Options.ExpandCommaLists;
                },
                set: function (value) {
                    this.Options.ExpandCommaLists = value;
                }
            },
            TrailingCommas: {
                get: function () {
                    return this.Options.TrailingCommas;
                },
                set: function (value) {
                    this.Options.TrailingCommas = value;
                }
            },
            SpaceAfterExpandedComma: {
                get: function () {
                    return this.Options.SpaceAfterExpandedComma;
                },
                set: function (value) {
                    this.Options.SpaceAfterExpandedComma = value;
                }
            },
            ExpandBooleanExpressions: {
                get: function () {
                    return this.Options.ExpandBooleanExpressions;
                },
                set: function (value) {
                    this.Options.ExpandBooleanExpressions = value;
                }
            },
            ExpandCaseStatements: {
                get: function () {
                    return this.Options.ExpandCaseStatements;
                },
                set: function (value) {
                    this.Options.ExpandCaseStatements = value;
                }
            },
            ExpandBetweenConditions: {
                get: function () {
                    return this.Options.ExpandBetweenConditions;
                },
                set: function (value) {
                    this.Options.ExpandBetweenConditions = value;
                }
            },
            UppercaseKeywords: {
                get: function () {
                    return this.Options.UppercaseKeywords;
                },
                set: function (value) {
                    this.Options.UppercaseKeywords = value;
                }
            },
            BreakJoinOnSections: {
                get: function () {
                    return this.Options.BreakJoinOnSections;
                },
                set: function (value) {
                    this.Options.BreakJoinOnSections = value;
                }
            },
            HTMLColoring: {
                get: function () {
                    return this.Options.HTMLColoring;
                },
                set: function (value) {
                    this.Options.HTMLColoring = value;
                }
            },
            HTMLFormatted: {
                get: function () {
                    return this.Options.HTMLColoring;
                }
            },
            ErrorOutputPrefix: null
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree"
        ],
        ctors: {
            init: function () {
                this.KeywordMapping = new (System.Collections.Generic.Dictionary$2(System.String,System.String))();
            },
            ctor: function () {
                PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.$ctor1.call(this, new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor());
            },
            $ctor1: function (options) {
                this.$initialize();
                if (options == null) {
                    throw new System.ArgumentNullException("options");
                }

                this.Options = options;

                if (options.KeywordStandardization) {
                    this.KeywordMapping = PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance;
                }
                this.ErrorOutputPrefix = System.String.concat(PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage, '\n');
            },
            $ctor2: function (indentString, spacesPerTab, maxLineWidth, expandCommaLists, trailingCommas, spaceAfterExpandedComma, expandBooleanExpressions, expandCaseStatements, expandBetweenConditions, breakJoinOnSections, uppercaseKeywords, htmlColoring, keywordStandardization) {
                this.$initialize();                var $t;

                this.Options = ($t = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor(), $t.IndentString = indentString, $t.SpacesPerTab = spacesPerTab, $t.MaxLineWidth = maxLineWidth, $t.ExpandCommaLists = expandCommaLists, $t.TrailingCommas = trailingCommas, $t.SpaceAfterExpandedComma = spaceAfterExpandedComma, $t.ExpandBooleanExpressions = expandBooleanExpressions, $t.ExpandBetweenConditions = expandBetweenConditions, $t.ExpandCaseStatements = expandCaseStatements, $t.UppercaseKeywords = uppercaseKeywords, $t.BreakJoinOnSections = breakJoinOnSections, $t.HTMLColoring = htmlColoring, $t.KeywordStandardization = keywordStandardization, $t);

                if (keywordStandardization) {
                    this.KeywordMapping = PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance;
                }
                this.ErrorOutputPrefix = System.String.concat(PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage, '\n');
        }
    },
    methods: {
        FormatSQLTree: function (sqlTreeDoc) {
            //thread-safe - each call to FormatSQLTree() gets its own independent state object
            var state = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState.$ctor1(this.Options.HTMLColoring, this.Options.IndentString, this.Options.SpacesPerTab, this.Options.MaxLineWidth, 0);

            if (Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) && Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1")) {
                state.AddOutputContent(this.ErrorOutputPrefix);
            }

            this.ProcessSqlNodeList(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);

            this.WhiteSpace_BreakAsExpected(state);

            //someone forgot to close a "[noformat]" or "[minify]" region... we'll assume that's ok
            if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat)) {
                var skippedXml = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, sqlTreeDoc);
                var tempFormatter = new PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1(this.Options.HTMLColoring);
                state.AddOutputContentRaw(tempFormatter.FormatSQLTree(skippedXml));
            } else if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify)) {
                var skippedXml1 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, sqlTreeDoc);
                var tempFormatter1 = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.ctor();
                if (this.HTMLFormatted) {
                    state.AddOutputContentRaw(PoorMansTSqlFormatterLib.Utils.HtmlEncode(tempFormatter1.FormatSQLTree(skippedXml1)));
                } else {
                    state.AddOutputContentRaw(tempFormatter1.FormatSQLTree(skippedXml1));
                }
            }
            return state.DumpOutput();
        },
        ProcessSqlNodeList: function (rootList, state) {
            var $t;
            $t = Bridge.getEnumerator(rootList, PoorMansTSqlFormatterLib.ParseStructure.Node);
            try {
                while ($t.moveNext()) {
                    var contentElement = $t.Current;
                    this.ProcessSqlNode(contentElement, state);
                }
            } finally {
                if (Bridge.is($t, System.IDisposable)) {
                    $t.System$IDisposable$dispose();
                }
            }},
        ProcessSqlNode: function (contentElement, state) {
            var $t, $t1, $t2;
            var initialIndent = state.IndentLevel;

            if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                state.OpenClass(PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_ERRORHIGHLIGHT);
            }

            switch (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name) {
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT: 
                    this.WhiteSpace_SeparateStatements(contentElement, state);
                    state.ResetKeywords();
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    state.StatementBreakExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE: 
                    state.UnIndentInitialBreak = true;
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                    state.DecrementIndent();
                    if (this.Options.NewClauseLineBreaks > 0) {
                        state.BreakExpected = true;
                    }
                    if (this.Options.NewClauseLineBreaks > 1) {
                        state.AdditionalBreaksExpected = (this.Options.NewClauseLineBreaks - 1) | 0;
                    }
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE: 
                    state.DecrementIndent();
                    state.WhiteSpace_BreakToNextLine(); //this is the one already recommended by the start of the clause
                    state.WhiteSpace_BreakToNextLine(); //this is the one we additionally want to apply
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                    state.BreakExpected = true;
                    state.AdditionalBreaksExpected = 1;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR: 
                    //newline regardless of whether previous element recommended a break or not.
                    state.WhiteSpace_BreakToNextLine();
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    state.BreakExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET: 
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND: 
                    this.WhiteSpace_SeparateWords(state);
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION: 
                    var singleStatementIsIf = false;
                    $t = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT), PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var statement = $t.Current;
                            $t1 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(statement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                            try {
                                while ($t1.moveNext()) {
                                    var clause = $t1.Current;
                                    $t2 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(clause, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                    try {
                                        while ($t2.moveNext()) {
                                            var ifStatement = $t2.Current;
                                            singleStatementIsIf = true;
                                        }
                                    } finally {
                                        if (Bridge.is($t2, System.IDisposable)) {
                                            $t2.System$IDisposable$dispose();
                                        }
                                    }
                                }
                            } finally {
                                if (Bridge.is($t1, System.IDisposable)) {
                                    $t1.System$IDisposable$dispose();
                                }
                            }
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }if (singleStatementIsIf && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                        //artificially decrement indent and skip new statement break for "ELSE IF" constructs
                        state.DecrementIndent();
                    } else {
                        state.BreakExpected = true;
                    }
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    if (singleStatementIsIf && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                        //bring indent back to symmetrical level
                        state.IncrementIndent();
                    }
                    state.StatementBreakExpected = false; //the responsibility for breaking will be with the OUTER statement; there should be no consequence propagating out from statements in this container;
                    state.UnIndentInitialBreak = false; //if there was no word spacing after the last content statement's clause starter, doesn't mean the unIndent should propagate to the following content!
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN: 
                    state.BreakExpected = true;
                    state.UnIndentInitialBreak = true;
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                    state.DecrementIndent();
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION: 
                    if (this.Options.BreakJoinOnSections) {
                        state.BreakExpected = true;
                    }
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                    if (this.Options.BreakJoinOnSections) {
                        state.IncrementIndent();
                    }
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state);
                    if (this.Options.BreakJoinOnSections) {
                        state.DecrementIndent();
                    }
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS: 
                    state.UnIndentInitialBreak = true;
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE: 
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state.DecrementIndent());
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT), state.IncrementIndent());
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK: 
                    state.BreakExpected = true;
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state.DecrementIndent());
                    state.BreakExpected = true;
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state);
                    state.IncrementIndent();
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION: 
                    state.DecrementIndent();
                    state.WhiteSpace_BreakToNextLine();
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK: 
                    state.BreakExpected = true;
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state.DecrementIndent());
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state.IncrementIndent());
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN: 
                    state.BreakExpected = true;
                    state.UnIndentInitialBreak = true;
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION: 
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                    state.IncrementIndent();
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND), state.IncrementIndent());
                    if (this.Options.ExpandBetweenConditions) {
                        state.BreakExpected = true;
                    }
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE), state.DecrementIndent());
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND), state.IncrementIndent());
                    state.DecrementIndent();
                    state.DecrementIndent();
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS: 
                    //simply process sub-nodes - don't add space or expect any linebreaks (but respect linebreaks if necessary)
                    state.WordSeparatorExpected = false;
                    this.WhiteSpace_BreakAsExpected(state);
                    state.AddOutputContent$1(this.FormatOperator("("), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                    state.DecrementIndent();
                    this.WhiteSpace_BreakAsExpected(state);
                    state.AddOutputContent$1(this.FormatOperator(")"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS: 
                    this.WhiteSpace_SeparateWords(state);
                    if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS)) {
                        state.IncrementIndent();
                    }
                    state.AddOutputContent$1(this.FormatOperator("("), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                    var innerState = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState.ctor(state);
                    this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, innerState);
                    //if there was a linebreak in the parens content, or if it wanted one to follow, then put linebreaks before and after.
                    if (innerState.BreakExpected || innerState.OutputContainsLineBreak) {
                        if (!innerState.StartsWithBreak) {
                            state.WhiteSpace_BreakToNextLine();
                        }
                        state.Assimilate(innerState);
                        state.WhiteSpace_BreakToNextLine();
                    } else {
                        state.Assimilate(innerState);
                    }
                    state.AddOutputContent$1(this.FormatOperator(")"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                    if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS)) {
                        state.DecrementIndent();
                    }
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK: 
                    if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                        state.DecrementIndent();
                    }
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT), state);
                    state.DecrementIndent();
                    state.BreakExpected = true;
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE), state);
                    state.IncrementIndent();
                    if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                        state.IncrementIndent();
                    }
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT: 
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                    state.IncrementIndent();
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT), state);
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN), state);
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE), state);
                    if (this.Options.ExpandCaseStatements) {
                        state.BreakExpected = true;
                    }
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE), state);
                    state.DecrementIndent();
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE: 
                    if (this.Options.ExpandCaseStatements) {
                        state.BreakExpected = true;
                    }
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state.IncrementIndent());
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN), state);
                    state.DecrementIndent();
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR: 
                    if (this.Options.ExpandBooleanExpressions) {
                        state.BreakExpected = true;
                    }
                    this.ProcessSqlNode(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD), state);
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE: 
                    if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/NOFORMAT]")) {
                        var skippedXml = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                        if (skippedXml != null) {
                            var tempFormatter = new PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1(this.Options.HTMLColoring);
                            state.AddOutputContentRaw(tempFormatter.FormatSQLTree(skippedXml));
                            state.WordSeparatorExpected = false;
                            state.BreakExpected = false;
                        }
                        state.SpecialRegionActive = null;
                        state.RegionStartNode = null;
                    } else if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/MINIFY]")) {
                        var skippedXml1 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                        if (skippedXml1 != null) {
                            var tempFormatter1 = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.ctor();
                            if (this.HTMLFormatted) {
                                state.AddOutputContentRaw(PoorMansTSqlFormatterLib.Utils.HtmlEncode(tempFormatter1.FormatSQLTree(skippedXml1)));
                            } else {
                                state.AddOutputContentRaw(tempFormatter1.FormatSQLTree(skippedXml1));
                            }
                            state.WordSeparatorExpected = false;
                            state.BreakExpected = false;
                        }
                        state.SpecialRegionActive = null;
                        state.RegionStartNode = null;
                    }
                    this.WhiteSpace_SeparateComment(contentElement, state);
                    state.AddOutputContent$1(System.String.concat("/*", contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "*/"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                    if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) || (PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(contentElement) != null && System.String.equals(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(contentElement).PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE) && System.Text.RegularExpressions.Regex.isMatch(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(contentElement).PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+"))) {
                        state.BreakExpected = true;
                    } else {
                        state.WordSeparatorExpected = true;
                    }
                    if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[NOFORMAT]")) {
                        //state.AddOutputLineBreak();
                        state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat;
                        state.RegionStartNode = contentElement;
                    } else if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[MINIFY]")) {
                        //state.AddOutputLineBreak();
                        state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify;
                        state.RegionStartNode = contentElement;
                    }
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE: 
                    if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/NOFORMAT]")) {
                        var skippedXml2 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                        if (skippedXml2 != null) {
                            var tempFormatter2 = new PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1(this.Options.HTMLColoring);
                            state.AddOutputContentRaw(tempFormatter2.FormatSQLTree(skippedXml2));
                            state.WordSeparatorExpected = false;
                            state.BreakExpected = false;
                        }
                        state.SpecialRegionActive = null;
                        state.RegionStartNode = null;
                    } else if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/MINIFY]")) {
                        var skippedXml3 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                        if (skippedXml3 != null) {
                            var tempFormatter3 = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.ctor();
                            if (this.HTMLFormatted) {
                                state.AddOutputContentRaw(PoorMansTSqlFormatterLib.Utils.HtmlEncode(tempFormatter3.FormatSQLTree(skippedXml3)));
                            } else {
                                state.AddOutputContentRaw(tempFormatter3.FormatSQLTree(skippedXml3));
                            }
                            state.WordSeparatorExpected = false;
                            state.BreakExpected = false;
                        }
                        state.SpecialRegionActive = null;
                        state.RegionStartNode = null;
                    }
                    this.WhiteSpace_SeparateComment(contentElement, state);
                    state.AddOutputContent$1(System.String.concat((Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE) ? "--" : "//"), System.String.replaceAll(System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\r", ""), "\n", "")), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                    state.BreakExpected = true;
                    state.SourceBreakPending = true;
                    if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[NOFORMAT]")) {
                        state.AddOutputLineBreak();
                        state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat;
                        state.RegionStartNode = contentElement;
                    } else if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[MINIFY]")) {
                        state.AddOutputLineBreak();
                        state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify;
                        state.RegionStartNode = contentElement;
                    }
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING: 
                    this.WhiteSpace_SeparateWords(state);
                    var outValue = null;
                    if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING)) {
                        outValue = System.String.concat("N'", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''"), "'");
                    } else {
                        outValue = System.String.concat("'", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''"), "'");
                    }
                    state.AddOutputContent$1(outValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_STRING);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent(System.String.concat("[", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "]", "]]"), "]"));
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent(System.String.concat("\"", System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\"", "\"\""), "\""));
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA: 
                    //comma always ignores requested word spacing
                    if (this.Options.TrailingCommas) {
                        this.WhiteSpace_BreakAsExpected(state);
                        state.AddOutputContent$1(this.FormatOperator(","), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);

                        if ((this.Options.ExpandCommaLists && !(System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) || (this.Options.ExpandInLists && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) {
                            state.BreakExpected = true;
                        } else {
                            state.WordSeparatorExpected = true;
                        }
                    } else {
                        if ((this.Options.ExpandCommaLists && !(System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) || (this.Options.ExpandInLists && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) {
                            state.WhiteSpace_BreakToNextLine();
                            state.AddOutputContent$1(this.FormatOperator(","), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                            if (this.Options.SpaceAfterExpandedComma) {
                                state.WordSeparatorExpected = true;
                            }
                        } else {
                            this.WhiteSpace_BreakAsExpected(state);
                            state.AddOutputContent$1(this.FormatOperator(","), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                            state.WordSeparatorExpected = true;
                        }

                    }
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR: 
                    //always ignores requested word spacing, and doesn't request a following space either.
                    state.WordSeparatorExpected = false;
                    this.WhiteSpace_BreakAsExpected(state);
                    state.AddOutputContent$1(this.FormatOperator(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent$1(this.FormatOperator(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD: 
                    this.WhiteSpace_SeparateWords(state);
                    state.SetRecentKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT));
                    state.AddOutputContent$1(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT)), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                    state.WordSeparatorExpected = true;
                    this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByNames(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_COMMENT), state.IncrementIndent());
                    state.DecrementIndent();
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD: 
                    this.WhiteSpace_SeparateWords(state);
                    state.SetRecentKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    state.AddOutputContent$1(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent$1(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD: 
                    this.WhiteSpace_SeparateWords(state);
                    state.SetRecentKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_FUNCTION);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE: 
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent(PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue));
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE: 
                    this.WhiteSpace_SeparateWords(state);
                    state.AddOutputContent("0x");
                    state.AddOutputContent(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue.substr(2)));
                    state.WordSeparatorExpected = true;
                    break;
                case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE: 
                    //take note if it's a line-breaking space, but don't DO anything here
                    if (System.Text.RegularExpressions.Regex.isMatch(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+")) {
                        state.SourceBreakPending = true;
                    }
                    break;
                default: 
                    throw new System.Exception("Unrecognized element in SQL Xml!");
            }

            if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                state.CloseClass();
            }

            if (initialIndent !== state.IndentLevel) {
                throw new System.Exception("Messed up the indenting!! Check code/stack or panic!");
            }
        },
        FormatKeyword: function (keyword) {
            var outputKeyword = { };
            if (!this.KeywordMapping.System$Collections$Generic$IDictionary$2$System$String$System$String$tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(keyword), outputKeyword)) {
                outputKeyword.v = keyword;
            }

            if (this.Options.UppercaseKeywords) {
                return PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(outputKeyword.v);
            } else {
                return PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(outputKeyword.v);
            }
        },
        FormatOperator: function (operatorValue) {
            if (this.Options.UppercaseKeywords) {
                return PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(operatorValue);
            } else {
                return PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(operatorValue);
            }
        },
        WhiteSpace_SeparateStatements: function (contentElement, state) {
            if (state.StatementBreakExpected) {
                //check whether this is a DECLARE/SET clause with similar precedent, and therefore exempt from double-linebreak.
                var thisClauseStarter = this.FirstSemanticElementChild(contentElement);
                if (!(thisClauseStarter != null && System.String.equals(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && state.GetRecentKeyword() != null && ((System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "SET") && System.String.equals(state.GetRecentKeyword(), "SET")) || (System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "DECLARE") && System.String.equals(state.GetRecentKeyword(), "DECLARE")) || (System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "PRINT") && System.String.equals(state.GetRecentKeyword(), "PRINT"))))) {
                    for (var i = this.Options.NewStatementLineBreaks; i > 0; i = (i - 1) | 0) {
                        state.AddOutputLineBreak();
                    }
                } else {
                    for (var i1 = this.Options.NewClauseLineBreaks; i1 > 0; i1 = (i1 - 1) | 0) {
                        state.AddOutputLineBreak();
                    }
                }

                state.Indent(state.IndentLevel);
                state.BreakExpected = false;
                state.AdditionalBreaksExpected = 0;
                state.SourceBreakPending = false;
                state.StatementBreakExpected = false;
                state.WordSeparatorExpected = false;
            }
        },
        FirstSemanticElementChild: function (contentElement) {
            var target = null;
            while (contentElement != null) {
                target = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).firstOrDefault(null, null);

                if (target != null && System.Array.contains(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONSEMANTICCONTENT, target.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, System.String)) {
                    contentElement = target;
                } else {
                    contentElement = null;
                }
            }

            return target;
        },
        WhiteSpace_SeparateWords: function (state) {
            if (state.BreakExpected || state.AdditionalBreaksExpected > 0) {
                var wasUnIndent = state.UnIndentInitialBreak;
                if (wasUnIndent) {
                    state.DecrementIndent();
                }
                this.WhiteSpace_BreakAsExpected(state);
                if (wasUnIndent) {
                    state.IncrementIndent();
                }
            } else if (state.WordSeparatorExpected) {
                state.AddOutputSpace();
            }
            state.UnIndentInitialBreak = false;
            state.SourceBreakPending = false;
            state.WordSeparatorExpected = false;
        },
        WhiteSpace_SeparateComment: function (contentElement, state) {
            if (state.CurrentLineHasContent && state.SourceBreakPending) {
                state.BreakExpected = true;
                this.WhiteSpace_BreakAsExpected(state);
            } else if (state.WordSeparatorExpected) {
                state.AddOutputSpace();
            }
            state.SourceBreakPending = false;
            state.WordSeparatorExpected = false;
        },
        WhiteSpace_BreakAsExpected: function (state) {
            if (state.BreakExpected) {
                state.WhiteSpace_BreakToNextLine();
            }
            while (state.AdditionalBreaksExpected > 0) {
                state.WhiteSpace_BreakToNextLine();
                state.AdditionalBreaksExpected = (state.AdditionalBreaksExpected - 1) | 0;
            }
        }
    }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState", {
        inherits: [PoorMansTSqlFormatterLib.BaseFormatterState],
        statics: {
            fields: {
                _startsWithBreakChecker: null,
                _lineBreakMatcher: null
            },
            ctors: {
                init: function () {
                    this._startsWithBreakChecker = new System.Text.RegularExpressions.Regex.ctor("^\\s*(\\r|\\n)", 0);
                    this._lineBreakMatcher = new System.Text.RegularExpressions.Regex.ctor("(\\r|\\n)+");
                }
            }
        },
        fields: {
            _mostRecentKeywordsAtEachLevel: null
        },
        props: {
            IndentString: null,
            IndentLength: 0,
            MaxLineWidth: 0,
            StatementBreakExpected: false,
            BreakExpected: false,
            WordSeparatorExpected: false,
            SourceBreakPending: false,
            AdditionalBreaksExpected: 0,
            UnIndentInitialBreak: false,
            IndentLevel: 0,
            CurrentLineLength: 0,
            CurrentLineHasContent: false,
            SpecialRegionActive: null,
            RegionStartNode: null,
            StartsWithBreak: {
                get: function () {
                    return PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState._startsWithBreakChecker.isMatch(this._outBuilder.toString());
                }
            },
            OutputContainsLineBreak: {
                get: function () {
                    return PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState._lineBreakMatcher.isMatch(this._outBuilder.toString());
                }
            }
        },
        ctors: {
            init: function () {
                this._mostRecentKeywordsAtEachLevel = new (System.Collections.Generic.Dictionary$2(System.Int32,System.String))();
            },
            $ctor1: function (htmlOutput, indentString, spacesPerTab, maxLineWidth, initialIndentLevel) {
                this.$initialize();
                PoorMansTSqlFormatterLib.BaseFormatterState.ctor.call(this, htmlOutput);
                this.IndentLevel = initialIndentLevel;
                this.HtmlOutput = htmlOutput;
                this.IndentString = indentString;
                this.MaxLineWidth = maxLineWidth;

                var tabCount = (System.String.split(indentString, [9].map(function(i) {{ return String.fromCharCode(i); }})).length - 1) | 0;
                var tabExtraCharacters = (tabCount * (((spacesPerTab - 1) | 0))) | 0;
                this.IndentLength = (indentString.length + tabExtraCharacters) | 0;
            },
            ctor: function (sourceState) {
                this.$initialize();
                PoorMansTSqlFormatterLib.BaseFormatterState.ctor.call(this, sourceState.HtmlOutput);
                this.IndentLevel = sourceState.IndentLevel;
                this.HtmlOutput = sourceState.HtmlOutput;
                this.IndentString = sourceState.IndentString;
                this.IndentLength = sourceState.IndentLength;
                this.MaxLineWidth = sourceState.MaxLineWidth;
                //TODO: find a way out of the cross-dependent wrapping maze...
                //CurrentLineLength = sourceState.CurrentLineLength;
                this.CurrentLineLength = (this.IndentLevel * this.IndentLength) | 0;
                this.CurrentLineHasContent = sourceState.CurrentLineHasContent;
            }
        },
        methods: {
            AddOutputContent: function (content) {
                if (this.SpecialRegionActive == null) {
                    this.AddOutputContent$1(content, null);
                }
            },
            AddOutputContent$1: function (content, htmlClassName) {
                if (this.CurrentLineHasContent && (((content.length + this.CurrentLineLength) | 0) > this.MaxLineWidth)) {
                    this.WhiteSpace_BreakToNextLine();
                }

                if (this.SpecialRegionActive == null) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, content, htmlClassName);
                }

                this.CurrentLineHasContent = true;
                this.CurrentLineLength = (this.CurrentLineLength + content.length) | 0;
            },
            AddOutputLineBreak: function () {
                //hints for debugging line-width issues:
                //_outBuilder.Append(" (" + CurrentLineLength.ToString(System.Globalization.CultureInfo.InvariantCulture) + ")");

                //if linebreaks are added directly in the content (eg in comments or strings), they 
                // won't be accounted for here - that's ok.
                if (this.SpecialRegionActive == null) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputLineBreak.call(this);
                }
                this.CurrentLineLength = 0;
                this.CurrentLineHasContent = false;
            },
            AddOutputSpace: function () {
                if (this.SpecialRegionActive == null) {
                    this._outBuilder.append(" ");
                }
            },
            Indent: function (indentLevel) {
                for (var i = 0; i < indentLevel; i = (i + 1) | 0) {
                    if (this.SpecialRegionActive == null) {
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, this.IndentString, "");
                    } //that is, add the indent as HTMLEncoded content if necessary, but no weird linebreak-adding
                    this.CurrentLineLength = (this.CurrentLineLength + this.IndentLength) | 0;
                }
            },
            WhiteSpace_BreakToNextLine: function () {
                this.AddOutputLineBreak();
                this.Indent(this.IndentLevel);
                this.BreakExpected = false;
                this.SourceBreakPending = false;
                this.WordSeparatorExpected = false;
            },
            Assimilate: function (partialState) {
                //TODO: find a way out of the cross-dependent wrapping maze...
                this.CurrentLineLength = (this.CurrentLineLength + partialState.CurrentLineLength) | 0;
                this.CurrentLineHasContent = this.CurrentLineHasContent || partialState.CurrentLineHasContent;
                if (this.SpecialRegionActive == null) {
                    this._outBuilder.append(partialState.DumpOutput());
                }
            },
            IncrementIndent: function () {
                this.IndentLevel = (this.IndentLevel + 1) | 0;
                return this;
            },
            DecrementIndent: function () {
                this.IndentLevel = (this.IndentLevel - 1) | 0;
                return this;
            },
            SetRecentKeyword: function (ElementName) {
                if (!this._mostRecentKeywordsAtEachLevel.containsKey(this.IndentLevel)) {
                    this._mostRecentKeywordsAtEachLevel.add(this.IndentLevel, PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(ElementName));
                }
            },
            GetRecentKeyword: function () {
                var $t;
                var keywordFound = null;
                var keywordFoundAt = null;
                $t = Bridge.getEnumerator(this._mostRecentKeywordsAtEachLevel.getKeys(), System.Int32);
                try {
                    while ($t.moveNext()) {
                        var key = $t.Current;
                        if ((keywordFoundAt == null || System.Nullable.getValue(keywordFoundAt) > key) && key >= this.IndentLevel) {
                            keywordFoundAt = key;
                            keywordFound = this._mostRecentKeywordsAtEachLevel.get(key);
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }return keywordFound;
            },
            ResetKeywords: function () {
                var $t, $t1;
                var descendentLevelKeys = new (System.Collections.Generic.List$1(System.Int32))();
                $t = Bridge.getEnumerator(this._mostRecentKeywordsAtEachLevel.getKeys(), System.Int32);
                try {
                    while ($t.moveNext()) {
                        var key = $t.Current;
                        if (key >= this.IndentLevel) {
                            descendentLevelKeys.add(key);
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }$t1 = Bridge.getEnumerator(descendentLevelKeys);
                try {
                    while ($t1.moveNext()) {
                        var key1 = $t1.Current;
                        this._mostRecentKeywordsAtEachLevel.remove(key1);
                    }
                } finally {
                    if (Bridge.is($t1, System.IDisposable)) {
                        $t1.System$IDisposable$dispose();
                    }
                }}
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ITokenList", {
        inherits: [System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.Interfaces.IToken)],
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTokenParser],
        statics: {
            fields: {
                _JoinDetector: null,
                _CursorDetector: null,
                _TriggerConditionDetector: null
            },
            props: {
                KeywordList: null
            },
            ctors: {
                init: function () {
                    this._JoinDetector = new System.Text.RegularExpressions.Regex.ctor("^((RIGHT|INNER|LEFT|CROSS|FULL) )?(OUTER )?((HASH|LOOP|MERGE|REMOTE) )?(JOIN|APPLY) ");
                    this._CursorDetector = new System.Text.RegularExpressions.Regex.ctor("^DECLARE (?:[#\\$0-9@-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D])+ ((INSENSITIVE|SCROLL) ){0,2}CURSOR ");
                    this._TriggerConditionDetector = new System.Text.RegularExpressions.Regex.ctor("^(FOR|AFTER|INSTEAD OF)( (INSERT|UPDATE|DELETE) (, (INSERT|UPDATE|DELETE) )?(, (INSERT|UPDATE|DELETE) )?)");
                },
                ctor: function () {
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.InitializeKeywordList();
                    System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList).take(3);
                }
            },
            methods: {
                ContentStartsWithKeyword: function (providedContainer, contentToMatch) {
                    var firstEntryOfProvidedContainer = Bridge.cast(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.RootContainer(providedContainer), PoorMansTSqlFormatterLib.ParseTree).GetFirstNonWhitespaceNonCommentChildElement(providedContainer);
                    var targetFound = false;
                    var keywordUpperValue = null;

                    if (firstEntryOfProvidedContainer != null && System.String.equals(firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue != null) {
                        keywordUpperValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    }

                    if (firstEntryOfProvidedContainer != null && System.String.equals(firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD)) {
                        keywordUpperValue = firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT);
                    }

                    if (keywordUpperValue != null) {
                        targetFound = System.String.equals(keywordUpperValue, contentToMatch) || System.String.startsWith(keywordUpperValue, System.String.concat(contentToMatch, " "));
                    } else {
                        //if contentToMatch was passed in as null, means we were looking for a NON-keyword.
                        targetFound = contentToMatch == null;
                    }

                    return targetFound;
                },
                IsStatementStarter: function (token) {
                    //List created from experience, and augmented with individual sections of MSDN:
                    // http://msdn.microsoft.com/en-us/library/ff848799.aspx
                    // http://msdn.microsoft.com/en-us/library/ff848727.aspx
                    // http://msdn.microsoft.com/en-us/library/ms174290.aspx
                    // etc...
                    var uppercaseValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                    return (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode && (System.String.equals(uppercaseValue, "ALTER") || System.String.equals(uppercaseValue, "BACKUP") || System.String.equals(uppercaseValue, "BREAK") || System.String.equals(uppercaseValue, "CLOSE") || System.String.equals(uppercaseValue, "CHECKPOINT") || System.String.equals(uppercaseValue, "COMMIT") || System.String.equals(uppercaseValue, "CONTINUE") || System.String.equals(uppercaseValue, "CREATE") || System.String.equals(uppercaseValue, "DBCC") || System.String.equals(uppercaseValue, "DEALLOCATE") || System.String.equals(uppercaseValue, "DELETE") || System.String.equals(uppercaseValue, "DECLARE") || System.String.equals(uppercaseValue, "DENY") || System.String.equals(uppercaseValue, "DROP") || System.String.equals(uppercaseValue, "EXEC") || System.String.equals(uppercaseValue, "EXECUTE") || System.String.equals(uppercaseValue, "FETCH") || System.String.equals(uppercaseValue, "GOTO") || System.String.equals(uppercaseValue, "GRANT") || System.String.equals(uppercaseValue, "IF") || System.String.equals(uppercaseValue, "INSERT") || System.String.equals(uppercaseValue, "KILL") || System.String.equals(uppercaseValue, "MERGE") || System.String.equals(uppercaseValue, "OPEN") || System.String.equals(uppercaseValue, "PRINT") || System.String.equals(uppercaseValue, "RAISERROR") || System.String.equals(uppercaseValue, "RECONFIGURE") || System.String.equals(uppercaseValue, "RESTORE") || System.String.equals(uppercaseValue, "RETURN") || System.String.equals(uppercaseValue, "REVERT") || System.String.equals(uppercaseValue, "REVOKE") || System.String.equals(uppercaseValue, "SELECT") || System.String.equals(uppercaseValue, "SET") || System.String.equals(uppercaseValue, "SETUSER") || System.String.equals(uppercaseValue, "SHUTDOWN") || System.String.equals(uppercaseValue, "TRUNCATE") || System.String.equals(uppercaseValue, "UPDATE") || System.String.equals(uppercaseValue, "USE") || System.String.equals(uppercaseValue, "WAITFOR") || System.String.equals(uppercaseValue, "WHILE")));
                },
                IsClauseStarter: function (token) {
                    //Note: some clause starters are handled separately: Joins, RETURNS clauses, etc.
                    var uppercaseValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                    return (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode && (System.String.equals(uppercaseValue, "DELETE") || System.String.equals(uppercaseValue, "EXCEPT") || System.String.equals(uppercaseValue, "FOR") || System.String.equals(uppercaseValue, "FROM") || System.String.equals(uppercaseValue, "GROUP") || System.String.equals(uppercaseValue, "HAVING") || System.String.equals(uppercaseValue, "INNER") || System.String.equals(uppercaseValue, "INTERSECT") || System.String.equals(uppercaseValue, "INTO") || System.String.equals(uppercaseValue, "INSERT") || System.String.equals(uppercaseValue, "MERGE") || System.String.equals(uppercaseValue, "ORDER") || System.String.equals(uppercaseValue, "OUTPUT") || System.String.equals(uppercaseValue, "PIVOT") || System.String.equals(uppercaseValue, "RETURNS") || System.String.equals(uppercaseValue, "SELECT") || System.String.equals(uppercaseValue, "UNION") || System.String.equals(uppercaseValue, "UNPIVOT") || System.String.equals(uppercaseValue, "UPDATE") || System.String.equals(uppercaseValue, "USING") || System.String.equals(uppercaseValue, "VALUES") || System.String.equals(uppercaseValue, "WHERE") || System.String.equals(uppercaseValue, "WITH")));
                },
                IsLineBreakingWhiteSpaceOrComment: function (token) {
                    return (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace && System.Text.RegularExpressions.Regex.isMatch(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "(\\r|\\n)+")) || token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment;
                },
                InitializeKeywordList: function () {
                    //List originally copied from Side by Side SQL Comparer project from CodeProject:
                    // http://www.codeproject.com/KB/database/SideBySideSQLComparer.aspx
                    // Added some entries that are not strictly speaking keywords, such as 
                    // cursor options "READ_ONLY", "FAST_FORWARD", etc.
                    // also added numerous missing entries, such as "Xml", etc
                    // Could/Should check against MSDN Ref: http://msdn.microsoft.com/en-us/library/ms189822.aspx
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList = new (System.Collections.Generic.Dictionary$2(System.String,PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType))();
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@CONNECTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@CPU_BUSY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@CURSOR_ROWS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@DATEFIRST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@DBTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@ERROR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@FETCH_STATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@IDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@IDLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@IO_BUSY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@LANGID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@LANGUAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@LOCK_TIMEOUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@MAX_CONNECTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@MAX_PRECISION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@NESTLEVEL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@OPTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PACKET_ERRORS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PACK_RECEIVED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PACK_SENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PROCID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@REMSERVER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@ROWCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@SERVERNAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@SERVICENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@SPID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TEXTSIZE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TIMETICKS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TOTAL_ERRORS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TOTAL_READ", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TOTAL_WRITE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TRANCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@VERSION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ABS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ACOS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ACTIVATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ADD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ALL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ALTER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_DEFAULTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_NULLS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_NULL_DFLT_OFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_NULL_DFLT_ON", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_PADDING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_WARNINGS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("APP_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ARITHABORT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ARITHIGNORE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ASC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ASCII", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ASIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ATAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ATN2", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AUTHORIZATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AVG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BACKUP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BEGIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BETWEEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BIGINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BINARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BREAK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BROWSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BULK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CALLER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CASCADE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CASE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CAST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CATALOG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CEILING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHARACTER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHARINDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKALLOC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKCATALOG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKCONSTRAINTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKDB", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKFILEGROUP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKIDENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKPOINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKSUM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKSUM_AGG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CLEANTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CLOSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CLUSTERED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COALESCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLLATIONPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLLECTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLUMN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLUMNPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COL_LENGTH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COL_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COMMIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COMPUTE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONCAT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONCAT_NULL_YIELDS_NULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONCURRENCYVIOLATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONFIRM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONSTRAINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTAINS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTAINSTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTINUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTROL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTROLROW", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONVERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COUNT_BIG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CREATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CROSS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_DATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_TIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_TIMESTAMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURSOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURSOR_CLOSE_ON_COMMIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURSOR_STATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATABASE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATABASEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATABASEPROPERTYEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATALENGTH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEADD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEDIFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEFIRST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEFORMAT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEPART", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATETIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATETIME2", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATETIMEOFFSET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DAY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DBCC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DBREINDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DBREPAIR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DB_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DB_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEADLOCK_PRIORITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEALLOCATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DECIMAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DECLARE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEFAULT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEFINITION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEGREES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DELAY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DELETE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DENY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DESC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DIFFERENCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISABLE_DEF_CNST_CHK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISTINCT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISTRIBUTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DOUBLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DROP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DROPCLEANBUFFERS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DUMMY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DUMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DYNAMIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ELSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ENCRYPTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ERRLVL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ERROREXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ESCAPE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXCEPT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXEC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXECUTE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXISTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXPAND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXTERNAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FAST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FAST_FORWARD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FASTFIRSTROW", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FETCH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEGROUPPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEGROUP_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEGROUP_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE_IDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILLFACTOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FIPS_FLAGGER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FLOAT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FLOOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FLOPPY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FMTONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORCED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORCEPLAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FOREIGN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORMATMESSAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORWARD_ONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREEPROCCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREESESSIONCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREESYSTEMCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREETEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREETEXTTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FROM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULLTEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULLTEXTCATALOGPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULLTEXTSERVICEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FUNCTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GEOGRAPHY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETANCESTOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETANSINULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETDATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETDESCENDANT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETLEVEL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETREPARENTEDVALUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETROOT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GLOBAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GOTO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GRANT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GROUP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GROUPING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HASH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HAVING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HELP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HIERARCHYID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HOLDLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HOST_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HOST_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENTITYCOL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENTITY_INSERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENT_CURRENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENT_INCR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENT_SEED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IGNORE_CONSTRAINTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IGNORE_TRIGGERS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IMAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IMPLICIT_TRANSACTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEXDEFRAG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEXKEY_PROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEXPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEX_COL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INNER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INPUTBUFFER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INSENSITIVE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INSERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INTEGER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INTERSECT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INTO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISDATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISDESCENDANTOF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISNULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISNUMERIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISOLATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IS_MEMBER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IS_SRVROLEMEMBER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("JOIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEPDEFAULTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEPFIXED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEPIDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEYSET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KILL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LANGUAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LEFT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LEVEL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LIKE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LINENO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOAD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOCAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOCK_TIMEOUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOG10", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOGIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOOP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOWER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LTRIM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MATCHED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAX_QUEUE_READERS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAXDOP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAXRECURSION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MERGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MIRROREXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MODIFY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MONEY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MONTH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MOVE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NAMES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NATIONAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NCHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NEWID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOCHECK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NODES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOEXEC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOEXPAND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NONCLUSTERED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOWAIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NTEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NTILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NULLIF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NUMERIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NUMERIC_ROUNDABORT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NVARCHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECTPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECTPROPERTYEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECT_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECT_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OFFSETS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ON", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ONCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENDATASOURCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENQUERY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENROWSET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENTRAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPTIMIZE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPTIMISTIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ORDER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUTER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUTPUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUTPUTBUFFER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OVER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OWNER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PAGLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARAMETERIZATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARSENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARSEONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARTITION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PATINDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERCENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERMANENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERMISSIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PI", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PINTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PIPE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PLAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("POWER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PREPARE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PRIMARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PRINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PRIVILEGES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCEDURE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCEDURE_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCESSEXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROFILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PUBLIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUERY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUERY_GOVERNOR_COST_LIMIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUEUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUOTED_IDENTIFIER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUOTENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RADIANS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RAISERROR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RAND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READ", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READCOMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READCOMMITTEDLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READPAST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READTEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READUNCOMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READ_ONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RECOMPILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RECONFIGURE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REFERENCES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REMOTE_PROC_TRANSACTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPEATABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPEATABLEREAD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPLACE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPLICATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPLICATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RESTORE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RESTRICT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RETURN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RETURNS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REVERSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REVERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REVOKE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RIGHT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROBUST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROLLBACK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROUND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWGUIDCOL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWVERSION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RTRIM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RULE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SAVE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCHEMA", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCHEMA_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCHEMA_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCOPE_IDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCROLL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCROLL_LOCKS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SELECT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SELF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SERIALIZABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SERVER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SERVERPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SESSIONPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SESSION_USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SETUSER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOWCONTIG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOWPLAN_ALL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOWPLAN_TEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOW_STATISTICS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHRINKDATABASE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHRINKFILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHUTDOWN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SIGN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SIMPLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SMALLDATETIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SMALLINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SMALLMONEY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SOME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SOUNDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SPACE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQLPERF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQL_VARIANT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQL_VARIANT_PROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQRT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQUARE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATISTICS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATS_DATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STDEV", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STDEVP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STOPLIST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STUFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUBSTRING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_SID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_SNAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SYNONYM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SYSNAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SYSTEM_USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TABLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TABLOCKX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TAPE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEMPORARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXTPTR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXTSIZE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXTVALID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("THEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword); //not strictly-speaking true, can also be keyword in WAITFOR TIME
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TIMESTAMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TINYINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TOP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TOSTRING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRACEOFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRACEON", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRACESTATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRANSACTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRIGGER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRUNCATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TSEQUAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPE_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPE_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPE_WARNING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNCOMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNICODE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNIQUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNIQUEIDENTIFIER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNKNOWN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNPINTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDATETEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDATEUSAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPPER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USEROPTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USER_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USER_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VALUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VALUES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARBINARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARCHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARYING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VIEW", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VIEWS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WAITFOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WHEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WHERE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WHILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WITH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WORK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WRITE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WRITETEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("XACT_ABORT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("XLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("XML", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("YEAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                }
            }
        },
        alias: ["ParseSQL", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenParser$ParseSQL"],
        methods: {
            ParseSQL: function (tokenList) {
                var $t, $t1, $t2, $t3;
                var sqlTree = new PoorMansTSqlFormatterLib.ParseTree(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT);
                sqlTree.StartNewStatement();

                var tokenCount = System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken);
                var tokenID = { v : 0 };
                while (tokenID.v < tokenCount) {
                    var token = System.Array.getItem(tokenList, tokenID.v, PoorMansTSqlFormatterLib.Interfaces.IToken);

                    switch (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type) {
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OpenParens: 
                            var firstNonCommentParensSibling = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                            var lastNonCommentParensSibling = sqlTree.GetLastNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                            var isInsertOrValuesClause = (firstNonCommentParensSibling != null && ((System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "INSERT")) || (System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT)), "INSERT ")) || (System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "VALUES"))));
                            if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE)) {
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS, "");
                            } else {
                                if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK)) {
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS, "");
                                } else {
                                    if (firstNonCommentParensSibling == null && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET)) {
                                        sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS, "");
                                    } else {
                                        if (firstNonCommentParensSibling != null && System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE)) {
                                            sqlTree.ConsiderStartingNewClause();
                                            sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS, "");
                                        } else if (this.IsLatestTokenADDLDetailValue(sqlTree)) {
                                            sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS, "");
                                        } else {
                                            if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK) || (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && (firstNonCommentParensSibling != null && System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "OPTION"))) || isInsertOrValuesClause) {
                                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS, "");
                                            } else {
                                                if ((lastNonCommentParensSibling != null && System.String.equals(lastNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR) && System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(lastNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "IN"))) {
                                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS, "");
                                                } else {
                                                    if (this.IsLatestTokenAMiscName(sqlTree)) {
                                                        sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS, "");
                                                    } else {
                                                        sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS, "");
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.CloseParens: 
                            //we're not likely to actually have a "SingleStatement" in parens, but 
                            // we definitely want the side-effects (all the lower-level escapes)
                            sqlTree.EscapeAnySingleOrPartialStatementContainers();
                            //check whether we expected to end the parens...
                            if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS)) {
                                sqlTree.MoveToAncestorContainer(1); //unspecified parent node...
                            } else if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK)) {
                                sqlTree.MoveToAncestorContainer$1(4, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT, "");
                            } else if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS))) {
                                sqlTree.MoveToAncestorContainer(2); //unspecified grandfather node.
                            } else {
                                sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, ")");
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode: 
                            //prepare multi-keyword detection by "peeking" up to 7 keywords ahead
                            var significantTokenPositions = this.GetSignificantTokenPositions(tokenList, tokenID.v, 7);
                            var significantTokensString = this.ExtractTokensString(tokenList, significantTokenPositions);
                            if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL)) {
                                //if we're in a permissions detail clause, we can expect all sorts of statements 
                                // starters and should ignore them all; the only possible keywords to escape are
                                // "ON" and "TO".
                                if (System.String.startsWith(significantTokensString, "ON ")) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (System.String.startsWith(significantTokensString, "TO ") || System.String.startsWith(significantTokensString, "FROM ")) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    //default to "some classification of permission"
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "CREATE PROC") || System.String.startsWith(significantTokensString, "CREATE FUNC") || System.String.startsWith(significantTokensString, "CREATE TRIGGER ") || System.String.startsWith(significantTokensString, "CREATE VIEW ") || System.String.startsWith(significantTokensString, "ALTER PROC") || System.String.startsWith(significantTokensString, "ALTER FUNC") || System.String.startsWith(significantTokensString, "ALTER TRIGGER ") || System.String.startsWith(significantTokensString, "ALTER VIEW ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._CursorDetector.isMatch(significantTokensString)) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) && PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._TriggerConditionDetector.isMatch(significantTokensString)) {
                                //horrible complicated forward-search, to avoid having to keep a different "Trigger Condition" state for Update, Insert and Delete statement-starting keywords 
                                var triggerConditions = PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._TriggerConditionDetector.match(significantTokensString);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION, "");
                                var triggerConditionType = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD, "");

                                //first set the "trigger condition type": FOR, INSTEAD OF, AFTER
                                var triggerConditionTypeSimpleText = triggerConditions.getGroups().get(1).getValue();
                                triggerConditionType.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT, triggerConditionTypeSimpleText);
                                var triggerConditionTypeNodeCount = System.String.split(triggerConditionTypeSimpleText, System.Array.init([32], System.Char).map(function(i) {{ return String.fromCharCode(i); }})).length; //there's probably a better way of counting words...
                                this.AppendNodesWithMapping(sqlTree, tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex(significantTokenPositions.getItem(0), significantTokenPositions.getItem(((triggerConditionTypeNodeCount - 1) | 0))), PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, triggerConditionType);

                                //then get the count of conditions (INSERT, UPDATE, DELETE) and add those too...
                                var triggerConditionNodeCount = (System.String.split(triggerConditions.getGroups().get(2).getValue(), System.Array.init([32], System.Char).map(function(i) {{ return String.fromCharCode(i); }})).length - 2) | 0; //there's probably a better way of counting words...
                                this.AppendNodesWithMapping(sqlTree, tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex(((significantTokenPositions.getItem(((triggerConditionTypeNodeCount - 1) | 0)) + 1) | 0), significantTokenPositions.getItem(((((triggerConditionTypeNodeCount + triggerConditionNodeCount) | 0) - 1) | 0))), PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, sqlTree.CurrentContainer);
                                tokenID.v = significantTokenPositions.getItem(((((triggerConditionTypeNodeCount + triggerConditionNodeCount) | 0) - 1) | 0));
                                sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK);
                            } else if (System.String.startsWith(significantTokensString, "FOR ")) {
                                sqlTree.EscapeAnyBetweenConditions();
                                sqlTree.EscapeAnySelectionTarget();
                                sqlTree.EscapeJoinCondition();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION)) {
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                    sqlTree.StartNewStatement();
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK)) {
                                    sqlTree.MoveToAncestorContainer$1(4, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    //Assume FOR clause if we're at clause level
                                    // (otherwise, eg in OPTIMIZE FOR UNKNOWN, this will just not do anything)
                                    sqlTree.ConsiderStartingNewClause();

                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "DECLARE ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "CREATE ") || System.String.startsWith(significantTokensString, "ALTER ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "GRANT ") || System.String.startsWith(significantTokensString, "DENY ") || System.String.startsWith(significantTokensString, "REVOKE ")) {
                                if (System.String.startsWith(significantTokensString, "GRANT ") && sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK) && sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer) == null) {
                                    //this MUST be a "WITH GRANT OPTION" option...
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                } else {
                                    sqlTree.ConsiderStartingNewStatement();
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL);
                                }
                            } else if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) && System.String.startsWith(significantTokensString, "RETURNS ")) {
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS, ""));
                            } else if (System.String.startsWith(significantTokensString, "AS ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK)) {
                                    var nextKeywordType = { v : new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType() };
                                    var isDataTypeDefinition = false;
                                    if (significantTokenPositions.Count > 1 && PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(System.Array.getItem(tokenList, significantTokenPositions.getItem(1), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value), nextKeywordType)) {
                                        if (nextKeywordType.v === PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword) {
                                            isDataTypeDefinition = true;
                                        }
                                    }

                                    if (isDataTypeDefinition) {
                                        //this is actually a data type declaration (redundant "AS"...), save as regular token.
                                        sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    } else {
                                        //this is the start of the object content definition
                                        sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                        sqlTree.StartNewStatement();
                                    }
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                    sqlTree.StartNewStatement();
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "BEGIN DISTRIBUTED TRANSACTION ") || System.String.startsWith(significantTokensString, "BEGIN DISTRIBUTED TRAN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION, ""), tokenID, significantTokenPositions, 3);
                            } else if (System.String.startsWith(significantTokensString, "BEGIN TRANSACTION ") || System.String.startsWith(significantTokensString, "BEGIN TRAN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "SAVE TRANSACTION ") || System.String.startsWith(significantTokensString, "SAVE TRAN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "COMMIT TRANSACTION ") || System.String.startsWith(significantTokensString, "COMMIT TRAN ") || System.String.startsWith(significantTokensString, "COMMIT WORK ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "COMMIT ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                            } else if (System.String.startsWith(significantTokensString, "ROLLBACK TRANSACTION ") || System.String.startsWith(significantTokensString, "ROLLBACK TRAN ") || System.String.startsWith(significantTokensString, "ROLLBACK WORK ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "ROLLBACK ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                            } else if (System.String.startsWith(significantTokensString, "BEGIN TRY ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                var newTryBlock = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK, "");
                                var tryContainerOpen = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "", newTryBlock);
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, tryContainerOpen, tokenID, significantTokenPositions, 2);
                                var tryMultiContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT, "", newTryBlock);
                                sqlTree.StartNewStatement$1(tryMultiContainer);
                            } else if (System.String.startsWith(significantTokensString, "BEGIN CATCH ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                var newCatchBlock = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK, "");
                                var catchContainerOpen = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "", newCatchBlock);
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, catchContainerOpen, tokenID, significantTokenPositions, 2);
                                var catchMultiContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT, "", newCatchBlock);
                                sqlTree.StartNewStatement$1(catchMultiContainer);
                            } else if (System.String.startsWith(significantTokensString, "BEGIN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT);
                                sqlTree.StartNewStatement();
                            } else if (System.String.startsWith(significantTokensString, "MERGE ")) {
                                //According to BOL, MERGE is a fully reserved keyword from compat 100 onwards, for the MERGE statement only.
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET);
                            } else if (System.String.startsWith(significantTokensString, "USING ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET);
                                } else {
                                    sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "ON ")) {
                                sqlTree.EscapeAnySelectionTarget();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (!sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) && !sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) && !sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && !sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) && !PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "SET")) {
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "CASE ")) {
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT);
                            } else if (System.String.startsWith(significantTokensString, "WHEN ")) {
                                sqlTree.EscapeMergeAction();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT) || (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN))) {
                                    if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT)) {
                                        sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    } else {
                                        sqlTree.MoveToAncestorContainer$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    }

                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if ((sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION)) || sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN)) {
                                    if (sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION)) {
                                        sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    } else {
                                        sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    }

                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "THEN ")) {
                                sqlTree.EscapeAnyBetweenConditions();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION);
                                    sqlTree.StartNewStatement();
                                } else {
                                    sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "OUTPUT ")) {
                                var isSprocArgument = false;

                                //We're looking for sproc calls - they can't be nested inside anything else (as far as I know)
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "EXEC") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "EXECUTE") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, null))) {
                                    isSprocArgument = true;
                                }

                                //Also proc definitions - argument lists without parens
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK)) {
                                    isSprocArgument = true;
                                }

                                if (!isSprocArgument) {
                                    sqlTree.EscapeMergeAction();
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "OPTION ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE)) {
                                    //"OPTION" keyword here is NOT indicative of a new clause.
                                } else {
                                    sqlTree.EscapeMergeAction();
                                    sqlTree.ConsiderStartingNewClause();
                                }
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "END TRY ")) {
                                sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK)) {
                                    //clause.statement.multicontainer.try
                                    var tryBlock = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                    var tryContainerClose = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, "", tryBlock);
                                    this.ProcessCompoundKeyword$1(tokenList, sqlTree, tryContainerClose, tokenID, significantTokenPositions, 2);
                                    sqlTree.CurrentContainer = tryBlock.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                } else {
                                    this.ProcessCompoundKeywordWithError(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                                }
                            } else if (System.String.startsWith(significantTokensString, "END CATCH ")) {
                                sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK)) {
                                    //clause.statement.multicontainer.catch
                                    var catchBlock = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                    var catchContainerClose = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, "", catchBlock);
                                    this.ProcessCompoundKeyword$1(tokenList, sqlTree, catchContainerClose, tokenID, significantTokenPositions, 2);
                                    sqlTree.CurrentContainer = catchBlock.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                } else {
                                    this.ProcessCompoundKeywordWithError(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                                }
                            } else if (System.String.startsWith(significantTokensString, "END ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN)) {
                                    sqlTree.MoveToAncestorContainer$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, ""));
                                    sqlTree.MoveToAncestorContainer(1); //unnamed container
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, ""));
                                    sqlTree.MoveToAncestorContainer(1); //unnamed container
                                } else {
                                    //Begin/End block handling
                                    sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                    if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK)) {
                                        var beginBlock = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                        var beginContainerClose = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, "", beginBlock);
                                        sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, beginContainerClose);
                                        sqlTree.CurrentContainer = beginBlock.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                    } else {
                                        sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    }
                                }
                            } else if (System.String.startsWith(significantTokensString, "GO ")) {
                                sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                if ((tokenID.v === 0 || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.IsLineBreakingWhiteSpaceOrComment(System.Array.getItem(tokenList, ((tokenID.v - 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken))) && this.IsFollowedByLineBreakingWhiteSpaceOrSingleLineCommentOrEnd(tokenList, tokenID.v)) {
                                    // we found a batch separator - were we supposed to?
                                    if (sqlTree.FindValidBatchEnd()) {
                                        var sqlRoot = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.RootContainer(sqlTree);
                                        var batchSeparator = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR, "", sqlRoot);
                                        sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, batchSeparator);
                                        sqlTree.StartNewStatement$1(sqlRoot);
                                    } else {
                                        sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    }
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "EXECUTE AS ")) {
                                var executeAsInWithOptions = false;
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && (this.IsLatestTokenAComma(sqlTree) || !sqlTree.HasNonWhiteSpaceNonCommentContent(sqlTree.CurrentContainer))) {
                                    executeAsInWithOptions = true;
                                }

                                if (!executeAsInWithOptions) {
                                    sqlTree.ConsiderStartingNewStatement();
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "EXEC ") || System.String.startsWith(significantTokensString, "EXECUTE ")) {
                                var execShouldntTryToStartNewStatement = false;

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "INSERT") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "INSERT INTO"))) {
                                    var existingClauseCount = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null ? System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE)).count() : 0;
                                    if (existingClauseCount === 1) {
                                        execShouldntTryToStartNewStatement = true;
                                    }
                                }

                                if (!execShouldntTryToStartNewStatement) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                sqlTree.ConsiderStartingNewClause();

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._JoinDetector.isMatch(significantTokensString)) {
                                sqlTree.ConsiderStartingNewClause();
                                var joinText = PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._JoinDetector.match(significantTokensString).getValue();
                                var targetKeywordCount = System.String.split(joinText, System.Array.init([32], System.Char).map(function(i) {{ return String.fromCharCode(i); }}), null, 1).length;
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, targetKeywordCount);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET, "");
                            } else if (System.String.startsWith(significantTokensString, "UNION ALL ")) {
                                sqlTree.ConsiderStartingNewClause();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "UNION ") || System.String.startsWith(significantTokensString, "INTERSECT ") || System.String.startsWith(significantTokensString, "EXCEPT ")) {
                                sqlTree.ConsiderStartingNewClause();
                                var unionClause = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE, "");
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, unionClause);
                            } else if (System.String.startsWith(significantTokensString, "WHILE ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                var newWhileLoop = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP, "");
                                var whileContainerOpen = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "", newWhileLoop);
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, whileContainerOpen);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION, "", newWhileLoop);
                            } else if (System.String.startsWith(significantTokensString, "IF ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION);
                            } else if (System.String.startsWith(significantTokensString, "ELSE ")) {
                                sqlTree.EscapeAnyBetweenConditions();
                                sqlTree.EscapeAnySelectionTarget();
                                sqlTree.EscapeJoinCondition();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN)) {
                                    sqlTree.MoveToAncestorContainer$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.EscapePartialStatementContainers();

                                    if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                                        //we need to pop up the single-statement containers stack to the next "if" that doesn't have an "else" (if any; else error).
                                        // LOCAL SEARCH - we're not actually changing the "CurrentContainer" until we decide to start a statement.
                                        var currentNode = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                        var stopSearching = false;
                                        while (!stopSearching) {
                                            if (sqlTree.PathNameMatches(currentNode, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT)) {
                                                //if this is in an "If", then the "Else" must still be available - yay!
                                                sqlTree.CurrentContainer = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT);
                                                sqlTree.StartNewStatement();
                                                stopSearching = true;
                                            } else if (sqlTree.PathNameMatches(currentNode, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                                                //If this is in an "Else", we should skip its parent "IF" altogether, and go to the next singlestatementcontainer candidate.
                                                //singlestatementcontainer.else.if.clause.statement.NEWCANDIDATE
                                                currentNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                            } else if (sqlTree.PathNameMatches(currentNode, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP)) {
                                                //If this is in a "While", we should skip to the next singlestatementcontainer candidate.
                                                //singlestatementcontainer.while.clause.statement.NEWCANDIDATE
                                                currentNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                            } else {
                                                //if this isn't a known single-statement container, then we're lost.
                                                sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                                stopSearching = true;
                                            }
                                        }
                                    } else {
                                        sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    }
                                }
                            } else if (System.String.startsWith(significantTokensString, "INSERT INTO ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHARACTER VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 3);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHAR VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 3);
                            } else if (System.String.startsWith(significantTokensString, "BINARY VARYING ")) {
                                //TODO: Figure out how to handle "Compound Keyword Datatypes" so they are still correctly highlighted
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "CHAR VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "CHARACTER VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "DOUBLE PRECISION ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHARACTER ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHAR ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL TEXT ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "INSERT ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "BULK INSERT ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "SELECT ")) {
                                if (sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                var selectShouldntTryToStartNewStatement = false;

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE)) {
                                    var firstStatementClause = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent);

                                    var isPrecededByInsertStatement = false;
                                    $t = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                    try {
                                        while ($t.moveNext()) {
                                            var clause = $t.Current;
                                            if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause, "INSERT")) {
                                                isPrecededByInsertStatement = true;
                                            }
                                        }
                                    } finally {
                                        if (Bridge.is($t, System.IDisposable)) {
                                            $t.System$IDisposable$dispose();
                                        }
                                    }
                                    if (isPrecededByInsertStatement) {
                                        var existingSelectClauseFound = false;
                                        $t1 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t1.moveNext()) {
                                                var clause1 = $t1.Current;
                                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause1, "SELECT")) {
                                                    existingSelectClauseFound = true;
                                                }
                                            }
                                        } finally {
                                            if (Bridge.is($t1, System.IDisposable)) {
                                                $t1.System$IDisposable$dispose();
                                            }
                                        }
                                        var existingValuesClauseFound = false;
                                        $t2 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t2.moveNext()) {
                                                var clause2 = $t2.Current;
                                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause2, "VALUES")) {
                                                    existingValuesClauseFound = true;
                                                }
                                            }
                                        } finally {
                                            if (Bridge.is($t2, System.IDisposable)) {
                                                $t2.System$IDisposable$dispose();
                                            }
                                        }
                                        var existingExecClauseFound = false;
                                        $t3 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t3.moveNext()) {
                                                var clause3 = $t3.Current;
                                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause3, "EXEC") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause3, "EXECUTE")) {
                                                    existingExecClauseFound = true;
                                                }
                                            }
                                        } finally {
                                            if (Bridge.is($t3, System.IDisposable)) {
                                                $t3.System$IDisposable$dispose();
                                            }
                                        }
                                        if (!existingSelectClauseFound && !existingValuesClauseFound && !existingExecClauseFound) {
                                            selectShouldntTryToStartNewStatement = true;
                                        }
                                    }

                                    var firstEntryOfThisClause = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                                    if (firstEntryOfThisClause != null && System.String.equals(firstEntryOfThisClause.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE)) {
                                        selectShouldntTryToStartNewStatement = true;
                                    }
                                }

                                if (!selectShouldntTryToStartNewStatement) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                sqlTree.ConsiderStartingNewClause();

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "UPDATE ")) {
                                if (sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                if (!(sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS))) {
                                    sqlTree.ConsiderStartingNewStatement();
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "TO ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    //I don't currently know whether there is any other place where "TO" can be used in T-SQL...
                                    // TODO: look into that.
                                    // -> for now, we'll just save as a random keyword without raising an error.
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "FROM ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.ConsiderStartingNewClause();
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET, "");
                                }
                            } else if (System.String.startsWith(significantTokensString, "CASCADE ") && sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT)) {
                                sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT, "", sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE, ""));
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "SET ")) {
                                var firstNonCommentSibling2 = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                                if (!(firstNonCommentSibling2 != null && System.String.equals(firstNonCommentSibling2.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentSibling2.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "UPDATE"))) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                sqlTree.ConsiderStartingNewClause();
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "BETWEEN ")) {
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION, "");
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, ""));
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND, "");
                            } else if (System.String.startsWith(significantTokensString, "AND ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION);
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, ""));
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND, "");
                                } else {
                                    sqlTree.EscapeAnyBetweenConditions();
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR, ""));
                                }
                            } else if (System.String.startsWith(significantTokensString, "OR ")) {
                                sqlTree.EscapeAnyBetweenConditions();
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR, ""));
                            } else if (System.String.startsWith(significantTokensString, "WITH ")) {
                                if (sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && !sqlTree.HasNonWhiteSpaceNonCommentContent(sqlTree.CurrentContainer)) {
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE, "");
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, ""));
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS, "");
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK)) {
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET)) {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                } else {
                                    sqlTree.ConsiderStartingNewClause();
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 1) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon && !(System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 2) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 2) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon)) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL, System.String.concat(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                                tokenID.v = (tokenID.v + 1) | 0;
                            } else {
                                //miscellaneous single-word tokens, which may or may not be statement starters and/or clause starters

                                //check for statements starting...
                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.IsStatementStarter(token) || sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                //check for statements starting...
                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.IsClauseStarter(token)) {
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                var newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE;
                                var matchedKeywordType = { v : new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType() };
                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value), matchedKeywordType)) {
                                    switch (matchedKeywordType.v) {
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword: 
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR;
                                            break;
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword: 
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD;
                                            break;
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword: 
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD;
                                            break;
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword: 
                                            sqlTree.EscapeAnySelectionTarget();
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD;
                                            break;
                                        default: 
                                            throw new System.Exception("Unrecognized Keyword Type!");
                                    }
                                }

                                sqlTree.SaveNewElement(newNodeName, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Semicolon: 
                            sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            sqlTree.NewStatementDue = true;
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon: 
                            if (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 1) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon) {
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR, System.String.concat(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                                tokenID.v = (tokenID.v + 1) | 0;
                            } else if (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 1) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode) {
                                //This SHOULD never happen in valid T-SQL, but can happen in DB2 or NexusDB or PostgreSQL 
                                // code (host variables) - so be nice and handle it anyway.
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, System.String.concat(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                                tokenID.v = (tokenID.v + 1) | 0;
                            } else {
                                sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma: 
                            var isCTESplitter = (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE));
                            sqlTree.SaveNewElement(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            if (isCTESplitter) {
                                sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS, "");
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign: 
                            sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK)) {
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT, "");
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace: 
                            //create in statement rather than clause if there are no siblings yet
                            if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && !System.Linq.Enumerable.from(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).any()) {
                                sqlTree.SaveNewElementAsPriorSibling(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.CurrentContainer);
                            } else {
                                sqlTree.SaveNewElement(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName: 
                            sqlTree.SaveNewElement(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            break;
                        default: 
                            throw new System.Exception("Unrecognized element encountered!");
                    }

                    tokenID.v = (tokenID.v + 1) | 0;
                }

                if (tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$HasUnfinishedToken) {
                    sqlTree.SetError();
                }

                if (!sqlTree.FindValidBatchEnd()) {
                    sqlTree.SetError();
                }

                return sqlTree;
            },
            ProcessCompoundKeywordWithError: function (tokenList, sqlTree, currentContainerElement, tokenID, significantTokenPositions, keywordCount) {
                this.ProcessCompoundKeyword$1(tokenList, sqlTree, currentContainerElement, tokenID, significantTokenPositions, keywordCount);
                sqlTree.SetError();
            },
            ProcessCompoundKeyword$1: function (tokenList, sqlTree, targetContainer, tokenID, significantTokenPositions, keywordCount) {
                var compoundKeyword = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD, "", targetContainer);
                var targetText = System.String.trimEnd(this.ExtractTokensString(tokenList, significantTokenPositions.getRange(0, keywordCount)));
                compoundKeyword.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT, targetText);
                this.AppendNodesWithMapping(sqlTree, tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex(significantTokenPositions.getItem(0), significantTokenPositions.getItem(((keywordCount - 1) | 0))), PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, compoundKeyword);
                tokenID.v = significantTokenPositions.getItem(((keywordCount - 1) | 0));
            },
            ProcessCompoundKeyword: function (sqlTree, newElementName, tokenID, currentContainerElement, compoundKeywordCount, compoundKeywordTokenCounts, compoundKeywordRawStrings) {
                var newElement = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(newElementName, this.GetCompoundKeyword(tokenID, compoundKeywordCount, compoundKeywordTokenCounts, compoundKeywordRawStrings));
                sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(newElement);
                return newElement;
            },
            AppendNodesWithMapping: function (sqlTree, tokens, otherTokenMappingName, targetContainer) {
                var $t;
                $t = Bridge.getEnumerator(tokens, PoorMansTSqlFormatterLib.Interfaces.IToken);
                try {
                    while ($t.moveNext()) {
                        var token = $t.Current;
                        var elementName;
                        if (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode) {
                            elementName = otherTokenMappingName;
                        } else {
                            elementName = this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type);
                        }

                        sqlTree.SaveNewElement$1(elementName, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, targetContainer);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }},
            ExtractTokensString: function (tokenList, significantTokenPositions) {
                var $t;
                var keywordSB = new System.Text.StringBuilder();
                $t = Bridge.getEnumerator(significantTokenPositions, System.Int32);
                try {
                    while ($t.moveNext()) {
                        var tokenPos = $t.Current;
                        //grr, this could be more elegant.
                        if (System.Array.getItem(tokenList, tokenPos, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma) {
                            keywordSB.append(",");
                        } else {
                            keywordSB.append(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(System.Array.getItem(tokenList, tokenPos, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                        }
                        keywordSB.append(" ");
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }return keywordSB.toString();
            },
            GetEquivalentSqlNodeName: function (tokenType) {
                switch (tokenType) {
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME;
                    default: 
                        throw new System.Exception("Mapping not found for provided Token Type");
                }
            },
            GetKeywordMatchPhrase: function (tokenList, tokenID, rawKeywordParts, tokenCounts, overflowNodes) {
                var phrase = "";
                var phraseComponentsFound = 0;
                rawKeywordParts.v = new (System.Collections.Generic.List$1(System.String))();
                overflowNodes.v = new (System.Collections.Generic.List$1(System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.Interfaces.IToken)))();
                tokenCounts.v = new (System.Collections.Generic.List$1(System.Int32))();
                var precedingWhitespace = "";
                var originalTokenID = tokenID;

                while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && phraseComponentsFound < 7) {
                    if (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma) {
                        phrase = System.String.concat(phrase, (System.String.concat(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value), " ")));
                        phraseComponentsFound = (phraseComponentsFound + 1) | 0;
                        rawKeywordParts.v.add(System.String.concat(precedingWhitespace, System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value));

                        tokenID = (tokenID + 1) | 0;
                        tokenCounts.v.add(((tokenID - originalTokenID) | 0));

                        //found a possible phrase component - skip past any upcoming whitespace or comments, keeping track.
                        overflowNodes.v.add(new (System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.Interfaces.IToken))());
                        precedingWhitespace = "";
                        while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment)) {
                            if (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace) {
                                precedingWhitespace = System.String.concat(precedingWhitespace, System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else {
                                overflowNodes.v.getItem(((phraseComponentsFound - 1) | 0)).add(System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken));
                            }

                            tokenID = (tokenID + 1) | 0;
                        }
                    } else {
                        break;
                    }
                }

                return phrase;
            },
            GetSignificantTokenPositions: function (tokenList, tokenID, searchDistance) {
                var significantTokenPositions = new (System.Collections.Generic.List$1(System.Int32))();
                var originalTokenID = tokenID;

                while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && significantTokenPositions.Count < searchDistance) {
                    if (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma) {
                        significantTokenPositions.add(tokenID);
                        tokenID = (tokenID + 1) | 0;

                        //found a possible phrase component - skip past any upcoming whitespace or comments, keeping track.
                        while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment)) {
                            tokenID = (tokenID + 1) | 0;
                        }
                    } else {
                        break;
                    }
                }

                return significantTokenPositions;
            },
            GetCompoundKeyword: function (tokenID, compoundKeywordCount, compoundKeywordTokenCounts, compoundKeywordRawStrings) {
                tokenID.v = (tokenID.v + (((compoundKeywordTokenCounts.getItem(((compoundKeywordCount - 1) | 0)) - 1) | 0))) | 0;
                var outString = "";
                for (var i = 0; i < compoundKeywordCount; i = (i + 1) | 0) {
                    outString = System.String.concat(outString, compoundKeywordRawStrings.getItem(i));
                }
                return outString;
            },
            IsLatestTokenADDLDetailValue: function (sqlTree) {
                var latestContentNode = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(sqlTree.CurrentContainer, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).lastOrDefault(null, null);
                if (latestContentNode != null && (System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) || System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD) || System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD))) {
                    var uppercaseText = null;
                    if (System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD)) {
                        uppercaseText = latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT);
                    } else {
                        uppercaseText = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    }

                    return (System.String.equals(uppercaseText, "NVARCHAR") || System.String.equals(uppercaseText, "VARCHAR") || System.String.equals(uppercaseText, "DECIMAL") || System.String.equals(uppercaseText, "DEC") || System.String.equals(uppercaseText, "NUMERIC") || System.String.equals(uppercaseText, "VARBINARY") || System.String.equals(uppercaseText, "DEFAULT") || System.String.equals(uppercaseText, "IDENTITY") || System.String.equals(uppercaseText, "XML") || System.String.endsWith(uppercaseText, "VARYING") || System.String.endsWith(uppercaseText, "CHAR") || System.String.endsWith(uppercaseText, "CHARACTER") || System.String.equals(uppercaseText, "FLOAT") || System.String.equals(uppercaseText, "DATETIMEOFFSET") || System.String.equals(uppercaseText, "DATETIME2") || System.String.equals(uppercaseText, "TIME"));
                }
                return false;
            },
            IsLatestTokenAComma: function (sqlTree) {
                var latestContent = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(sqlTree.CurrentContainer, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).lastOrDefault(null, null);
                return latestContent != null && System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA);
            },
            IsLatestTokenAMiscName: function (sqlTree) {
                var latestContent = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(sqlTree.CurrentContainer, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).lastOrDefault(null, null);

                if (latestContent != null) {
                    var testValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);

                    if (System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME)) {
                        return true;
                    }

                    if ((System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE) || System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD)) && !(System.String.equals(testValue, "AND") || System.String.equals(testValue, "OR") || System.String.equals(testValue, "NOT") || System.String.equals(testValue, "BETWEEN") || System.String.equals(testValue, "LIKE") || System.String.equals(testValue, "CONTAINS") || System.String.equals(testValue, "EXISTS") || System.String.equals(testValue, "FREETEXT") || System.String.equals(testValue, "IN") || System.String.equals(testValue, "ALL") || System.String.equals(testValue, "SOME") || System.String.equals(testValue, "ANY") || System.String.equals(testValue, "FROM") || System.String.equals(testValue, "JOIN") || System.String.endsWith(testValue, " JOIN") || System.String.equals(testValue, "UNION") || System.String.equals(testValue, "UNION ALL") || System.String.equals(testValue, "USING") || System.String.equals(testValue, "AS") || System.String.endsWith(testValue, " APPLY"))) {
                        return true;
                    }
                }

                return false;
            },
            IsFollowedByLineBreakingWhiteSpaceOrSingleLineCommentOrEnd: function (tokenList, tokenID) {
                var currTokenID = (tokenID + 1) | 0;
                while (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) >= ((currTokenID + 1) | 0)) {
                    if (System.Array.getItem(tokenList, currTokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment) {
                        return true;
                    } else {
                        if (System.Array.getItem(tokenList, currTokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace) {
                            if (System.Text.RegularExpressions.Regex.isMatch(System.Array.getItem(tokenList, currTokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "(\\r|\\n)+")) {
                                return true;
                            } else {
                                currTokenID = (currTokenID + 1) | 0;
                            }
                        } else {
                            return false;
                        }
                    }
                }
                return true;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.NodeImpl", {
        inherits: [PoorMansTSqlFormatterLib.ParseStructure.Node],
        props: {
            Name: null,
            TextValue: null,
            Parent: null,
            Attributes: null,
            Children: null
        },
        alias: [
            "Name", "PoorMansTSqlFormatterLib$ParseStructure$Node$Name",
            "TextValue", "PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue",
            "Parent", "PoorMansTSqlFormatterLib$ParseStructure$Node$Parent",
            "Attributes", "PoorMansTSqlFormatterLib$ParseStructure$Node$Attributes",
            "Children", "PoorMansTSqlFormatterLib$ParseStructure$Node$Children",
            "AddChild", "PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild",
            "InsertChildBefore", "PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore",
            "RemoveChild", "PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveChild",
            "GetAttributeValue", "PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue",
            "SetAttribute", "PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute",
            "RemoveAttribute", "PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveAttribute"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                this.Attributes = new (System.Collections.Generic.Dictionary$2(System.String,System.String))();
                this.Children = new (System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.ParseStructure.Node))();
            }
        },
        methods: {
            AddChild: function (child) {
                this.SetParentOnChild(child);
                System.Array.add(Bridge.cast(this.Children, System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.ParseStructure.Node)), child, PoorMansTSqlFormatterLib.ParseStructure.Node);
            },
            InsertChildBefore: function (newChild, existingChild) {
                this.SetParentOnChild(newChild);
                var childList = Bridge.as(this.Children, System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.ParseStructure.Node));
                System.Array.insert(childList, System.Array.indexOf(childList, existingChild, 0, null, PoorMansTSqlFormatterLib.ParseStructure.Node), newChild, PoorMansTSqlFormatterLib.ParseStructure.Node);
            },
            SetParentOnChild: function (child) {
                //TODO: NOT THREAD-SAFE AT ALL!
                if (child.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                    throw new System.ArgumentException("Child cannot already have a parent!");
                }
                Bridge.cast(child, PoorMansTSqlFormatterLib.ParseStructure.NodeImpl).Parent = this;
            },
            RemoveChild: function (child) {
                //TODO: NOT THREAD-SAFE AT ALL!
                System.Array.remove(Bridge.cast(this.Children, System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.ParseStructure.Node)), child, PoorMansTSqlFormatterLib.ParseStructure.Node);
                Bridge.cast(child, PoorMansTSqlFormatterLib.ParseStructure.NodeImpl).Parent = null;
            },
            GetAttributeValue: function (aName) {
                var outVal = { v : null };
                this.Attributes.System$Collections$Generic$IDictionary$2$System$String$System$String$tryGetValue(aName, outVal);
                return outVal.v;
            },
            SetAttribute: function (name, value) {
                this.Attributes.System$Collections$Generic$IDictionary$2$System$String$System$String$setItem(name, value);
            },
            RemoveAttribute: function (name) {
                this.Attributes.System$Collections$Generic$IDictionary$2$System$String$System$String$remove(name);
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.SqlFormattingManager", {
        inherits: [PoorMansTSqlFormatterLib._SqlFormattingManager],
        statics: {
            methods: {
                DefaultFormat: function (inputSQL) {
                    return new PoorMansTSqlFormatterLib.SqlFormattingManager.ctor().Format(inputSQL);
                },
                DefaultFormat$1: function (inputSQL, errorsEncountered) {
                    return new PoorMansTSqlFormatterLib.SqlFormattingManager.ctor().Format$1(inputSQL, errorsEncountered);
                }
            }
        },
        props: {
            Tokenizer: null,
            Parser: null,
            Formatter: null
        },
        alias: ["Format", "PoorMansTSqlFormatterLib$_SqlFormattingManager$Format"],
        ctors: {
            ctor: function () {
                PoorMansTSqlFormatterLib.SqlFormattingManager.$ctor1.call(this, new PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer(), new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser(), new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.ctor());
            },
            $ctor2: function (formatter) {
                PoorMansTSqlFormatterLib.SqlFormattingManager.$ctor1.call(this, new PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer(), new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser(), formatter);
            },
            $ctor1: function (tokenizer, parser, formatter) {
                this.$initialize();
                this.Tokenizer = tokenizer;
                this.Parser = parser;
                this.Formatter = formatter;
            }
        },
        methods: {
            Format: function (inputSQL) {
                var error = { v : false };
                return this.Format$1(inputSQL, error);
            },
            Format$1: function (inputSQL, errorEncountered) {
                var sqlTree = this.Parser.PoorMansTSqlFormatterLib$Interfaces$ISqlTokenParser$ParseSQL(this.Tokenizer.PoorMansTSqlFormatterLib$Interfaces$ISqlTokenizer$TokenizeSQL(inputSQL));
                errorEncountered.v = (Bridge.referenceEquals(sqlTree.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1"));
                return this.Formatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree(sqlTree);
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Token", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.IToken],
        props: {
            Type: 0,
            Value: null
        },
        alias: [
            "Type", "PoorMansTSqlFormatterLib$Interfaces$IToken$Type",
            "Value", "PoorMansTSqlFormatterLib$Interfaces$IToken$Value"
        ],
        ctors: {
            ctor: function (type, value) {
                this.$initialize();
                this.Type = type;
                this.Value = value;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTokenizer],
        statics: {
            methods: {
                IsWhitespace: function (targetCharacter) {
                    return (targetCharacter === 32 || targetCharacter === 9 || targetCharacter === 10 || targetCharacter === 13);
                },
                IsNonWordCharacter: function (currentCharacter) {
                    //characters that pop you out of a regular "word" context (maybe into a new word)
                    return (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsWhitespace(currentCharacter) || PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsOperatorCharacter(currentCharacter) || (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsCurrencyPrefix(currentCharacter) && currentCharacter !== 36) || currentCharacter === 39 || currentCharacter === 34 || currentCharacter === 44 || currentCharacter === 46 || currentCharacter === 91 || currentCharacter === 40 || currentCharacter === 41 || currentCharacter === 33 || currentCharacter === 59 || currentCharacter === 58);
                },
                IsCompoundableOperatorCharacter: function (currentCharacter) {
                    //operator characters that can be compounded by a subsequent "equals" sign
                    return (currentCharacter === 47 || currentCharacter === 45 || currentCharacter === 43 || currentCharacter === 42 || currentCharacter === 37 || currentCharacter === 38 || currentCharacter === 94 || currentCharacter === 60 || currentCharacter === 62 || currentCharacter === 124);
                },
                IsOperatorCharacter: function (currentCharacter) {
                    //operator characters
                    return (currentCharacter === 47 || currentCharacter === 45 || currentCharacter === 43 || currentCharacter === 37 || currentCharacter === 42 || currentCharacter === 38 || currentCharacter === 124 || currentCharacter === 94 || currentCharacter === 61 || currentCharacter === 60 || currentCharacter === 62 || currentCharacter === 126);
                },
                IsCurrencyPrefix: function (currentCharacter) {
                    //symbols that SQL Server recognizes as currency prefixes - these also happen to 
                    // be word-breakers, except the dollar. Ref:
                    // http://msdn.microsoft.com/en-us/library/ms188688.aspx
                    return (currentCharacter === 36 || currentCharacter === 162 || currentCharacter === 163 || currentCharacter === 164 || currentCharacter === 165 || currentCharacter === 2546 || currentCharacter === 2547 || currentCharacter === 3647 || currentCharacter === 6107 || currentCharacter === 8352 || currentCharacter === 8353 || currentCharacter === 8354 || currentCharacter === 8355 || currentCharacter === 8356 || currentCharacter === 8357 || currentCharacter === 8358 || currentCharacter === 8359 || currentCharacter === 8360 || currentCharacter === 8361 || currentCharacter === 8362 || currentCharacter === 8363 || currentCharacter === 8364 || currentCharacter === 8365 || currentCharacter === 8366 || currentCharacter === 8367 || currentCharacter === 8368 || currentCharacter === 8369 || currentCharacter === 65020 || currentCharacter === 65129 || currentCharacter === 65284 || currentCharacter === 65504 || currentCharacter === 65505 || currentCharacter === 65509 || currentCharacter === 65510);
                },
                CompleteTokenAndProcessNext: function (state) {
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteToken(state, true);
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.ProcessOrOpenToken(state);
                },
                AppendCharAndCompleteToken: function (state) {
                    state.ConsumeCurrentCharacterIntoToken();
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteToken(state, false);
                },
                SwallowOutstandingCharacterAndCompleteToken: function (state) {
                    //this is for cases where we *know* we are swallowing the "current character" (not putting it in the output)
                    state.HasUnprocessedCurrentCharacter = false;
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteToken(state, false);
                },
                ProcessOrOpenToken: function (state) {
                    if (state.CurrentTokenizationType != null) {
                        throw new System.Exception("Cannot start a new Token: existing Tokenization Type is not null");
                    }

                    if (!state.HasUnprocessedCurrentCharacter) {
                        throw new System.Exception("Cannot start a new Token: no (outstanding) current character specified!");
                    }

                    //start a new value.
                    state.CurrentTokenValue.setLength(0);

                    if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsWhitespace(state.CurrentChar)) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.WhiteSpace;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (state.CurrentChar === 45) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleHyphen;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 36) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleDollar;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 47) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleSlash;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 78) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleN;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later except N-string case
                    } else if (state.CurrentChar === 39) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing
                    } else if (state.CurrentChar === 34) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing
                    } else if (state.CurrentChar === 91) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing
                    } else if (state.CurrentChar === 40) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OpenParens);
                    } else if (state.CurrentChar === 41) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.CloseParens);
                    } else if (state.CurrentChar === 44) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma);
                    } else if (state.CurrentChar === 46) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePeriod;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 48) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleZero;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar >= 49 && state.CurrentChar <= 57) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsCurrencyPrefix(state.CurrentChar)) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (state.CurrentChar === 59) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Semicolon);
                    } else if (state.CurrentChar === 58) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon);
                    } else if (state.CurrentChar === 42) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleAsterisk;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 61) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleEquals;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 60) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLT;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 62) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleGT;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 33) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleExclamation;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (state.CurrentChar === 124) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePipe;
                        state.HasUnprocessedCurrentCharacter = false; //purposefully swallowing, will be reinserted later
                    } else if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsCompoundableOperatorCharacter(state.CurrentChar)) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleOtherCompoundableOperator;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsOperatorCharacter(state.CurrentChar)) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator);
                    } else {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode;
                        state.ConsumeCurrentCharacterIntoToken();
                    }
                },
                CompleteToken: function (state, nextCharRead) {
                    if (state.CurrentTokenizationType == null) {
                        throw new System.Exception("Cannot complete Token, as there is no current Tokenization Type");
                    }

                    switch (state.CurrentTokenizationType) {
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.PseudoName: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineComment: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineCommentCStyle: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleHyphen: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, "-");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleDollar: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue, "$");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleSlash: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, "/");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.WhiteSpace: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleN: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, "N");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleExclamation: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, "!");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePipe: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, "|");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleGT: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, ">");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLT: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, "<");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleOtherCompoundableOperator: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleZero: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number, "0");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePeriod: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period, ".");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleAsterisk: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleEquals: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BinaryValue: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue, state.CurrentTokenValue.toString());
                            break;
                        default: 
                            throw new System.Exception("Unrecognized SQL Node Type");
                    }

                    state.CurrentTokenizationType = null;
                },
                SaveCurrentCharToNewToken: function (state, tokenType) {
                    var charToSave = state.CurrentChar;
                    state.HasUnprocessedCurrentCharacter = false; //because we're using it now!
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, tokenType, String.fromCharCode(charToSave));
                },
                SaveToken: function (state, tokenType, tokenValue) {
                    var foundToken = new PoorMansTSqlFormatterLib.Token(tokenType, tokenValue);
                    state.TokenContainer.add(foundToken);

                    var positionOfLastCharacterInToken = state.InputReader.LastCharacterPosition.sub(System.Int64((state.HasUnprocessedCurrentCharacter ? 1 : 0)));
                    if (System.Nullable.liftne("ne", state.RequestedMarkerPosition, System.Int64.lift(null)) && state.TokenContainer.MarkerToken == null && System.Nullable.liftcmp("lte", state.RequestedMarkerPosition, positionOfLastCharacterInToken)) {
                        state.TokenContainer.MarkerToken = foundToken;
                        //TODO: this is wrong for container types, as commented elsewhere. the marker position will be too high.
                        var rawPositionInToken = System.Nullable.lift2("sub", System.Int64.lift(foundToken.Value.length), (System.Nullable.lift2("sub", positionOfLastCharacterInToken, state.RequestedMarkerPosition)));
                        // temporarily bypass overflow issues without fixing underlying problem
                        state.TokenContainer.MarkerPosition = System.Nullable.liftcmp("gt", rawPositionInToken, System.Int64.lift(foundToken.Value.length)) ? System.Int64.lift(foundToken.Value.length) : rawPositionInToken;
                    }
                }
            }
        },
        alias: [
            "TokenizeSQL", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenizer$TokenizeSQL",
            "TokenizeSQL$1", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenizer$TokenizeSQL$1"
        ],
        methods: {
            TokenizeSQL: function (inputSQL) {
                return this.TokenizeSQL$1(inputSQL, System.Int64.lift(null));
            },
            TokenizeSQL$1: function (inputSQL, requestedMarkerPosition) {
                var state = new PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.TokenizationState(inputSQL, requestedMarkerPosition);

                state.ReadNextCharacter();
                while (state.HasUnprocessedCurrentCharacter) {
                    if (state.CurrentTokenizationType == null) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.ProcessOrOpenToken(state);
                        state.ReadNextCharacter();
                        continue;
                    }

                    switch (System.Nullable.getValue(state.CurrentTokenizationType)) {
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.WhiteSpace: 
                            if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsWhitespace(state.CurrentChar)) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePeriod: 
                            if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue;
                                state.CurrentTokenValue.append(String.fromCharCode(46));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                state.CurrentTokenValue.append(String.fromCharCode(46));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleZero: 
                            if (state.CurrentChar === 120 || state.CurrentChar === 88) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BinaryValue;
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number;
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 46) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue;
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number: 
                            if (state.CurrentChar === 101 || state.CurrentChar === 69) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue;
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 46) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue;
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue: 
                            if (state.CurrentChar === 101 || state.CurrentChar === 69) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue;
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue: 
                            if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if ((state.CurrentChar === 45 || state.CurrentChar === 43) && System.String.endsWith(state.CurrentTokenValue.toString().toUpperCase(), "E")) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BinaryValue: 
                            if ((state.CurrentChar >= 48 && state.CurrentChar <= 57) || (state.CurrentChar >= 65 && state.CurrentChar <= 70) || (state.CurrentChar >= 97 && state.CurrentChar <= 102)) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleDollar: 
                            state.CurrentTokenValue.append(String.fromCharCode(36));
                            if ((state.CurrentChar >= 65 && state.CurrentChar <= 90) || (state.CurrentChar >= 97 && state.CurrentChar <= 122)) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.PseudoName;
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue;
                            }
                            state.ConsumeCurrentCharacterIntoToken();
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue: 
                            if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 45 && state.CurrentTokenValue.getLength() === 1) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 46 && !System.String.contains(state.CurrentTokenValue.toString(),".")) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleHyphen: 
                            if (state.CurrentChar === 45) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineComment;
                                state.HasUnprocessedCurrentCharacter = false; //DISCARDING the hyphen because of weird standard
                            } else if (state.CurrentChar === 61) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(45));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(45));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleSlash: 
                            if (state.CurrentChar === 42) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment;
                                state.HasUnprocessedCurrentCharacter = false; //DISCARDING the asterisk because of weird standard
                                state.CommentNesting = (state.CommentNesting + 1) | 0;
                            } else if (state.CurrentChar === 47) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineCommentCStyle;
                                state.HasUnprocessedCurrentCharacter = false; //DISCARDING the slash because of weird standard
                            } else if (state.CurrentChar === 61) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(47));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(47));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineComment: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineCommentCStyle: 
                            if (state.CurrentChar === 13 || state.CurrentChar === 10) {
                                var nextCharInt = state.InputReader.Peek();
                                if (state.CurrentChar === 13 && nextCharInt === 10) {
                                    state.ConsumeCurrentCharacterIntoToken();
                                    state.ReadNextCharacter();
                                }
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment: 
                            if (state.CurrentChar === 42) {
                                if (state.InputReader.Peek() === 47) {
                                    state.CommentNesting = (state.CommentNesting - 1) | 0;
                                    if (state.CommentNesting > 0) {
                                        state.ConsumeCurrentCharacterIntoToken();
                                        state.ReadNextCharacter();
                                        state.ConsumeCurrentCharacterIntoToken();
                                    } else {
                                        state.HasUnprocessedCurrentCharacter = false; //discarding the asterisk
                                        state.ReadNextCharacter();
                                        //TODO: DANGER DANGER why do "contained" token types have this inconsistent handling where the delimiters are not in the value???
                                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                    }
                                } else {
                                    state.ConsumeCurrentCharacterIntoToken();
                                }
                            } else {
                                if (state.CurrentChar === 47 && state.InputReader.Peek() === 42) {
                                    state.ConsumeCurrentCharacterIntoToken();
                                    state.ReadNextCharacter();
                                    state.ConsumeCurrentCharacterIntoToken();
                                    state.CommentNesting = (state.CommentNesting + 1) | 0;
                                } else {
                                    state.ConsumeCurrentCharacterIntoToken();
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.PseudoName: 
                            if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsNonWordCharacter(state.CurrentChar)) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleN: 
                            if (state.CurrentChar === 39) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString;
                                state.HasUnprocessedCurrentCharacter = false; //DISCARDING the apostrophe because of weird standard
                            } else {
                                if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsNonWordCharacter(state.CurrentChar)) {
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                                } else {
                                    state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode;
                                    state.CurrentTokenValue.append(String.fromCharCode(78));
                                    state.ConsumeCurrentCharacterIntoToken();
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String: 
                            if (state.CurrentChar === 39) {
                                if (state.InputReader.Peek() === 39) {
                                    //add the character (once)
                                    state.ConsumeCurrentCharacterIntoToken();

                                    //throw away the second character... because (for some reason?) we're storing the effective value" rather than the raw token...
                                    state.DiscardNextCharacter();
                                } else {
                                    //TODO: DANGER DANGER why do "contained" token types have this inconsistent handling where the delimiters are not in the value???
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                }
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString: 
                            if (state.CurrentChar === 34) {
                                if (state.InputReader.Peek() === 34) {
                                    //add the character (once)
                                    state.ConsumeCurrentCharacterIntoToken();

                                    //throw away the second character... because (for some reason?) we're storing the effective value" rather than the raw token...
                                    state.DiscardNextCharacter();
                                } else {
                                    //TODO: DANGER DANGER why do "contained" token types have this inconsistent handling where the delimiters are not in the value???
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                }
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName: 
                            if (state.CurrentChar === 93) {
                                if (state.InputReader.Peek() === 93) {
                                    //add the character (once)
                                    state.ConsumeCurrentCharacterIntoToken();

                                    //throw away the second character... because (for some reason?) we're storing the effective value" rather than the raw token...
                                    state.DiscardNextCharacter();
                                } else {
                                    //TODO: DANGER DANGER why do "contained" token types have this inconsistent handling where the delimiters are not in the value???
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                }
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLT: 
                            state.CurrentTokenValue.append(String.fromCharCode(60));
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            if (state.CurrentChar === 61 || state.CurrentChar === 62 || state.CurrentChar === 60) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleGT: 
                            state.CurrentTokenValue.append(String.fromCharCode(62));
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            if (state.CurrentChar === 61 || state.CurrentChar === 62) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleAsterisk: 
                            state.CurrentTokenValue.append(String.fromCharCode(42));
                            if (state.CurrentChar === 61) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleOtherCompoundableOperator: 
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            if (state.CurrentChar === 61) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePipe: 
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            state.CurrentTokenValue.append(String.fromCharCode(124));
                            if (state.CurrentChar === 61 || state.CurrentChar === 124) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleEquals: 
                            state.CurrentTokenValue.append(String.fromCharCode(61));
                            if (state.CurrentChar === 61) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleExclamation: 
                            state.CurrentTokenValue.append(String.fromCharCode(33));
                            if (state.CurrentChar === 61 || state.CurrentChar === 60 || state.CurrentChar === 62) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode;
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        default: 
                            throw new System.Exception("In-progress node unrecognized!");
                    }

                    state.ReadNextCharacter();
                }


                if (state.CurrentTokenizationType != null) {
                    if (System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName) {
                        state.TokenContainer.HasUnfinishedToken = true;
                    }

                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                }

                return state.TokenContainer;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseTree", {
        inherits: [PoorMansTSqlFormatterLib.ParseStructure.NodeImpl,PoorMansTSqlFormatterLib.ParseStructure.Node],
        statics: {
            methods: {
                HasNonWhiteSpaceNonSingleCommentContent: function (containerNode) {
                    var $t;
                    $t = Bridge.getEnumerator(containerNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var testElement = $t.Current;
                            if (!System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE) && !System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE) && !System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE) && (!System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE) || System.Text.RegularExpressions.Regex.isMatch(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+"))) {
                                return true;
                            }
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }
                    return false;
                }
            }
        },
        fields: {
            _currentContainer: null,
            _newStatementDue: false
        },
        props: {
            CurrentContainer: {
                get: function () {
                    return this._currentContainer;
                },
                set: function (value) {
                    if (value == null) {
                        throw new System.ArgumentNullException("CurrentContainer");
                    }

                    if (!Bridge.equals(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.RootContainer(value), this)) {
                        throw new System.Exception("Current Container node can only be set to an element in the current document.");
                    }

                    this._currentContainer = value;
                }
            },
            NewStatementDue: {
                get: function () {
                    return this._newStatementDue;
                },
                set: function (value) {
                    this._newStatementDue = value;
                }
            },
            ErrorFound: {
                get: function () {
                    return this._newStatementDue;
                },
                set: function (value) {
                    if (value) {
                        this.SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND, "1");
                    } else {
                        this.RemoveAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND);
                    }
                }
            }
        },
        ctors: {
            ctor: function (rootName) {
                this.$initialize();
                PoorMansTSqlFormatterLib.ParseStructure.NodeImpl.ctor.call(this);
                this.Name = rootName;
                this.CurrentContainer = this;
            }
        },
        methods: {
            SetError: function () {
                this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR, "1");
                this.ErrorFound = true;
            },
            SaveNewElement: function (newElementName, newElementValue) {
                return this.SaveNewElement$1(newElementName, newElementValue, this.CurrentContainer);
            },
            SaveNewElement$1: function (newElementName, newElementValue, targetNode) {
                var newElement = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(newElementName, newElementValue);
                targetNode.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(newElement);
                return newElement;
            },
            SaveNewElementWithError: function (newElementName, newElementValue) {
                var newElement = this.SaveNewElement(newElementName, newElementValue);
                this.SetError();
                return newElement;
            },
            SaveNewElementAsPriorSibling: function (newElementName, newElementValue, nodeToSaveBefore) {
                var newElement = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(newElementName, newElementValue);
                nodeToSaveBefore.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore(newElement, nodeToSaveBefore);
                return newElement;
            },
            StartNewContainer: function (newElementName, containerOpenValue, containerType) {
                this.CurrentContainer = this.SaveNewElement(newElementName, "");
                var containerOpen = this.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "");
                this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, containerOpenValue, containerOpen);
                this.CurrentContainer = this.SaveNewElement(containerType, "");
            },
            StartNewStatement: function () {
                this.StartNewStatement$1(this.CurrentContainer);
            },
            StartNewStatement$1: function (targetNode) {
                this.NewStatementDue = false;
                var newStatement = this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT, "", targetNode);
                this.CurrentContainer = this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, "", newStatement);
            },
            EscapeAnyBetweenConditions: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION)) {
                    //we just ended the upper bound of a "BETWEEN" condition, need to pop back to the enclosing context
                    this.MoveToAncestorContainer(2);
                }
            },
            EscapeMergeAction: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION) && this.HasNonWhiteSpaceNonCommentContent(this.CurrentContainer)) {
                    this.MoveToAncestorContainer(4);
                }
            },
            EscapePartialStatementContainers: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) || this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK)) {
                    this.MoveToAncestorContainer(1);
                } else {
                    if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS)) {
                        this.MoveToAncestorContainer(3);
                    } else {
                        if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT)) {
                            this.MoveToAncestorContainer(3);
                        } else {
                            if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && (this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK) || this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) || this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK))) {
                                this.MoveToAncestorContainer(3);
                            } else {
                                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN)) {
                                    this.MoveToAncestorContainer(2);
                                } else {
                                    if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && (this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE) || this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK))) {
                                        this.MoveToAncestorContainer(2);
                                    }
                                }
                            }
                        }
                    }
                }
            },
            EscapeAnySingleOrPartialStatementContainers: function () {
                this.EscapeAnyBetweenConditions();
                this.EscapeAnySelectionTarget();
                this.EscapeJoinCondition();

                if (this.HasNonWhiteSpaceNonCommentContent(this.CurrentContainer)) {
                    this.EscapeCursorForBlock();
                    this.EscapeMergeAction();
                    this.EscapePartialStatementContainers();

                    while (true) {
                        if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                            var currentSingleContainer = this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            if (this.PathNameMatches(currentSingleContainer, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                                //we just ended the one and only statement in an else clause, and need to pop out to the same level as its parent if
                                // singleContainer.else.if.CANDIDATE
                                this.CurrentContainer = currentSingleContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            } else {
                                //we just ended the one statement of an if or while, and need to pop out the same level as that if or while
                                // singleContainer.(if or while).CANDIDATE
                                this.CurrentContainer = currentSingleContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            }
                        } else {
                            break;
                        }
                    }
                }
            },
            EscapeCursorForBlock: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK) && this.HasNonWhiteSpaceNonCommentContent(this.CurrentContainer)) {
                    this.MoveToAncestorContainer(5);
                }
            },
            EscapeAndLocateNextStatementContainer: function (escapeEmptyContainer) {
                this.EscapeAnySingleOrPartialStatementContainers();

                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION) && (this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT) || this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP))) {
                    //we just ended the boolean clause of an if or while, and need to pop to the single-statement container.
                    return this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT, "", this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent);
                } else if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && (escapeEmptyContainer || PoorMansTSqlFormatterLib.ParseTree.HasNonWhiteSpaceNonSingleCommentContent(this.CurrentContainer))) {
                    return this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                } else {
                    return null;
                }
            },
            MigrateApplicableCommentsFromContainer: function (previousContainerElement) {
                var migrationContext = previousContainerElement;
                var migrationCandidate = System.Linq.Enumerable.from(previousContainerElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).last();

                //keep track of where we're going to be prepending - this will change as we go moving stuff.
                var insertBeforeNode = this.CurrentContainer;

                while (migrationCandidate != null) {
                    if (System.String.equals(migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE)) {
                        migrationCandidate = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate);
                        continue;
                    } else if (PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate) != null && System.Array.contains(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_COMMENT, migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, System.String) && System.Array.contains(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT, PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate).PoorMansTSqlFormatterLib$ParseStructure$Node$Name, System.String)) {
                        if (System.String.equals(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate).PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE) && System.Text.RegularExpressions.Regex.isMatch(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate).PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+")) {
                            //we have a match, so migrate everything considered so far (backwards from the end). need to keep track of where we're inserting.
                            while (!Bridge.equals(System.Linq.Enumerable.from(migrationContext.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).last(), migrationCandidate)) {
                                var movingNode = System.Linq.Enumerable.from(migrationContext.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).last();
                                movingNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveChild(movingNode);
                                this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore(movingNode, insertBeforeNode);
                                insertBeforeNode = movingNode;
                            }
                            migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveChild(migrationCandidate);
                            this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore(migrationCandidate, insertBeforeNode);
                            insertBeforeNode = migrationCandidate;

                            //move on to the next candidate element for consideration.
                            migrationCandidate = System.Linq.Enumerable.from(migrationContext.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).last();
                        } else {
                            //this one wasn't properly separated from the previous node/entry, keep going in case there's a linebreak further up.
                            migrationCandidate = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate);
                        }
                    } else if (!System.String.isNullOrEmpty(migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue)) {
                        //we found a non-whitespace non-comment node with text content. Stop trying to migrate comments.
                        migrationCandidate = null;
                    } else {
                        //walk up the last found node, in case the comment got trapped in some substructure.
                        migrationContext = migrationCandidate;
                        migrationCandidate = System.Linq.Enumerable.from(migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Children).lastOrDefault(null, null);
                    }
                }
            },
            ConsiderStartingNewStatement: function () {
                this.EscapeAnyBetweenConditions();
                this.EscapeAnySelectionTarget();
                this.EscapeJoinCondition();

                //before single-statement-escaping
                var previousContainerElement = this.CurrentContainer;

                //context might change AND suitable ancestor selected
                var nextStatementContainer = this.EscapeAndLocateNextStatementContainer(false);

                //if suitable ancestor found, start statement and migrate in-between comments to the new statement
                if (nextStatementContainer != null) {
                    var inBetweenContainerElement = this.CurrentContainer;
                    this.StartNewStatement$1(nextStatementContainer);
                    if (!Bridge.equals(inBetweenContainerElement, previousContainerElement)) {
                        this.MigrateApplicableCommentsFromContainer(inBetweenContainerElement);
                    }
                    this.MigrateApplicableCommentsFromContainer(previousContainerElement);
                }
            },
            ConsiderStartingNewClause: function () {
                this.EscapeAnySelectionTarget();
                this.EscapeAnyBetweenConditions();
                this.EscapePartialStatementContainers();
                this.EscapeJoinCondition();

                if (System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && PoorMansTSqlFormatterLib.ParseTree.HasNonWhiteSpaceNonSingleCommentContent(this.CurrentContainer)) {
                    //complete current clause, start a new one in the same container
                    var previousContainerElement = this.CurrentContainer;
                    this.CurrentContainer = this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, "", this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent);
                    this.MigrateApplicableCommentsFromContainer(previousContainerElement);
                } else if (System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS) || System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS) || System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT)) {
                    //create new clause and set context to it.
                    this.CurrentContainer = this.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, "");
                }
            },
            EscapeAnySelectionTarget: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET)) {
                    this.CurrentContainer = this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                }
            },
            EscapeJoinCondition: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION)) {
                    this.MoveToAncestorContainer(2);
                }
            },
            FindValidBatchEnd: function () {
                var nextStatementContainer = this.EscapeAndLocateNextStatementContainer(true);
                return nextStatementContainer != null && (System.String.equals(nextStatementContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) || (System.String.equals(nextStatementContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && System.String.equals(nextStatementContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK)));
            },
            PathNameMatches$1: function (levelsUp, nameToMatch) {
                return this.PathNameMatches(this.CurrentContainer, levelsUp, nameToMatch);
            },
            PathNameMatches: function (targetNode, levelsUp, nameToMatch) {
                var currentNode = targetNode;
                while (levelsUp > 0) {
                    currentNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                    levelsUp = (levelsUp - 1) | 0;
                }
                return currentNode != null && System.String.equals(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, nameToMatch);
            },
            HasNonWhiteSpaceNonCommentContent: function (containerNode) {
                return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(containerNode, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).any();
            },
            GetFirstNonWhitespaceNonCommentChildElement: function (targetElement) {
                return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(targetElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).firstOrDefault(null, null);
            },
            GetLastNonWhitespaceNonCommentChildElement: function (targetElement) {
                return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(targetElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT)).lastOrDefault(null, null);
            },
            MoveToAncestorContainer: function (levelsUp) {
                this.MoveToAncestorContainer$1(levelsUp, null);
            },
            MoveToAncestorContainer$1: function (levelsUp, targetContainerName) {
                var candidateContainer = this.CurrentContainer;
                while (levelsUp > 0) {
                    candidateContainer = candidateContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                    levelsUp = (levelsUp - 1) | 0;
                }
                if (System.String.isNullOrEmpty(targetContainerName) || System.String.equals(candidateContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, targetContainerName)) {
                    this.CurrentContainer = candidateContainer;
                } else {
                    throw new System.Exception("Ancestor node does not match expected name!");
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.TokenList", {
        inherits: [System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.Interfaces.IToken),PoorMansTSqlFormatterLib.Interfaces.ITokenList],
        props: {
            HasUnfinishedToken: false,
            MarkerToken: null,
            MarkerPosition: null
        },
        alias: [
            "HasUnfinishedToken", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$HasUnfinishedToken",
            "prettyPrint", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$prettyPrint",
            "getRange$2", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRange",
            "getRangeByIndex", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex",
            "MarkerToken", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$MarkerToken",
            "MarkerPosition", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$MarkerPosition",
            "getEnumerator", "System$Collections$IEnumerable$getEnumerator"
        ],
        methods: {
            prettyPrint: function () {
                var $t;
                var outString = new System.Text.StringBuilder();
                $t = Bridge.getEnumerator(this);
                try {
                    while ($t.moveNext()) {
                        var contentToken = $t.Current;
                        var tokenType = System.Enum.toString(PoorMansTSqlFormatterLib.Interfaces.SqlTokenType, contentToken.PoorMansTSqlFormatterLib$Interfaces$IToken$Type);
                        outString.append(System.String.alignString(tokenType, -20));
                        outString.append(": ");
                        outString.append(contentToken.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                        if (Bridge.equals(contentToken, this.MarkerToken)) {
                            outString.append(" (MARKER - pos ");
                            outString.append(System.Nullable.toString(this.MarkerPosition, null));
                            outString.append(")");
                        }
                        outString.appendLine();
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }return outString.toString();
            },
            getRange$2: function (index, count) {
                return this.getRange(index, count);
            },
            getRangeByIndex: function (fromIndex, toIndex) {
                return this.getRange$2(fromIndex, ((((toIndex - fromIndex) | 0) + 1) | 0));
            }
        }
    });
});

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJQb29yTWFuc1RTcWxGb3JtYXR0ZXJKUy5qcyIsCiAgInNvdXJjZVJvb3QiOiAiIiwKICAic291cmNlcyI6IFsiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Jhc2VGb3JtYXR0ZXJTdGF0ZS5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9Gb3JtYXR0ZXJzL1RTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMuY3MiLCIuLi9Qb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJTaGFyZWQvSW50ZXJmYWNlcy9TcWxTdHJ1Y3R1cmVDb25zdGFudHMuY3MiLCIuLi9Qb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJTaGFyZWQvT2JmdXNjYXRpbmdLZXl3b3JkTWFwcGluZy5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9QYXJzZVN0cnVjdHVyZS9Ob2RlRXh0ZW5zaW9ucy5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9QYXJzZVN0cnVjdHVyZS9Ob2RlRmFjdG9yeS5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9TdGFuZGFyZEtleXdvcmRSZW1hcHBpbmcuY3MiLCIuLi9Qb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJTaGFyZWQvVG9rZW5pemVycy9TaW1wbGlmaWVkU3RyaW5nUmVhZGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1Rva2VuaXplcnMvVFNxbFN0YW5kYXJkVG9rZW5pemVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1V0aWxzLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvSHRtbFBhZ2VXcmFwcGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvVFNxbElkZW50aXR5Rm9ybWF0dGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvVFNxbFN0YW5kYXJkRm9ybWF0dGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1BhcnNlcnMvVFNxbFN0YW5kYXJkUGFyc2VyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1BhcnNlU3RydWN0dXJlL05vZGVJbXBsLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1NxbEZvcm1hdHRpbmdNYW5hZ2VyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1Rva2VuLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1BhcnNlVHJlZS5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9Ub2tlbkxpc3QuY3MiXSwKICAibmFtZXMiOiBbIiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUNBa0M4Q0EsSUFBSUE7OzRCQU5oQkE7O2dCQUV0QkEsa0JBQWFBOzs7O3dDQU1vQkE7Z0JBRWpDQSx3QkFBaUJBLFNBQVNBOzswQ0FHT0EsU0FBZ0JBO2dCQUVqREEsSUFBSUE7b0JBRUFBLElBQUlBLENBQUNBLDRCQUFxQkE7d0JBQ3RCQSx3QkFBbUJBLHVDQUFvQkE7O29CQUMzQ0Esd0JBQW1CQSwwQ0FBaUJBO29CQUNwQ0EsSUFBSUEsQ0FBQ0EsNEJBQXFCQTt3QkFDdEJBOzs7b0JBR0pBLHdCQUFtQkE7OztpQ0FHR0E7Z0JBRTFCQSxJQUFJQSxpQkFBaUJBO29CQUNqQkEsTUFBTUEsSUFBSUE7OztnQkFFZEEsSUFBSUE7b0JBQ0FBLHdCQUFtQkEsdUNBQW9CQTs7OztnQkFLM0NBLElBQUlBO29CQUNBQTs7OzJDQUdnQ0E7Z0JBRXBDQSx3QkFBbUJBOzs7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S0EsT0FBMEJBOztvQkFFekRBLElBQUlBLHFHQUFpQ0E7d0JBQ2pDQSxnQkFBZ0JBOzs7b0JBRXBCQSxRQUFRQTt3QkFFSkEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNqQkEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDT0EsS0FBS0E7NEJBQ0RBOzRCQUNBQSw2RUFBbUJBLHNFQUF5QkE7NEJBQzVDQTs0QkFDQUE7d0JBRUpBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtB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QSxnQkFBY0EsV0FBV0EsY0FBVUEiLAogICJzb3VyY2VzQ29udGVudCI6IFsiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuICAgIGludGVybmFsIGNsYXNzIEJhc2VGb3JtYXR0ZXJTdGF0ZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBCYXNlRm9ybWF0dGVyU3RhdGUoYm9vbCBodG1sT3V0cHV0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgSHRtbE91dHB1dCA9IGh0bWxPdXRwdXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYm9vbCBIdG1sT3V0cHV0IHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgU3RyaW5nQnVpbGRlciBfb3V0QnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7XHJcblxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHZvaWQgQWRkT3V0cHV0Q29udGVudChzdHJpbmcgY29udGVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEFkZE91dHB1dENvbnRlbnQoY29udGVudCwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCB2b2lkIEFkZE91dHB1dENvbnRlbnQoc3RyaW5nIGNvbnRlbnQsIHN0cmluZyBodG1sQ2xhc3NOYW1lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKEh0bWxPdXRwdXQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3RyaW5nLklzTnVsbE9yRW1wdHkoaHRtbENsYXNzTmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKEBcIjxzcGFuIGNsYXNzPVwiXCJcIiArIGh0bWxDbGFzc05hbWUgKyBAXCJcIlwiPlwiKTtcclxuICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChVdGlscy5IdG1sRW5jb2RlKGNvbnRlbnQpKTtcclxuICAgICAgICAgICAgICAgIGlmICghc3RyaW5nLklzTnVsbE9yRW1wdHkoaHRtbENsYXNzTmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKFwiPC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBfb3V0QnVpbGRlci5BcHBlbmQoY29udGVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCB2b2lkIE9wZW5DbGFzcyhzdHJpbmcgaHRtbENsYXNzTmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChodG1sQ2xhc3NOYW1lID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnROdWxsRXhjZXB0aW9uKFwiaHRtbENsYXNzTmFtZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChIdG1sT3V0cHV0KVxyXG4gICAgICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKEBcIjxzcGFuIGNsYXNzPVwiXCJcIiArIGh0bWxDbGFzc05hbWUgKyBAXCJcIlwiPlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHZvaWQgQ2xvc2VDbGFzcygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoSHRtbE91dHB1dClcclxuICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChAXCI8L3NwYW4+XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgdm9pZCBBZGRPdXRwdXRDb250ZW50UmF3KHN0cmluZyBjb250ZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgdm9pZCBBZGRPdXRwdXRMaW5lQnJlYWsoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKEVudmlyb25tZW50Lk5ld0xpbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBEdW1wT3V0cHV0KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBfb3V0QnVpbGRlci5Ub1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRhbyBLbGVya3NcclxuXHJcbkFkZGl0aW9uYWwgQ29udHJpYnV0b3JzOlxyXG4gKiBUaW1vdGh5IEtsZW5rZSwgMjAxMlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuRm9ybWF0dGVyc1xyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9uc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXJPcHRpb25zKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEluZGVudFN0cmluZyA9IFwiXFx0XCI7XHJcbiAgICAgICAgICAgIFNwYWNlc1BlclRhYiA9IDQ7XHJcbiAgICAgICAgICAgIE1heExpbmVXaWR0aCA9IDk5OTtcclxuICAgICAgICAgICAgRXhwYW5kQ29tbWFMaXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIFRyYWlsaW5nQ29tbWFzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hID0gZmFsc2U7XHJcbiAgICAgICAgICAgIEV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgIEV4cGFuZEJldHdlZW5Db25kaXRpb25zID0gdHJ1ZTtcclxuICAgICAgICAgICAgRXhwYW5kQ2FzZVN0YXRlbWVudHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBVcHBlcmNhc2VLZXl3b3JkcyA9IHRydWU7XHJcbiAgICAgICAgICAgIEJyZWFrSm9pbk9uU2VjdGlvbnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgSFRNTENvbG9yaW5nID0gZmFsc2U7XHJcblx0XHRcdEtleXdvcmRTdGFuZGFyZGl6YXRpb24gPSBmYWxzZTtcclxuXHRcdFx0RXhwYW5kSW5MaXN0cyA9IHRydWU7XHJcblx0XHRcdE5ld0NsYXVzZUxpbmVCcmVha3MgPSAxO1xyXG5cdFx0XHROZXdTdGF0ZW1lbnRMaW5lQnJlYWtzID0gMjtcclxuXHRcdH1cclxuXHJcbiAgICAgICAgLy9Eb2Vzbid0IHBhcnRpY3VsYXJseSBuZWVkIHRvIGJlIGxhenktbG9hZGVkLCBhbmQgZG9lc24ndCBuZWVkIHRvIGJlIHRocmVhZHNhZmUuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9ucyBfZGVmYXVsdE9wdGlvbnMgPSBuZXcgVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9ucygpO1xyXG5cclxuICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9ucyhzdHJpbmcgc2VyaWFsaXplZFN0cmluZykgOiB0aGlzKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KHNlcmlhbGl6ZWRTdHJpbmcpKSBcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9QTEVBU0UgTk9URTogVGhpcyBpcyBub3QgcmV1c2FibGUvZ2VuZXJhbC1wdXJwb3NlIGtleS12YWx1ZSBzZXJpYWxpemF0aW9uOiBpdCBkb2VzIG5vdCBoYW5kbGUgY29tbWFzIGluIGRhdGEuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBuZWVkIHRvIGJlIGVuaGFuY2VkIGlmIHdlIGV2ZXIgbmVlZCB0byBzdG9yZSBmb3JtYXR0ZXIgb3B0aW9ucyB0aGF0IG1pZ2h0IGNvbnRhaW4gZXF1YWxzIHNpZ25zIG9yIFxyXG5cdFx0XHQvLyBjb21tYXMuXHJcbiAgICAgICAgICAgIGZvcmVhY2ggKHN0cmluZyBrdnAgaW4gc2VyaWFsaXplZFN0cmluZy5TcGxpdCgnLCcpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmdbXSBzcGxpdFBhaXIgPSBrdnAuU3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgICAgIHN0cmluZyBrZXkgPSBzcGxpdFBhaXJbMF07XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgdmFsdWUgPSBzcGxpdFBhaXJbMV07XHJcblxyXG5cdFx0XHRcdGlmIChrZXkgPT0gXCJJbmRlbnRTdHJpbmdcIikgSW5kZW50U3RyaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiU3BhY2VzUGVyVGFiXCIpIFNwYWNlc1BlclRhYiA9IENvbnZlcnQuVG9JbnQzMih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiTWF4TGluZVdpZHRoXCIpIE1heExpbmVXaWR0aCA9IENvbnZlcnQuVG9JbnQzMih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiRXhwYW5kQ29tbWFMaXN0c1wiKSBFeHBhbmRDb21tYUxpc3RzID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIlRyYWlsaW5nQ29tbWFzXCIpIFRyYWlsaW5nQ29tbWFzID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIlNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hXCIpIFNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkV4cGFuZEJvb2xlYW5FeHByZXNzaW9uc1wiKSBFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgPSBDb252ZXJ0LlRvQm9vbGVhbih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnNcIikgRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMgPSBDb252ZXJ0LlRvQm9vbGVhbih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiRXhwYW5kQ2FzZVN0YXRlbWVudHNcIikgRXhwYW5kQ2FzZVN0YXRlbWVudHMgPSBDb252ZXJ0LlRvQm9vbGVhbih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiVXBwZXJjYXNlS2V5d29yZHNcIikgVXBwZXJjYXNlS2V5d29yZHMgPSBDb252ZXJ0LlRvQm9vbGVhbih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiQnJlYWtKb2luT25TZWN0aW9uc1wiKSBCcmVha0pvaW5PblNlY3Rpb25zID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkhUTUxDb2xvcmluZ1wiKSBIVE1MQ29sb3JpbmcgPSBDb252ZXJ0LlRvQm9vbGVhbih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiS2V5d29yZFN0YW5kYXJkaXphdGlvblwiKSBLZXl3b3JkU3RhbmRhcmRpemF0aW9uID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkV4cGFuZEluTGlzdHNcIikgRXhwYW5kSW5MaXN0cyA9IENvbnZlcnQuVG9Cb29sZWFuKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJOZXdDbGF1c2VMaW5lQnJlYWtzXCIpIE5ld0NsYXVzZUxpbmVCcmVha3MgPSBDb252ZXJ0LlRvSW50MzIodmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIk5ld1N0YXRlbWVudExpbmVCcmVha3NcIikgTmV3U3RhdGVtZW50TGluZUJyZWFrcyA9IENvbnZlcnQuVG9JbnQzMih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRpb24oXCJVbmtub3duIG9wdGlvbjogXCIgKyBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblx0XHQvL1BMRUFTRSBOT1RFOiBUaGlzIGlzIG5vdCByZXVzYWJsZS9nZW5lcmFsLXB1cnBvc2Uga2V5LXZhbHVlIHNlcmlhbGl6YXRpb246IGl0IGRvZXMgbm90IGhhbmRsZSBjb21tYXMgaW4gZGF0YS5cclxuXHRcdC8vIFRoaXMgd2lsbCBuZWVkIHRvIGJlIGVuaGFuY2VkIGlmIHdlIGV2ZXIgbmVlZCB0byBzdG9yZSBmb3JtYXR0ZXIgb3B0aW9ucyB0aGF0IG1pZ2h0IGNvbnRhaW4gZXF1YWxzIHNpZ25zIG9yIFxyXG5cdFx0Ly8gY29tbWFzLlxyXG5cdFx0cHVibGljIHN0cmluZyBUb1NlcmlhbGl6ZWRTdHJpbmcoKVxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICAgIHZhciBvdmVycmlkZXMgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChJbmRlbnRTdHJpbmcgIT0gX2RlZmF1bHRPcHRpb25zLkluZGVudFN0cmluZykgb3ZlcnJpZGVzLkFkZChcIkluZGVudFN0cmluZ1wiLCBJbmRlbnRTdHJpbmcpO1xyXG4gICAgICAgICAgICBpZiAoU3BhY2VzUGVyVGFiICE9IF9kZWZhdWx0T3B0aW9ucy5TcGFjZXNQZXJUYWIpIG92ZXJyaWRlcy5BZGQoXCJTcGFjZXNQZXJUYWJcIiwgU3BhY2VzUGVyVGFiLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoTWF4TGluZVdpZHRoICE9IF9kZWZhdWx0T3B0aW9ucy5NYXhMaW5lV2lkdGgpIG92ZXJyaWRlcy5BZGQoXCJNYXhMaW5lV2lkdGhcIiwgTWF4TGluZVdpZHRoLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoRXhwYW5kQ29tbWFMaXN0cyAhPSBfZGVmYXVsdE9wdGlvbnMuRXhwYW5kQ29tbWFMaXN0cykgb3ZlcnJpZGVzLkFkZChcIkV4cGFuZENvbW1hTGlzdHNcIiwgRXhwYW5kQ29tbWFMaXN0cy5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKFRyYWlsaW5nQ29tbWFzICE9IF9kZWZhdWx0T3B0aW9ucy5UcmFpbGluZ0NvbW1hcykgb3ZlcnJpZGVzLkFkZChcIlRyYWlsaW5nQ29tbWFzXCIsIFRyYWlsaW5nQ29tbWFzLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoU3BhY2VBZnRlckV4cGFuZGVkQ29tbWEgIT0gX2RlZmF1bHRPcHRpb25zLlNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hKSBvdmVycmlkZXMuQWRkKFwiU3BhY2VBZnRlckV4cGFuZGVkQ29tbWFcIiwgU3BhY2VBZnRlckV4cGFuZGVkQ29tbWEuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgIT0gX2RlZmF1bHRPcHRpb25zLkV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucykgb3ZlcnJpZGVzLkFkZChcIkV4cGFuZEJvb2xlYW5FeHByZXNzaW9uc1wiLCBFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChFeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyAhPSBfZGVmYXVsdE9wdGlvbnMuRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMpIG92ZXJyaWRlcy5BZGQoXCJFeHBhbmRCZXR3ZWVuQ29uZGl0aW9uc1wiLCBFeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucy5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKEV4cGFuZENhc2VTdGF0ZW1lbnRzICE9IF9kZWZhdWx0T3B0aW9ucy5FeHBhbmRDYXNlU3RhdGVtZW50cykgb3ZlcnJpZGVzLkFkZChcIkV4cGFuZENhc2VTdGF0ZW1lbnRzXCIsIEV4cGFuZENhc2VTdGF0ZW1lbnRzLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoVXBwZXJjYXNlS2V5d29yZHMgIT0gX2RlZmF1bHRPcHRpb25zLlVwcGVyY2FzZUtleXdvcmRzKSBvdmVycmlkZXMuQWRkKFwiVXBwZXJjYXNlS2V5d29yZHNcIiwgVXBwZXJjYXNlS2V5d29yZHMuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChCcmVha0pvaW5PblNlY3Rpb25zICE9IF9kZWZhdWx0T3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zKSBvdmVycmlkZXMuQWRkKFwiQnJlYWtKb2luT25TZWN0aW9uc1wiLCBCcmVha0pvaW5PblNlY3Rpb25zLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoSFRNTENvbG9yaW5nICE9IF9kZWZhdWx0T3B0aW9ucy5IVE1MQ29sb3JpbmcpIG92ZXJyaWRlcy5BZGQoXCJIVE1MQ29sb3JpbmdcIiwgSFRNTENvbG9yaW5nLlRvU3RyaW5nKCkpO1xyXG5cdFx0XHRpZiAoS2V5d29yZFN0YW5kYXJkaXphdGlvbiAhPSBfZGVmYXVsdE9wdGlvbnMuS2V5d29yZFN0YW5kYXJkaXphdGlvbikgb3ZlcnJpZGVzLkFkZChcIktleXdvcmRTdGFuZGFyZGl6YXRpb25cIiwgS2V5d29yZFN0YW5kYXJkaXphdGlvbi5Ub1N0cmluZygpKTtcclxuXHRcdFx0aWYgKEV4cGFuZEluTGlzdHMgIT0gX2RlZmF1bHRPcHRpb25zLkV4cGFuZEluTGlzdHMpIG92ZXJyaWRlcy5BZGQoXCJFeHBhbmRJbkxpc3RzXCIsIEV4cGFuZEluTGlzdHMuVG9TdHJpbmcoKSk7XHJcblx0XHRcdGlmIChOZXdDbGF1c2VMaW5lQnJlYWtzICE9IF9kZWZhdWx0T3B0aW9ucy5OZXdDbGF1c2VMaW5lQnJlYWtzKSBvdmVycmlkZXMuQWRkKFwiTmV3Q2xhdXNlTGluZUJyZWFrc1wiLCBOZXdDbGF1c2VMaW5lQnJlYWtzLlRvU3RyaW5nKCkpO1xyXG5cdFx0XHRpZiAoTmV3U3RhdGVtZW50TGluZUJyZWFrcyAhPSBfZGVmYXVsdE9wdGlvbnMuTmV3U3RhdGVtZW50TGluZUJyZWFrcykgb3ZlcnJpZGVzLkFkZChcIk5ld1N0YXRlbWVudExpbmVCcmVha3NcIiwgTmV3U3RhdGVtZW50TGluZUJyZWFrcy5Ub1N0cmluZygpKTtcclxuXHRcdFx0TmV3U3RhdGVtZW50TGluZUJyZWFrcyA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG92ZXJyaWRlcy5Db3VudCA9PSAwKSByZXR1cm4gc3RyaW5nLkVtcHR5O1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLkpvaW4oXCIsXCIsIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6U3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuS2V5VmFsdWVQYWlyPHN0cmluZywgc3RyaW5nPixzdHJpbmc+KG92ZXJyaWRlcywoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OlN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLktleVZhbHVlUGFpcjxzdHJpbmcsIHN0cmluZz4sIHN0cmluZz4pKChrdnApID0+IGt2cC5LZXkgKyBcIj1cIiArIGt2cC5WYWx1ZSkpLlRvQXJyYXkoKSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0cmluZyBfaW5kZW50U3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgSW5kZW50U3RyaW5nXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9pbmRlbnRTdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIF9pbmRlbnRTdHJpbmcgPSB2YWx1ZS5SZXBsYWNlKFwiXFxcXHRcIiwgXCJcXHRcIikuUmVwbGFjZShcIlxcXFxzXCIsIFwiIFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGludCBTcGFjZXNQZXJUYWIgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBpbnQgTWF4TGluZVdpZHRoIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBFeHBhbmRDb21tYUxpc3RzIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBUcmFpbGluZ0NvbW1hcyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgU3BhY2VBZnRlckV4cGFuZGVkQ29tbWEgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgRXhwYW5kQ2FzZVN0YXRlbWVudHMgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZEJldHdlZW5Db25kaXRpb25zIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBVcHBlcmNhc2VLZXl3b3JkcyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgQnJlYWtKb2luT25TZWN0aW9ucyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgSFRNTENvbG9yaW5nIHsgZ2V0OyBzZXQ7IH1cclxuXHRcdHB1YmxpYyBib29sIEtleXdvcmRTdGFuZGFyZGl6YXRpb24geyBnZXQ7IHNldDsgfVxyXG5cdFx0cHVibGljIGJvb2wgRXhwYW5kSW5MaXN0cyB7IGdldDsgc2V0OyB9XHJcblx0XHRwdWJsaWMgaW50IE5ld0NsYXVzZUxpbmVCcmVha3MgeyBnZXQ7IHNldDsgfVxyXG5cdFx0cHVibGljIGludCBOZXdTdGF0ZW1lbnRMaW5lQnJlYWtzIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgU3FsU3RydWN0dXJlQ29uc3RhbnRzXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU1FMX1JPT1QgPSBcIlNxbFJvb3RcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NRTF9TVEFURU1FTlQgPSBcIlNxbFN0YXRlbWVudFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU1FMX0NMQVVTRSA9IFwiQ2xhdXNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFID0gXCJTZXRPcGVyYXRvckNsYXVzZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfSU5TRVJUX0NMQVVTRSA9IFwiSW5zZXJ0Q2xhdXNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9CRUdJTl9FTkRfQkxPQ0sgPSBcIkJlZ2luRW5kQmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1RSWV9CTE9DSyA9IFwiVHJ5QmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NBVENIX0JMT0NLID0gXCJDYXRjaEJsb2NrXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9CQVRDSF9TRVBBUkFUT1IgPSBcIkJhdGNoU2VwYXJhdG9yXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DQVNFX1NUQVRFTUVOVCA9IFwiQ2FzZVN0YXRlbWVudFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ0FTRV9JTlBVVCA9IFwiSW5wdXRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NBU0VfV0hFTiA9IFwiV2hlblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ0FTRV9USEVOID0gXCJUaGVuXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DQVNFX0VMU0UgPSBcIkNhc2VFbHNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9JRl9TVEFURU1FTlQgPSBcIklmU3RhdGVtZW50XCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9FTFNFX0NMQVVTRSA9IFwiRWxzZUNsYXVzZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQk9PTEVBTl9FWFBSRVNTSU9OID0gXCJCb29sZWFuRXhwcmVzc2lvblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfV0hJTEVfTE9PUCA9IFwiV2hpbGVMb29wXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DVVJTT1JfREVDTEFSQVRJT04gPSBcIkN1cnNvckRlY2xhcmF0aW9uXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DVVJTT1JfRk9SX0JMT0NLID0gXCJDdXJzb3JGb3JCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ1VSU09SX0ZPUl9PUFRJT05TID0gXCJDdXJzb3JGb3JPcHRpb25zXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DVEVfV0lUSF9DTEFVU0UgPSBcIkNURVdpdGhDbGF1c2VcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NURV9BTElBUyA9IFwiQ1RFQWxpYXNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NURV9BU19CTE9DSyA9IFwiQ1RFQXNCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQkVHSU5fVFJBTlNBQ1RJT04gPSBcIkJlZ2luVHJhbnNhY3Rpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTiA9IFwiQ29tbWl0VHJhbnNhY3Rpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1JPTExCQUNLX1RSQU5TQUNUSU9OID0gXCJSb2xsYmFja1RyYW5zYWN0aW9uXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9TQVZFX1RSQU5TQUNUSU9OID0gXCJTYXZlVHJhbnNhY3Rpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9ERUNMQVJFX0JMT0NLID0gXCJERExEZWNsYXJlQmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLID0gXCJERExQcm9jZWR1cmFsQmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9PVEhFUl9CTE9DSyA9IFwiRERMT3RoZXJCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRERMX0FTX0JMT0NLID0gXCJERExBc0Jsb2NrXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9ERExfUEFSRU5TID0gXCJERExQYXJlbnNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9TVUJDTEFVU0UgPSBcIkRETFN1YkNsYXVzZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRERMX1JFVFVSTlMgPSBcIkRETFJldHVybnNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETERFVEFJTF9QQVJFTlMgPSBcIkRETERldGFpbFBhcmVuc1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRERMX1dJVEhfQ0xBVVNFID0gXCJERExXaXRoXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9QRVJNSVNTSU9OU19CTE9DSyA9IFwiUGVybWlzc2lvbnNCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMID0gXCJQZXJtaXNzaW9uc0RldGFpbFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUEVSTUlTU0lPTlNfVEFSR0VUID0gXCJQZXJtaXNzaW9uc1RhcmdldFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5UID0gXCJQZXJtaXNzaW9uc1JlY2lwaWVudFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfVFJJR0dFUl9DT05ESVRJT04gPSBcIlRyaWdnZXJDb25kaXRpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMgPSBcIlNlbGVjdGlvblRhcmdldFBhcmVuc1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMgPSBcIkV4cHJlc3Npb25QYXJlbnNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0ZVTkNUSU9OX1BBUkVOUyA9IFwiRnVuY3Rpb25QYXJlbnNcIjtcclxuXHRcdHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfSU5fUEFSRU5TID0gXCJJblBhcmVuc1wiO1xyXG5cdFx0cHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9GVU5DVElPTl9LRVlXT1JEID0gXCJGdW5jdGlvbktleXdvcmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RBVEFUWVBFX0tFWVdPUkQgPSBcIkRhdGFUeXBlS2V5d29yZFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09NUE9VTkRLRVlXT1JEID0gXCJDb21wb3VuZEtleXdvcmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX09USEVSS0VZV09SRCA9IFwiT3RoZXJLZXl3b3JkXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9MQUJFTCA9IFwiTGFiZWxcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NPTlRBSU5FUl9PUEVOID0gXCJDb250YWluZXJPcGVuXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQgPSBcIkNvbnRhaW5lck11bHRpU3RhdGVtZW50Qm9keVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVCA9IFwiQ29udGFpbmVyU2luZ2xlU3RhdGVtZW50Qm9keVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UID0gXCJDb250YWluZXJDb250ZW50Qm9keVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09OVEFJTkVSX0NMT1NFID0gXCJDb250YWluZXJDbG9zZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU0VMRUNUSU9OVEFSR0VUID0gXCJTZWxlY3Rpb25UYXJnZXRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX0NMQVVTRSA9IFwiTWVyZ2VDbGF1c2VcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX1RBUkdFVCA9IFwiTWVyZ2VUYXJnZXRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX1VTSU5HID0gXCJNZXJnZVVzaW5nXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9NRVJHRV9DT05ESVRJT04gPSBcIk1lcmdlQ29uZGl0aW9uXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9NRVJHRV9XSEVOID0gXCJNZXJnZVdoZW5cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX1RIRU4gPSBcIk1lcmdlVGhlblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfTUVSR0VfQUNUSU9OID0gXCJNZXJnZUFjdGlvblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfSk9JTl9PTl9TRUNUSU9OID0gXCJKb2luT25cIjtcclxuXHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9QU0VVRE9OQU1FID0gXCJQc2V1ZG9OYW1lXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9XSElURVNQQUNFID0gXCJXaGl0ZVNwYWNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9PVEhFUk5PREUgPSBcIk90aGVyXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DT01NRU5UX1NJTkdMRUxJTkUgPSBcIlNpbmdsZUxpbmVDb21tZW50XCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFID0gXCJTaW5nbGVMaW5lQ29tbWVudENTdHlsZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUgPSBcIk11bHRpTGluZUNvbW1lbnRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NUUklORyA9IFwiU3RyaW5nXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9OU1RSSU5HID0gXCJOYXRpb25hbFN0cmluZ1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUVVPVEVEX1NUUklORyA9IFwiUXVvdGVkU3RyaW5nXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9CUkFDS0VUX1FVT1RFRF9OQU1FID0gXCJCcmFja2V0UXVvdGVkTmFtZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09NTUEgPSBcIkNvbW1hXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9QRVJJT0QgPSBcIlBlcmlvZFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU0VNSUNPTE9OID0gXCJTZW1pY29sb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NDT1BFUkVTT0xVVElPTk9QRVJBVE9SID0gXCJTY29wZVJlc29sdXRpb25PcGVyYXRvclwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQVNURVJJU0sgPSBcIkFzdGVyaXNrXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9FUVVBTFNTSUdOID0gXCJFcXVhbHNTaWduXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9BTFBIQU9QRVJBVE9SID0gXCJBbHBoYU9wZXJhdG9yXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9PVEhFUk9QRVJBVE9SID0gXCJPdGhlck9wZXJhdG9yXCI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQU5EX09QRVJBVE9SID0gXCJBbmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX09SX09QRVJBVE9SID0gXCJPclwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQkVUV0VFTl9DT05ESVRJT04gPSBcIkJldHdlZW5cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0JFVFdFRU5fTE9XRVJCT1VORCA9IFwiTG93ZXJCb3VuZFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQkVUV0VFTl9VUFBFUkJPVU5EID0gXCJVcHBlckJvdW5kXCI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfTlVNQkVSX1ZBTFVFID0gXCJOdW1iZXJWYWx1ZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfTU9ORVRBUllfVkFMVUUgPSBcIk1vbmV0YXJ5VmFsdWVcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0JJTkFSWV9WQUxVRSA9IFwiQmluYXJ5VmFsdWVcIjtcclxuXHJcbiAgICAgICAgLy9hdHRyaWJ1dGUgbmFtZXNcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEFOQU1FX0VSUk9SRk9VTkQgPSBcImVycm9yRm91bmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEFOQU1FX0hBU0VSUk9SID0gXCJoYXNFcnJvclwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgQU5BTUVfREFUQUxPU1MgPSBcImRhdGFMb3NzTGltaXRhdGlvblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgQU5BTUVfU0lNUExFVEVYVCA9IFwic2ltcGxlVGV4dFwiO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEVOQU1FTElTVF9DT01NRU5UID0gbmV3IHN0cmluZ1tdIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVOQU1FX0NPTU1FTlRfU0lOR0xFTElORSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FX0NTVFlMRVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEVOQU1FTElTVF9OT05DT05URU5UID0gbmV3IHN0cmluZ1tdIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfV0hJVEVTUEFDRSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVOQU1FX0NPTU1FTlRfU0lOR0xFTElORSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FX0NTVFlMRVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEVOQU1FTElTVF9OT05TRU1BTlRJQ0NPTlRFTlQgPSBuZXcgc3RyaW5nW10ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFTkFNRV9TUUxfQ0xBVVNFLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfRERMX09USEVSX0JMT0NLLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFTkFNRV9ERExfREVDTEFSRV9CTE9DS1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgIH1cclxufVxyXG4iLCIvKlxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xuXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cbiovXG5cbnVzaW5nIFN5c3RlbTtcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xuXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXG57XG4gICAgc3RhdGljIGNsYXNzIE9iZnVzY2F0aW5nS2V5d29yZE1hcHBpbmdcbiAgICB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4gSW5zdGFuY2UgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XG4gICAgICAgIHN0YXRpYyBPYmZ1c2NhdGluZ0tleXdvcmRNYXBwaW5nKClcbiAgICAgICAge1xuICAgICAgICAgICAgSW5zdGFuY2UgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4oKTtcblxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiUFJPQ0VEVVJFXCIsIFwiUFJPQ1wiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkxFRlQgT1VURVIgSk9JTlwiLCBcIkxFRlQgSk9JTlwiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlJJR0hUIE9VVEVSIEpPSU5cIiwgXCJSSUdIVCBKT0lOXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiRlVMTCBPVVRFUiBKT0lOXCIsIFwiRlVMTCBKT0lOXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiSU5ORVIgSk9JTlwiLCBcIkpPSU5cIik7XG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJUUkFOU0FDVElPTlwiLCBcIlRSQU5cIik7XG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJCRUdJTiBUUkFOU0FDVElPTlwiLCBcIkJFR0lOIFRSQU5cIik7XG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJDT01NSVQgVFJBTlNBQ1RJT05cIiwgXCJDT01NSVQgVFJBTlwiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlJPTExCQUNLIFRSQU5TQUNUSU9OXCIsIFwiUk9MTEJBQ0sgVFJBTlwiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlZBUkJJTkFSWVwiLCBcIkJJTkFSWSBWQVJZSU5HXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiVkFSQ0hBUlwiLCBcIkNIQVJBQ1RFUiBWQVJZSU5HXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQ0hBUkFDVEVSXCIsIFwiQ0hBUlwiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkNIQVIgVkFSWUlOR1wiLCBcIlZBUkNIQVJcIik7XG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJERUNJTUFMXCIsIFwiREVDXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiRkxPQVRcIiwgXCJET1VCTEUgUFJFQ0lTSU9OXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiSU5URUdFUlwiLCBcIklOVFwiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5DSEFSXCIsIFwiTkFUSU9OQUwgQ0hBUkFDVEVSXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiTkFUSU9OQUwgQ0hBUlwiLCBcIk5DSEFSXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiTlZBUkNIQVJcIiwgXCJOQVRJT05BTCBDSEFSQUNURVIgVkFSWUlOR1wiKTtcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5BVElPTkFMIENIQVIgVkFSWUlOR1wiLCBcIk5WQVJDSEFSXCIpO1xuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiTlRFWFRcIiwgXCJOQVRJT05BTCBURVhUXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZVxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIE5vZGVFeHRlbnNpb25zXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIEZvbGxvd2luZ0NoaWxkKHRoaXMgTm9kZSB2YWx1ZSwgTm9kZSBmcm9tQ2hpbGQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZyb21DaGlsZCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50TnVsbEV4Y2VwdGlvbihcImZyb21DaGlsZFwiKTtcclxuXHJcbiAgICAgICAgICAgIGJvb2wgdGFyZ2V0Rm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgTm9kZSBzaWJsaW5nID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBjaGlsZCBpbiB2YWx1ZS5DaGlsZHJlbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEZvdW5kKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgPT0gZnJvbUNoaWxkKVxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgUHJldmlvdXNDaGlsZCh0aGlzIE5vZGUgdmFsdWUsIE5vZGUgZnJvbUNoaWxkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChmcm9tQ2hpbGQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oXCJmcm9tQ2hpbGRcIik7XHJcblxyXG4gICAgICAgICAgICBOb2RlIHByZXZpb3VzU2libGluZyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmb3JlYWNoICh2YXIgY2hpbGQgaW4gdmFsdWUuQ2hpbGRyZW4pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZCA9PSBmcm9tQ2hpbGQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzU2libGluZztcclxuXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NpYmxpbmcgPSBjaGlsZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgTmV4dFNpYmxpbmcodGhpcyBOb2RlIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUuUGFyZW50ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5QYXJlbnQuRm9sbG93aW5nQ2hpbGQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIFByZXZpb3VzU2libGluZyh0aGlzIE5vZGUgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZS5QYXJlbnQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLlBhcmVudC5QcmV2aW91c0NoaWxkKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTm9kZSBSb290Q29udGFpbmVyKHRoaXMgTm9kZSB2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICBOb2RlIGN1cnJlbnRQYXJlbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRQYXJlbnQuUGFyZW50ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBJRW51bWVyYWJsZTxOb2RlPiBDaGlsZHJlbkJ5TmFtZSh0aGlzIE5vZGUgdmFsdWUsIHN0cmluZyBuYW1lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRW51bWVyYWJsZS5FbXB0eTxOb2RlPigpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuV2hlcmU8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4odmFsdWUuQ2hpbGRyZW4sKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZSwgYm9vbD4pKHAgPT4gcC5OYW1lID09IG5hbWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSUVudW1lcmFibGU8Tm9kZT4gQ2hpbGRyZW5CeU5hbWVzKHRoaXMgTm9kZSB2YWx1ZSwgSUVudW1lcmFibGU8c3RyaW5nPiBuYW1lcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVudW1lcmFibGUuRW1wdHk8Tm9kZT4oKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLldoZXJlPGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGU+KHZhbHVlLkNoaWxkcmVuLChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGUsIGJvb2w+KShwID0+IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuQ29udGFpbnM8c3RyaW5nPihuYW1lcyxwLk5hbWUpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIElFbnVtZXJhYmxlPE5vZGU+IENoaWxkcmVuRXhjbHVkaW5nTmFtZXModGhpcyBOb2RlIHZhbHVlLCBJRW51bWVyYWJsZTxzdHJpbmc+IG5hbWVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRW51bWVyYWJsZS5FbXB0eTxOb2RlPigpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuV2hlcmU8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4odmFsdWUuQ2hpbGRyZW4sKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZSwgYm9vbD4pKHAgPT4gIVN5c3RlbS5MaW5xLkVudW1lcmFibGUuQ29udGFpbnM8c3RyaW5nPihuYW1lcyxwLk5hbWUpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgQ2hpbGRCeU5hbWUodGhpcyBOb2RlIHZhbHVlLCBzdHJpbmcgbmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNpbmdsZU9yRGVmYXVsdDxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPih2YWx1ZS5DaGlsZHJlbkJ5TmFtZShuYW1lKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgQ2hpbGRCeU5hbWVzKHRoaXMgTm9kZSB2YWx1ZSwgSUVudW1lcmFibGU8c3RyaW5nPiBuYW1lcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNpbmdsZU9yRGVmYXVsdDxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPih2YWx1ZS5DaGlsZHJlbkJ5TmFtZXMobmFtZXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTm9kZSBDaGlsZEV4Y2x1ZGluZ05hbWVzKHRoaXMgTm9kZSB2YWx1ZSwgSUVudW1lcmFibGU8c3RyaW5nPiBuYW1lcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNpbmdsZU9yRGVmYXVsdDxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPih2YWx1ZS5DaGlsZHJlbkV4Y2x1ZGluZ05hbWVzKG5hbWVzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgRXh0cmFjdFN0cnVjdHVyZUJldHdlZW4oTm9kZSBzdGFydGluZ0VsZW1lbnQsIE5vZGUgZW5kaW5nRWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgY3VycmVudE5vZGUgPSBzdGFydGluZ0VsZW1lbnQ7XHJcbiAgICAgICAgICAgIE5vZGUgcHJldmlvdXNOb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgTm9kZSByZW1haW5kZXIgPSBudWxsO1xyXG4gICAgICAgICAgICBOb2RlIHJlbWFpbmRlclBvc2l0aW9uID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUuRXF1YWxzKGVuZGluZ0VsZW1lbnQpKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c05vZGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBOb2RlIGNvcHlPZlRoaXNOb2RlID0gTm9kZUZhY3RvcnkuQ3JlYXRlTm9kZShjdXJyZW50Tm9kZS5OYW1lLCBjdXJyZW50Tm9kZS5UZXh0VmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICh2YXIgYXR0cmlidXRlIGluIGN1cnJlbnROb2RlLkF0dHJpYnV0ZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlPZlRoaXNOb2RlLlNldEF0dHJpYnV0ZShhdHRyaWJ1dGUuS2V5LCBhdHRyaWJ1dGUuVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluZGVyUG9zaXRpb24gPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclBvc2l0aW9uID0gY29weU9mVGhpc05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlciA9IGNvcHlPZlRoaXNOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Tm9kZS5FcXVhbHMocHJldmlvdXNOb2RlLlBhcmVudCkgJiYgcmVtYWluZGVyUG9zaXRpb24uUGFyZW50ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbiA9IHJlbWFpbmRlclBvc2l0aW9uLlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE5vZGUuRXF1YWxzKHByZXZpb3VzTm9kZS5QYXJlbnQpICYmIHJlbWFpbmRlclBvc2l0aW9uLlBhcmVudCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weU9mVGhpc05vZGUuQWRkQ2hpbGQocmVtYWluZGVyUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbiA9IGNvcHlPZlRoaXNOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIgPSBjb3B5T2ZUaGlzTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE5vZGUuRXF1YWxzKHByZXZpb3VzTm9kZS5OZXh0U2libGluZygpKSAmJiByZW1haW5kZXJQb3NpdGlvbi5QYXJlbnQgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclBvc2l0aW9uLlBhcmVudC5BZGRDaGlsZChjb3B5T2ZUaGlzTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclBvc2l0aW9uID0gY29weU9mVGhpc05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnROb2RlLkVxdWFscyhwcmV2aW91c05vZGUuTmV4dFNpYmxpbmcoKSkgJiYgcmVtYWluZGVyUG9zaXRpb24uUGFyZW50ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGNvcHlPZlRoaXNOb2Rlc1BhcmVudCA9IE5vZGVGYWN0b3J5LkNyZWF0ZU5vZGUoY3VycmVudE5vZGUuUGFyZW50Lk5hbWUsIGN1cnJlbnROb2RlLlBhcmVudC5UZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIgPSBjb3B5T2ZUaGlzTm9kZXNQYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlci5BZGRDaGlsZChyZW1haW5kZXJQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlci5BZGRDaGlsZChjb3B5T2ZUaGlzTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclBvc2l0aW9uID0gY29weU9mVGhpc05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2UgbXVzdCBiZSBhIGNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclBvc2l0aW9uLkFkZENoaWxkKGNvcHlPZlRoaXNOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyUG9zaXRpb24gPSBjb3B5T2ZUaGlzTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgTm9kZSBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNOb2RlICE9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAmJiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkFueTxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPihjdXJyZW50Tm9kZS5DaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICAgICAmJiAhKGN1cnJlbnROb2RlLkVxdWFscyhwcmV2aW91c05vZGUuUGFyZW50KSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkZpcnN0T3JEZWZhdWx0PGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGU+KGN1cnJlbnROb2RlLkNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnROb2RlLk5leHRTaWJsaW5nKCkgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGN1cnJlbnROb2RlLk5leHRTaWJsaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBjdXJyZW50Tm9kZS5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gY3VycmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IG5leHROb2RlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVtYWluZGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZVxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIE5vZGVGYWN0b3J5XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIENyZWF0ZU5vZGUoc3RyaW5nIG5hbWUsIHN0cmluZyB0ZXh0VmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVJbXBsKCkgeyBOYW1lID0gbmFtZSwgVGV4dFZhbHVlID0gdGV4dFZhbHVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuICAgIHN0YXRpYyBjbGFzcyBTdGFuZGFyZEtleXdvcmRSZW1hcHBpbmdcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIERpY3Rpb25hcnk8c3RyaW5nLCBzdHJpbmc+IEluc3RhbmNlIHsgZ2V0OyBwcml2YXRlIHNldDsgIH1cclxuICAgICAgICBzdGF0aWMgU3RhbmRhcmRLZXl3b3JkUmVtYXBwaW5nKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEluc3RhbmNlID0gbmV3IERpY3Rpb25hcnk8c3RyaW5nLCBzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJQUk9DXCIsIFwiUFJPQ0VEVVJFXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJMRUZUIE9VVEVSIEpPSU5cIiwgXCJMRUZUIEpPSU5cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlJJR0hUIE9VVEVSIEpPSU5cIiwgXCJSSUdIVCBKT0lOXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJGVUxMIE9VVEVSIEpPSU5cIiwgXCJGVUxMIEpPSU5cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkpPSU5cIiwgXCJJTk5FUiBKT0lOXCIpO1xyXG4gICAgICAgICAgICAvL1RPRE86IFRoaXMgaXMgbm93IHdyb25nIGluIE1FUkdFIHN0YXRlbWVudHMuLi4gd2Ugbm93IG5lZWQgYSBzY29wZS1saW1pdGF0aW9uIHN0cmF0ZWd5IDooXHJcbiAgICAgICAgICAgIC8vSW5zdGFuY2UuQWRkKFwiSU5TRVJUXCIsIFwiSU5TRVJUIElOVE9cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlRSQU5cIiwgXCJUUkFOU0FDVElPTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQkVHSU4gVFJBTlwiLCBcIkJFR0lOIFRSQU5TQUNUSU9OXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJDT01NSVQgVFJBTlwiLCBcIkNPTU1JVCBUUkFOU0FDVElPTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiUk9MTEJBQ0sgVFJBTlwiLCBcIlJPTExCQUNLIFRSQU5TQUNUSU9OXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJCSU5BUlkgVkFSWUlOR1wiLCBcIlZBUkJJTkFSWVwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQ0hBUiBWQVJZSU5HXCIsIFwiVkFSQ0hBUlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQ0hBUkFDVEVSXCIsIFwiQ0hBUlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQ0hBUkFDVEVSIFZBUllJTkdcIiwgXCJWQVJDSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJERUNcIiwgXCJERUNJTUFMXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJET1VCTEUgUFJFQ0lTSU9OXCIsIFwiRkxPQVRcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIklOVEVHRVJcIiwgXCJJTlRcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5BVElPTkFMIENIQVJBQ1RFUlwiLCBcIk5DSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJOQVRJT05BTCBDSEFSXCIsIFwiTkNIQVJcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5BVElPTkFMIENIQVJBQ1RFUiBWQVJZSU5HXCIsIFwiTlZBUkNIQVJcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5BVElPTkFMIENIQVIgVkFSWUlOR1wiLCBcIk5WQVJDSEFSXCIpO1xyXG5cdFx0XHRJbnN0YW5jZS5BZGQoXCJOQVRJT05BTCBURVhUXCIsIFwiTlRFWFRcIik7XHJcblx0XHRcdEluc3RhbmNlLkFkZChcIk9VVFwiLCBcIk9VVFBVVFwiKTtcclxuXHRcdFx0Ly9UT0RPOiBUaGlzIGlzIHdyb25nIHdoZW4gYSBUSU1FU1RBTVAgY29sdW1uIGlzIHVubmFtZWQ7IFJPV1ZFUlNJT04gZG9lcyBub3QgYXV0by1uYW1lLiBEdWUgdG8gY29udGV4dC1zZW5zaXRpdml0eSwgdGhpcyBtYXBwaW5nIGlzIGRpc2FibGVkIGZvciBub3cuXHJcbiAgICAgICAgICAgIC8vIFJFRjogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zMTgyNzc2LmFzcHhcclxuICAgICAgICAgICAgLy9JbnN0YW5jZS5BZGQoXCJUSU1FU1RBTVBcIiwgXCJST1dWRVJTSU9OXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlRva2VuaXplcnNcclxue1xyXG4gICAgaW50ZXJuYWwgY2xhc3MgU2ltcGxpZmllZFN0cmluZ1JlYWRlclxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgY2hhcltdIGlucHV0Q2hhcnM7XHJcbiAgICAgICAgcHJpdmF0ZSBpbnQgbmV4dENoYXJJbmRleCA9IDA7XHJcblxyXG4gICAgICAgIHB1YmxpYyBTaW1wbGlmaWVkU3RyaW5nUmVhZGVyKHN0cmluZyBpbnB1dFN0cmluZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRDaGFycyA9IGlucHV0U3RyaW5nLlRvQ2hhckFycmF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBpbnQgUmVhZCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbnQgbmV4dENoYXIgPSBQZWVrKCk7XHJcbiAgICAgICAgICAgIG5leHRDaGFySW5kZXgrKztcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRDaGFyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgaW50IFBlZWsoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKG5leHRDaGFySW5kZXggPCBpbnB1dENoYXJzLkxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dENoYXJzW25leHRDaGFySW5kZXhdO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL25vdGUsIGludGVudGlvbmFsIGRpZmZlcmVuY2UgYmV0d2VlbiBpbmRleCAoemVyby1iYXNlZCkgYW5kIHBvc2l0aW9uICgxLWJhc2VkKS4gWmVybyBoZXJlIG1lYW5zIFwibm90aGluZyBvdXRwdXQgeWV0XCIuXHJcbiAgICAgICAgaW50ZXJuYWwgbG9uZyBMYXN0Q2hhcmFjdGVyUG9zaXRpb25cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dENoYXJJbmRleCA8PSBpbnB1dENoYXJzLkxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dENoYXJJbmRleDtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRDaGFycy5MZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuSW50ZXJmYWNlcztcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuVG9rZW5pemVyc1xyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgVFNxbFN0YW5kYXJkVG9rZW5pemVyIDogSVNxbFRva2VuaXplclxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgY2xhc3MgVG9rZW5pemF0aW9uU3RhdGVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHB1YmxpYyBUb2tlbkxpc3QgVG9rZW5Db250YWluZXIgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBTaW1wbGlmaWVkU3RyaW5nUmVhZGVyIElucHV0UmVhZGVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlRva2VuaXplcnMuVFNxbFN0YW5kYXJkVG9rZW5pemVyLlNxbFRva2VuaXphdGlvblR5cGU/IEN1cnJlbnRUb2tlbml6YXRpb25UeXBlIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIFN0cmluZ0J1aWxkZXIgQ3VycmVudFRva2VuVmFsdWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgaW50IENvbW1lbnROZXN0aW5nIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGludCBDdXJyZW50Q2hhckludCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBjaGFyIEN1cnJlbnRDaGFyXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDdXJyZW50Q2hhckludCA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm8gY2hhcmFjdGVyIGhhcyBiZWVuIHJlYWQgZnJvbSB0aGUgc3RyZWFtXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIUhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcGVyYXRpb25FeGNlcHRpb24oXCJUaGUgY3VycmVudCBjaGFyYWN0ZXIgaGFzIGFscmVhZHkgYmVlbiBjb25zdW1lZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjaGFyKUN1cnJlbnRDaGFySW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBsb25nPyBSZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbiB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGJvb2wgSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBUb2tlbml6YXRpb25TdGF0ZShzdHJpbmcgaW5wdXRTUUwsIGxvbmc/IHJlcXVlc3RlZE1hcmtlclBvc2l0aW9uKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdGVkTWFya2VyUG9zaXRpb24gPiBpbnB1dFNRTC5MZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKFwiUmVxdWVzdGVkIG1hcmtlciBwb3NpdGlvbiBjYW5ub3QgYmUgYmV5b25kIHRoZSBlbmQgb2YgdGhlIGlucHV0IHN0cmluZ1wiLCBcInJlcXVlc3RlZE1hcmtlclBvc2l0aW9uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIElucHV0UmVhZGVyID0gbmV3IFNpbXBsaWZpZWRTdHJpbmdSZWFkZXIoaW5wdXRTUUwpO1xyXG4gICAgICAgICAgICAgICAgUmVxdWVzdGVkTWFya2VyUG9zaXRpb24gPSByZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW50ZXJuYWwgdm9pZCBSZWFkTmV4dENoYXJhY3RlcigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChIYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucHJvY2Vzc2VkIGNoYXJhY3RlciBkZXRlY3RlZCFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgQ3VycmVudENoYXJJbnQgPSBJbnB1dFJlYWRlci5SZWFkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEN1cnJlbnRDaGFySW50ID49IDApXHJcbiAgICAgICAgICAgICAgICAgICAgSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW50ZXJuYWwgdm9pZCBDb25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJObyBjdXJyZW50IGNoYXJhY3RlciB0byBjb25zdW1lIVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoQ3VycmVudENoYXIpO1xyXG4gICAgICAgICAgICAgICAgSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGludGVybmFsIHZvaWQgSGFzUmVtYWluaW5nQ2hhcmFjdGVycygpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJObyBjdXJyZW50IGNoYXJhY3RlciB0byBjb25zdW1lIVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoQ3VycmVudENoYXIpO1xyXG4gICAgICAgICAgICAgICAgSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpbnRlcm5hbCB2b2lkIERpc2NhcmROZXh0Q2hhcmFjdGVyKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgUmVhZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgIEhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxuXHJcbiAgICAgICAgXG5wcml2YXRlIFRva2VuTGlzdCBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fVG9rZW5Db250YWluZXI9bmV3IFRva2VuTGlzdCgpO3ByaXZhdGUgU2ltcGxpZmllZFN0cmluZ1JlYWRlciBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fSW5wdXRSZWFkZXI9bnVsbDtwcml2YXRlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5Ub2tlbml6ZXJzLlRTcWxTdGFuZGFyZFRva2VuaXplci5TcWxUb2tlbml6YXRpb25UeXBlPyBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fQ3VycmVudFRva2VuaXphdGlvblR5cGU9bnVsbDtwcml2YXRlIFN0cmluZ0J1aWxkZXIgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0N1cnJlbnRUb2tlblZhbHVlPW5ldyBTdHJpbmdCdWlsZGVyKCk7cHJpdmF0ZSBpbnQgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0NvbW1lbnROZXN0aW5nPTA7cHJpdmF0ZSBpbnQgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0N1cnJlbnRDaGFySW50PS0xO31cclxuXHJcbiAgICAgICAgcHVibGljIElUb2tlbkxpc3QgVG9rZW5pemVTUUwoc3RyaW5nIGlucHV0U1FMKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRva2VuaXplU1FMKGlucHV0U1FMLCBudWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBJVG9rZW5MaXN0IFRva2VuaXplU1FMKHN0cmluZyBpbnB1dFNRTCwgbG9uZz8gcmVxdWVzdGVkTWFya2VyUG9zaXRpb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBuZXcgVG9rZW5pemF0aW9uU3RhdGUoaW5wdXRTUUwsIHJlcXVlc3RlZE1hcmtlclBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIHN0YXRlLlJlYWROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NPck9wZW5Ub2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVhZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlLlZhbHVlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5XaGl0ZVNwYWNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNXaGl0ZXNwYWNlKHN0YXRlLkN1cnJlbnRDaGFyKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQZXJpb2Q6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuRGVjaW1hbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlWmVybzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICd4JyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnWCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5CaW5hcnlWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLkRlY2ltYWxWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdlJyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnRScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5GbG9hdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5EZWNpbWFsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID49ICcwJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnOScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuRGVjaW1hbFZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJ2UnIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09ICdFJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLkZsb2F0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID49ICcwJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnOScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuRmxvYXRWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID49ICcwJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnOScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHN0YXRlLkN1cnJlbnRDaGFyID09ICctJyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnKycpICYmIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkuVG9VcHBlcigpLkVuZHNXaXRoKFwiRVwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5CaW5hcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHN0YXRlLkN1cnJlbnRDaGFyID49ICdBJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnRicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoc3RhdGUuQ3VycmVudENoYXIgPj0gJ2EnICYmIHN0YXRlLkN1cnJlbnRDaGFyIDw9ICdmJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVEb2xsYXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnJCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnQScgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJ1onKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHN0YXRlLkN1cnJlbnRDaGFyID49ICdhJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAneicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuUHNldWRvTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICctJyAmJiBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5MZW5ndGggPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLicgJiYgIXN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkuQ29udGFpbnMoXCIuXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUh5cGhlbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICctJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUxpbmVDb21tZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vRElTQ0FSRElORyB0aGUgaHlwaGVuIGJlY2F1c2Ugb2Ygd2VpcmQgc3RhbmRhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCctJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnLScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVNsYXNoOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJyonKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuQmxvY2tDb21tZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vRElTQ0FSRElORyB0aGUgYXN0ZXJpc2sgYmVjYXVzZSBvZiB3ZWlyZCBzdGFuZGFyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29tbWVudE5lc3RpbmcrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL0RJU0NBUkRJTkcgdGhlIHNsYXNoIGJlY2F1c2Ugb2Ygd2VpcmQgc3RhbmRhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnLycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09IChjaGFyKTEzIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09IChjaGFyKTEwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgbmV4dENoYXJJbnQgPSBzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gKGNoYXIpMTMgJiYgbmV4dENoYXJJbnQgPT0gMTApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWFkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kQ2hhckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLkJsb2NrQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcqJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLklucHV0UmVhZGVyLlBlZWsoKSA9PSAoaW50KScvJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db21tZW50TmVzdGluZy0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5Db21tZW50TmVzdGluZyA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWFkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9kaXNjYXJkaW5nIHRoZSBhc3Rlcmlza1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWFkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IERBTkdFUiBEQU5HRVIgd2h5IGRvIFwiY29udGFpbmVkXCIgdG9rZW4gdHlwZXMgaGF2ZSB0aGlzIGluY29uc2lzdGVudCBoYW5kbGluZyB3aGVyZSB0aGUgZGVsaW1pdGVycyBhcmUgbm90IGluIHRoZSB2YWx1ZT8/P1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLycgJiYgc3RhdGUuSW5wdXRSZWFkZXIuUGVlaygpID09IChpbnQpJyonKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVhZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbW1lbnROZXN0aW5nKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk90aGVyTm9kZTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuUHNldWRvTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTm9uV29yZENoYXJhY3RlcihzdGF0ZS5DdXJyZW50Q2hhcikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdcXCcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuTlN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL0RJU0NBUkRJTkcgdGhlIGFwb3N0cm9waGUgYmVjYXVzZSBvZiB3ZWlyZCBzdGFuZGFyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChJc05vbldvcmRDaGFyYWN0ZXIoc3RhdGUuQ3VycmVudENoYXIpKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck5vZGU7XHJcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJ04nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuTlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJ1xcJycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCkgPT0gKGludCknXFwnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0aGUgY2hhcmFjdGVyIChvbmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgYXdheSB0aGUgc2Vjb25kIGNoYXJhY3Rlci4uLiBiZWNhdXNlIChmb3Igc29tZSByZWFzb24/KSB3ZSdyZSBzdG9yaW5nIHRoZSBlZmZlY3RpdmUgdmFsdWVcIiByYXRoZXIgdGhhbiB0aGUgcmF3IHRva2VuLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGlzY2FyZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IERBTkdFUiBEQU5HRVIgd2h5IGRvIFwiY29udGFpbmVkXCIgdG9rZW4gdHlwZXMgaGF2ZSB0aGlzIGluY29uc2lzdGVudCBoYW5kbGluZyB3aGVyZSB0aGUgZGVsaW1pdGVycyBhcmUgbm90IGluIHRoZSB2YWx1ZT8/P1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWxsb3dPdXRzdGFuZGluZ0NoYXJhY3RlckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlF1b3RlZFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdcIicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCkgPT0gKGludCknXCInKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRoZSBjaGFyYWN0ZXIgKG9uY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aHJvdyBhd2F5IHRoZSBzZWNvbmQgY2hhcmFjdGVyLi4uIGJlY2F1c2UgKGZvciBzb21lIHJlYXNvbj8pIHdlJ3JlIHN0b3JpbmcgdGhlIGVmZmVjdGl2ZSB2YWx1ZVwiIHJhdGhlciB0aGFuIHRoZSByYXcgdG9rZW4uLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EaXNjYXJkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETzogREFOR0VSIERBTkdFUiB3aHkgZG8gXCJjb250YWluZWRcIiB0b2tlbiB0eXBlcyBoYXZlIHRoaXMgaW5jb25zaXN0ZW50IGhhbmRsaW5nIHdoZXJlIHRoZSBkZWxpbWl0ZXJzIGFyZSBub3QgaW4gdGhlIHZhbHVlPz8/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbGxvd091dHN0YW5kaW5nQ2hhcmFjdGVyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuQnJhY2tldFF1b3RlZE5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnXScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCkgPT0gKGludCknXScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdGhlIGNoYXJhY3RlciAob25jZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Rocm93IGF3YXkgdGhlIHNlY29uZCBjaGFyYWN0ZXIuLi4gYmVjYXVzZSAoZm9yIHNvbWUgcmVhc29uPykgd2UncmUgc3RvcmluZyB0aGUgZWZmZWN0aXZlIHZhbHVlXCIgcmF0aGVyIHRoYW4gdGhlIHJhdyB0b2tlbi4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkRpc2NhcmROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBEQU5HRVIgREFOR0VSIHdoeSBkbyBcImNvbnRhaW5lZFwiIHRva2VuIHR5cGVzIGhhdmUgdGhpcyBpbmNvbnNpc3RlbnQgaGFuZGxpbmcgd2hlcmUgdGhlIGRlbGltaXRlcnMgYXJlIG5vdCBpbiB0aGUgdmFsdWU/Pz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCc8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJz0nIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09ICc+JyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVHVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCc+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJz0nIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09ICc+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kQ2hhckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUFzdGVyaXNrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJyonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc9JylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk90aGVyT3BlcmF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlT3RoZXJDb21wb3VuZGFibGVPcGVyYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk90aGVyT3BlcmF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQaXBlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCd8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScgfHwgc3RhdGUuQ3VycmVudENoYXIgPT0gJ3wnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlRXF1YWxzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJz0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc9JylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kQ2hhckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUV4Y2xhbWF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc9JyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPCcgfHwgc3RhdGUuQ3VycmVudENoYXIgPT0gJz4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiSW4tcHJvZ3Jlc3Mgbm9kZSB1bnJlY29nbml6ZWQhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0YXRlLlJlYWROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlLlZhbHVlID09IFNxbFRva2VuaXphdGlvblR5cGUuQmxvY2tDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfHwgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUuVmFsdWUgPT0gU3FsVG9rZW5pemF0aW9uVHlwZS5TdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB8fCBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZS5WYWx1ZSA9PSBTcWxUb2tlbml6YXRpb25UeXBlLk5TdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB8fCBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZS5WYWx1ZSA9PSBTcWxUb2tlbml6YXRpb25UeXBlLlF1b3RlZFN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHx8IHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlLlZhbHVlID09IFNxbFRva2VuaXphdGlvblR5cGUuQnJhY2tldFF1b3RlZE5hbWVcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuVG9rZW5Db250YWluZXIuSGFzVW5maW5pc2hlZFRva2VuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLlRva2VuQ29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYm9vbCBJc1doaXRlc3BhY2UoY2hhciB0YXJnZXRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRhcmdldENoYXJhY3RlciA9PSAnICdcclxuICAgICAgICAgICAgICAgIHx8IHRhcmdldENoYXJhY3RlciA9PSAnXFx0J1xyXG4gICAgICAgICAgICAgICAgfHwgdGFyZ2V0Q2hhcmFjdGVyID09IChjaGFyKTEwXHJcbiAgICAgICAgICAgICAgICB8fCB0YXJnZXRDaGFyYWN0ZXIgPT0gKGNoYXIpMTNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzTm9uV29yZENoYXJhY3RlcihjaGFyIGN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2NoYXJhY3RlcnMgdGhhdCBwb3AgeW91IG91dCBvZiBhIHJlZ3VsYXIgXCJ3b3JkXCIgY29udGV4dCAobWF5YmUgaW50byBhIG5ldyB3b3JkKVxyXG4gICAgICAgICAgICByZXR1cm4gKElzV2hpdGVzcGFjZShjdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgfHwgSXNPcGVyYXRvckNoYXJhY3RlcihjdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgfHwgKElzQ3VycmVuY3lQcmVmaXgoY3VycmVudENoYXJhY3RlcikgJiYgY3VycmVudENoYXJhY3RlciAhPSAnJCcpXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICdcXCcnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICdcIidcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJywnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcuJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnWydcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJygnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcpJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnISdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJzsnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICc6J1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJvb2wgSXNDb21wb3VuZGFibGVPcGVyYXRvckNoYXJhY3RlcihjaGFyIGN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL29wZXJhdG9yIGNoYXJhY3RlcnMgdGhhdCBjYW4gYmUgY29tcG91bmRlZCBieSBhIHN1YnNlcXVlbnQgXCJlcXVhbHNcIiBzaWduXHJcbiAgICAgICAgICAgIHJldHVybiAoY3VycmVudENoYXJhY3RlciA9PSAnLydcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJy0nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcrJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnKidcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJyUnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcmJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnXidcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJzwnXHJcblx0XHRcdFx0fHwgY3VycmVudENoYXJhY3RlciA9PSAnPidcclxuXHRcdFx0XHR8fCBjdXJyZW50Q2hhcmFjdGVyID09ICd8J1xyXG5cdFx0XHRcdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzT3BlcmF0b3JDaGFyYWN0ZXIoY2hhciBjdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9vcGVyYXRvciBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIHJldHVybiAoY3VycmVudENoYXJhY3RlciA9PSAnLydcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJy0nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcrJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnJSdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJyonXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcmJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnfCdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJ14nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICc9J1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnPCdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJz4nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICd+J1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJvb2wgSXNDdXJyZW5jeVByZWZpeChjaGFyIGN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3N5bWJvbHMgdGhhdCBTUUwgU2VydmVyIHJlY29nbml6ZXMgYXMgY3VycmVuY3kgcHJlZml4ZXMgLSB0aGVzZSBhbHNvIGhhcHBlbiB0byBcclxuICAgICAgICAgICAgLy8gYmUgd29yZC1icmVha2VycywgZXhjZXB0IHRoZSBkb2xsYXIuIFJlZjpcclxuICAgICAgICAgICAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zMTg4Njg4LmFzcHhcclxuICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MDAyNFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDAwQTJcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgwMEEzXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MDBBNFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDAwQTVcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgwOUYyXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MDlGM1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDBFM0ZcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgxN0RCXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBMFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQTFcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEEyXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBM1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQTRcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEE1XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBNlxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQTdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEE4XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBOVxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQUFcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEFCXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBQ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQURcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEFFXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBRlxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQjBcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEIxXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4RkRGQ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweEZFNjlcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHhGRjA0XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4RkZFMFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweEZGRTFcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHhGRkU1XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4RkZFNlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQ29tcGxldGVUb2tlbihzdGF0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFByb2Nlc3NPck9wZW5Ub2tlbihzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgQ29tcGxldGVUb2tlbihzdGF0ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy90aGlzIGlzIGZvciBjYXNlcyB3aGVyZSB3ZSAqa25vdyogd2UgYXJlIHN3YWxsb3dpbmcgdGhlIFwiY3VycmVudCBjaGFyYWN0ZXJcIiAobm90IHB1dHRpbmcgaXQgaW4gdGhlIG91dHB1dClcclxuICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIENvbXBsZXRlVG9rZW4oc3RhdGUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgUHJvY2Vzc09yT3BlblRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiQ2Fubm90IHN0YXJ0IGEgbmV3IFRva2VuOiBleGlzdGluZyBUb2tlbml6YXRpb24gVHlwZSBpcyBub3QgbnVsbFwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIkNhbm5vdCBzdGFydCBhIG5ldyBUb2tlbjogbm8gKG91dHN0YW5kaW5nKSBjdXJyZW50IGNoYXJhY3RlciBzcGVjaWZpZWQhXCIpO1xyXG5cclxuICAgICAgICAgICAgLy9zdGFydCBhIG5ldyB2YWx1ZS5cclxuICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuTGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChJc1doaXRlc3BhY2Uoc3RhdGUuQ3VycmVudENoYXIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuV2hpdGVTcGFjZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJy0nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlSHlwaGVuO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmcsIHdpbGwgYmUgcmVpbnNlcnRlZCBsYXRlclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICckJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZURvbGxhcjtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLycpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVTbGFzaDtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnTicpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVOO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmcsIHdpbGwgYmUgcmVpbnNlcnRlZCBsYXRlciBleGNlcHQgTi1zdHJpbmcgY2FzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdcXCcnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnXCInKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuUXVvdGVkU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnWycpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5CcmFja2V0UXVvdGVkTmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJygnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3BlblBhcmVucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJyknKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQ2xvc2VQYXJlbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcsJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2F2ZUN1cnJlbnRDaGFyVG9OZXdUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLkNvbW1hKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLicpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQZXJpb2Q7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJzAnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlWmVybztcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMScgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChJc0N1cnJlbmN5UHJlZml4KHN0YXRlLkN1cnJlbnRDaGFyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc7JylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2F2ZUN1cnJlbnRDaGFyVG9OZXdUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLlNlbWljb2xvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJzonKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQ29sb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcqJylcclxuICAgICAgICAgICAge1xyXG5cdFx0XHRcdHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVBc3RlcmlzaztcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVFcXVhbHM7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJzwnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTFQ7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJz4nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlR1Q7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJyEnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlRXhjbGFtYXRpb247XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJ3wnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlUGlwZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChJc0NvbXBvdW5kYWJsZU9wZXJhdG9yQ2hhcmFjdGVyKHN0YXRlLkN1cnJlbnRDaGFyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZU90aGVyQ29tcG91bmRhYmxlT3BlcmF0b3I7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKElzT3BlcmF0b3JDaGFyYWN0ZXIoc3RhdGUuQ3VycmVudENoYXIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJPcGVyYXRvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBDb21wbGV0ZVRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlLCBib29sIG5leHRDaGFyUmVhZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIkNhbm5vdCBjb21wbGV0ZSBUb2tlbiwgYXMgdGhlcmUgaXMgbm8gY3VycmVudCBUb2tlbml6YXRpb24gVHlwZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUpXHJcbiAgICAgICAgICAgIHtcclxuXHRcdFx0XHRjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuQmxvY2tDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnQsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck5vZGU6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJOb2RlLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuUHNldWRvTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5Qc2V1ZG9OYW1lLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnQsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZSwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUh5cGhlbjpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yLCBcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZURvbGxhcjpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5Nb25ldGFyeVZhbHVlLCBcIiRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVNsYXNoOlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk90aGVyT3BlcmF0b3IsIFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuV2hpdGVTcGFjZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTjpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5PdGhlck5vZGUsIFwiTlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlRXhjbGFtYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJOb2RlLCBcIiFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQaXBlOlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk90aGVyTm9kZSwgXCJ8XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVHVDpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yLCBcIj5cIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUxUOlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk90aGVyT3BlcmF0b3IsIFwiPFwiKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuTlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5OYXRpb25hbFN0cmluZywgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5TdHJpbmcsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5RdW90ZWRTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuUXVvdGVkU3RyaW5nLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuQnJhY2tldFF1b3RlZE5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQnJhY2tldFF1b3RlZE5hbWUsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZU90aGVyQ29tcG91bmRhYmxlT3BlcmF0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJPcGVyYXRvciwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVplcm86XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuTnVtYmVyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVBlcmlvZDpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5QZXJpb2QsIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlQXN0ZXJpc2s6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQXN0ZXJpc2ssIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVFcXVhbHM6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuRXF1YWxzU2lnbiwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk51bWJlcjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5EZWNpbWFsVmFsdWU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuRmxvYXRWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5OdW1iZXIsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5CaW5hcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5CaW5hcnlWYWx1ZSwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuTW9uZXRhcnlWYWx1ZSwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiVW5yZWNvZ25pemVkIFNRTCBOb2RlIFR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgU2F2ZUN1cnJlbnRDaGFyVG9OZXdUb2tlbihUb2tlbml6YXRpb25TdGF0ZSBzdGF0ZSwgU3FsVG9rZW5UeXBlIHRva2VuVHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNoYXIgY2hhclRvU2F2ZSA9IHN0YXRlLkN1cnJlbnRDaGFyO1xyXG4gICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9iZWNhdXNlIHdlJ3JlIHVzaW5nIGl0IG5vdyFcclxuICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCB0b2tlblR5cGUsIGNoYXJUb1NhdmUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIFNhdmVUb2tlbihUb2tlbml6YXRpb25TdGF0ZSBzdGF0ZSwgU3FsVG9rZW5UeXBlIHRva2VuVHlwZSwgc3RyaW5nIHRva2VuVmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgZm91bmRUb2tlbiA9IG5ldyBUb2tlbih0b2tlblR5cGUsIHRva2VuVmFsdWUpO1xyXG4gICAgICAgICAgICBzdGF0ZS5Ub2tlbkNvbnRhaW5lci5BZGQoZm91bmRUb2tlbik7XHJcblxyXG4gICAgICAgICAgICBsb25nIHBvc2l0aW9uT2ZMYXN0Q2hhcmFjdGVySW5Ub2tlbiA9IHN0YXRlLklucHV0UmVhZGVyLkxhc3RDaGFyYWN0ZXJQb3NpdGlvbiAtIChzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPyAxIDogMCk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5SZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbiAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAmJiBzdGF0ZS5Ub2tlbkNvbnRhaW5lci5NYXJrZXJUb2tlbiA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICAmJiBzdGF0ZS5SZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbiA8PSBwb3NpdGlvbk9mTGFzdENoYXJhY3RlckluVG9rZW5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuVG9rZW5Db250YWluZXIuTWFya2VyVG9rZW4gPSBmb3VuZFRva2VuO1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiB0aGlzIGlzIHdyb25nIGZvciBjb250YWluZXIgdHlwZXMsIGFzIGNvbW1lbnRlZCBlbHNld2hlcmUuIHRoZSBtYXJrZXIgcG9zaXRpb24gd2lsbCBiZSB0b28gaGlnaC5cclxuICAgICAgICAgICAgICAgIHZhciByYXdQb3NpdGlvbkluVG9rZW4gPSBmb3VuZFRva2VuLlZhbHVlLkxlbmd0aCAtIChwb3NpdGlvbk9mTGFzdENoYXJhY3RlckluVG9rZW4gLSBzdGF0ZS5SZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyB0ZW1wb3JhcmlseSBieXBhc3Mgb3ZlcmZsb3cgaXNzdWVzIHdpdGhvdXQgZml4aW5nIHVuZGVybHlpbmcgcHJvYmxlbVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuVG9rZW5Db250YWluZXIuTWFya2VyUG9zaXRpb24gPSByYXdQb3NpdGlvbkluVG9rZW4gPiBmb3VuZFRva2VuLlZhbHVlLkxlbmd0aCA/IGZvdW5kVG9rZW4uVmFsdWUuTGVuZ3RoIDogcmF3UG9zaXRpb25JblRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZW51bSBTcWxUb2tlbml6YXRpb25UeXBlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3ZhcmlhYmxlLWxlbmd0aCB0eXBlc1xyXG4gICAgICAgICAgICBXaGl0ZVNwYWNlLFxyXG4gICAgICAgICAgICBPdGhlck5vZGUsXHJcbiAgICAgICAgICAgIFNpbmdsZUxpbmVDb21tZW50LFxyXG4gICAgICAgICAgICBTaW5nbGVMaW5lQ29tbWVudENTdHlsZSxcclxuICAgICAgICAgICAgQmxvY2tDb21tZW50LFxyXG4gICAgICAgICAgICBTdHJpbmcsXHJcbiAgICAgICAgICAgIE5TdHJpbmcsXHJcbiAgICAgICAgICAgIFF1b3RlZFN0cmluZyxcclxuICAgICAgICAgICAgQnJhY2tldFF1b3RlZE5hbWUsXHJcbiAgICAgICAgICAgIE90aGVyT3BlcmF0b3IsXHJcbiAgICAgICAgICAgIE51bWJlcixcclxuICAgICAgICAgICAgQmluYXJ5VmFsdWUsXHJcbiAgICAgICAgICAgIE1vbmV0YXJ5VmFsdWUsXHJcbiAgICAgICAgICAgIERlY2ltYWxWYWx1ZSxcclxuICAgICAgICAgICAgRmxvYXRWYWx1ZSxcclxuICAgICAgICAgICAgUHNldWRvTmFtZSxcclxuXHJcbiAgICAgICAgICAgIC8vdGVtcG9yYXJ5IHR5cGVzXHJcbiAgICAgICAgICAgIFNpbmdsZUFzdGVyaXNrLFxyXG4gICAgICAgICAgICBTaW5nbGVEb2xsYXIsXHJcbiAgICAgICAgICAgIFNpbmdsZUh5cGhlbixcclxuICAgICAgICAgICAgU2luZ2xlU2xhc2gsXHJcbiAgICAgICAgICAgIFNpbmdsZU4sXHJcbiAgICAgICAgICAgIFNpbmdsZUxULFxyXG4gICAgICAgICAgICBTaW5nbGVHVCxcclxuICAgICAgICAgICAgU2luZ2xlRXhjbGFtYXRpb24sXHJcbiAgICAgICAgICAgIFNpbmdsZVBlcmlvZCxcclxuICAgICAgICAgICAgU2luZ2xlWmVybyxcclxuICAgICAgICAgICAgU2luZ2xlUGlwZSxcclxuICAgICAgICAgICAgU2luZ2xlRXF1YWxzLFxyXG4gICAgICAgICAgICBTaW5nbGVPdGhlckNvbXBvdW5kYWJsZU9wZXJhdG9yXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDEyIFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgVXRpbHNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBIdG1sRW5jb2RlKHN0cmluZyByYXcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgKiBUaGlzIGlzIGEgXCJSb2xsIFlvdXIgT3duXCIgaW1wbGVtZW50YXRpb24gb2YgSHRtbEVuY29kZSwgd2hpY2ggd2FzIG5lY2Vzc2FyeSBpbiB0aGUgZW5kIGJlY2F1c2UgcGVvcGxlIHdhbnRcclxuICAgICAgICAgICAgICogdG8gdXNlIHRoZSBsaWJyYXJ5IHdpdGggLk5ldCAzLjUgQ2xpZW50IFByb2ZpbGUgYW5kIG90aGVyIHJlc3RyaWN0ZWQgZW52aXJvbm1lbnRzOyB0aGUgZGVwZW5kZW5jeSBvbiBcclxuICAgICAgICAgICAgICogU3lzdGVtLldlYiBqdXN0IGZvciBIdG1sRW5jb2RlIHdhcyBhbHdheXMgYSBsaXR0bGUgZGlzdHVyYmluZyBhbnl3YXkuXHJcbiAgICAgICAgICAgICAqIEkndmUgYXR0ZW1wdGVkIHRvIG9wdGltaXplIHRoZSBpbXBsZW1lbnRhdGlvbiB0b3dhcmRzIHN0cmluZ3MgdGhhdCBkb24ndCBhY3R1YWxseSBjb250YWluIGFueSBzcGVjaWFsIFxyXG4gICAgICAgICAgICAgKiBjaGFyYWN0ZXJzLCBhbmQgSSd2ZSBhbHNvIHNraXBwZWQgc29tZSBvZiB0aGUgbW9yZSBpbnRlcmVzdGluZyBzdHVmZiB0aGF0IEkgc2VlIGluIHRoZSBNUyBpbXBsZW1lbnRhdGlvblxyXG4gICAgICAgICAgICAgKiAocG9pbnRlcnMsIGFuZCBzb21lIHNwZWNpYWwgaGFuZGxpbmcgaW4gdGhlIFdpbkFuc2kgc3BlY2lhbCByYW5nZSBvZiBjaGFyYWN0ZXJzPyksIGtlZXBpbmcgaXQgdG8gdGhlIGJhc2ljIFxyXG4gICAgICAgICAgICAgKiA0IFwia25vd24gYmFkXCIgY2hhcmFjdGVycy5cclxuICAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICBpZiAocmF3ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgb3V0QnVpbGRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIGludCBsYXRlc3RDaGVja1BvcyA9IDA7XHJcbiAgICAgICAgICAgIGludCBsYXRlc3RSZXBsYWNlbWVudFBvcyA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3JlYWNoIChjaGFyIGMgaW4gcmF3KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgcmVwbGFjZW1lbnRTdHJpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRTdHJpbmcgPSBcIiZndDtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnPCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50U3RyaW5nID0gXCImbHQ7XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJyYnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFN0cmluZyA9IFwiJmFtcDtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnXCInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFN0cmluZyA9IFwiJnF1b3Q7XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudFN0cmluZyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRCdWlsZGVyID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dEJ1aWxkZXIgPSBuZXcgU3RyaW5nQnVpbGRlcihyYXcuTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdFJlcGxhY2VtZW50UG9zIDwgbGF0ZXN0Q2hlY2tQb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dEJ1aWxkZXIuQXBwZW5kKHJhdy5TdWJzdHJpbmcobGF0ZXN0UmVwbGFjZW1lbnRQb3MsIGxhdGVzdENoZWNrUG9zIC0gbGF0ZXN0UmVwbGFjZW1lbnRQb3MpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0QnVpbGRlci5BcHBlbmQocmVwbGFjZW1lbnRTdHJpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsYXRlc3RSZXBsYWNlbWVudFBvcyA9IGxhdGVzdENoZWNrUG9zICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsYXRlc3RDaGVja1BvcysrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3V0QnVpbGRlciAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF0ZXN0UmVwbGFjZW1lbnRQb3MgPCBsYXRlc3RDaGVja1BvcylcclxuICAgICAgICAgICAgICAgICAgICBvdXRCdWlsZGVyLkFwcGVuZChyYXcuU3Vic3RyaW5nKGxhdGVzdFJlcGxhY2VtZW50UG9zKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dEJ1aWxkZXIuVG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3O1xyXG4gICAgICAgIH1cclxuXHJcbiNpZiBTSU1QTElGSUVERldcclxuXHJcbiAgICAgICAgLy9JbnZhcmlhbnQgY29udmVyc2lvbnMgYXJlIG5vdCBpbXBsZW1lbnRlZCBpbiBCcmlkZ2UuTmV0IGFuZCAuTmV0IFN0YW5kYXJkLi4uXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgVG9Mb3dlckludmFyaWFudCh0aGlzIHN0cmluZyB2YWx1ZSkge3JldHVybiB2YWx1ZS5Ub0xvd2VyKCk7fVxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIFRvVXBwZXJJbnZhcmlhbnQodGhpcyBzdHJpbmcgdmFsdWUpIHtyZXR1cm4gdmFsdWUuVG9VcHBlcigpO31cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGNoYXIgVG9Mb3dlckludmFyaWFudCh0aGlzIGNoYXIgdmFsdWUpIHtyZXR1cm4gY2hhci5Ub0xvd2VyKHZhbHVlKTt9XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjaGFyIFRvVXBwZXJJbnZhcmlhbnQodGhpcyBjaGFyIHZhbHVlKSB7cmV0dXJuIGNoYXIuVG9VcHBlcih2YWx1ZSk7fVxyXG5cclxuI2VuZGlmXHJcblxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkZvcm1hdHRlcnNcclxue1xyXG4gICAgcHVibGljIGNsYXNzIEh0bWxQYWdlV3JhcHBlciA6IElTcWxUcmVlRm9ybWF0dGVyXHJcbiAgICB7XHJcbiAgICAgICAgSVNxbFRyZWVGb3JtYXR0ZXIgX3VuZGVybHlpbmdGb3JtYXR0ZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBIdG1sUGFnZVdyYXBwZXIoSVNxbFRyZWVGb3JtYXR0ZXIgdW5kZXJseWluZ0Zvcm1hdHRlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh1bmRlcmx5aW5nRm9ybWF0dGVyID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnROdWxsRXhjZXB0aW9uKFwidW5kZXJseWluZ0Zvcm1hdHRlclwiKTtcclxuXHJcbiAgICAgICAgICAgIF91bmRlcmx5aW5nRm9ybWF0dGVyID0gdW5kZXJseWluZ0Zvcm1hdHRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY29uc3Qgc3RyaW5nIEhUTUxfT1VURVJfUEFHRSA9IEBcIjwhRE9DVFlQRSBodG1sID5cclxuPGh0bWw+XHJcbjxoZWFkPlxyXG48L2hlYWQ+XHJcbjxib2R5PlxyXG48c3R5bGUgdHlwZT1cIlwidGV4dC9jc3NcIlwiPlxyXG4uU1FMQ29kZSB7e1xyXG5cdGZvbnQtc2l6ZTogMTNweDtcclxuXHRmb250LXdlaWdodDogYm9sZDtcclxuXHRmb250LWZhbWlseTogbW9ub3NwYWNlOztcclxuXHR3aGl0ZS1zcGFjZTogcHJlO1xyXG4gICAgLW8tdGFiLXNpemU6IDQ7XHJcbiAgICAtbW96LXRhYi1zaXplOiA0O1xyXG4gICAgLXdlYmtpdC10YWItc2l6ZTogNDtcclxufX1cclxuLlNRTENvbW1lbnQge3tcclxuXHRjb2xvcjogIzAwQUEwMDtcclxufX1cclxuLlNRTFN0cmluZyB7e1xyXG5cdGNvbG9yOiAjQUEwMDAwO1xyXG59fVxyXG4uU1FMRnVuY3Rpb24ge3tcclxuXHRjb2xvcjogI0FBMDBBQTtcclxufX1cclxuLlNRTEtleXdvcmQge3tcclxuXHRjb2xvcjogIzAwMDBBQTtcclxufX1cclxuLlNRTE9wZXJhdG9yIHt7XHJcblx0Y29sb3I6ICM3Nzc3Nzc7XHJcbn19XHJcbi5TUUxFcnJvckhpZ2hsaWdodCB7e1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICNGRkZGMDA7XHJcbn19XHJcblxyXG5cclxuPC9zdHlsZT5cclxuPHByZSBjbGFzcz1cIlwiU1FMQ29kZVwiXCI+ezB9PC9wcmU+XHJcbjwvYm9keT5cclxuPC9odG1sPlxyXG5cIjtcclxuXHJcbiAgICAgICAgcHVibGljIGJvb2wgSFRNTEZvcm1hdHRlZCB7IGdldCB7IHJldHVybiB0cnVlOyB9IH1cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEVycm9yT3V0cHV0UHJlZml4IHsgXHJcbiAgICAgICAgICAgIGdldCBcclxuICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdW5kZXJseWluZ0Zvcm1hdHRlci5FcnJvck91dHB1dFByZWZpeDsgXHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIHNldCBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdFN1cHBvcnRlZEV4Y2VwdGlvbihcIkVycm9yIG91dHB1dCBwcmVmaXggc2hvdWxkIGJlIHNldCBvbiB0aGUgdW5kZXJseWluZyBmb3JtYXR0ZXIgLSBpdCBjYW5ub3QgYmUgc2V0IG9uIHRoZSBIdG1sIFBhZ2UgV3JhcHBlci5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRm9ybWF0U1FMVHJlZShQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZSBzcWxUcmVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3RyaW5nIGZvcm1hdHRlZFJlc3VsdCA9IF91bmRlcmx5aW5nRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc3FsVHJlZSk7XHJcbiAgICAgICAgICAgIGlmIChfdW5kZXJseWluZ0Zvcm1hdHRlci5IVE1MRm9ybWF0dGVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5Gb3JtYXQoSFRNTF9PVVRFUl9QQUdFLCBmb3JtYXR0ZWRSZXN1bHQpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkZvcm1hdChIVE1MX09VVEVSX1BBR0UsIFV0aWxzLkh0bWxFbmNvZGUoZm9ybWF0dGVkUmVzdWx0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmU7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5Gb3JtYXR0ZXJzXHJcbntcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBUaGlzIGZvcm1hdHRlciBpcyBpbnRlbmRlZCB0byBvdXRwdXQgKmV4YWN0bHkgdGhlIHNhbWUgY29udGVudCBhcyBpbml0aWFsbHkgcGFyc2VkKiwgdW5sZXNzIHRoZSBcclxuICAgIC8vLyBcIkh0bWxDb2xvcmluZ1wiIG9wdGlvbiBpcyBlbmFibGVkICh0aGVuIGl0IHNob3VsZCBsb29rIHRoZSBzYW1lIGluIEhUTUwsIGV4Y2VwdCBmb3IgdGhlIGNvbG9yaW5nKS5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgY2xhc3MgVFNxbElkZW50aXR5Rm9ybWF0dGVyIDogSVNxbFRva2VuRm9ybWF0dGVyLCBJU3FsVHJlZUZvcm1hdHRlclxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIoKSA6IHRoaXMoZmFsc2UpIHsgfVxyXG4gICAgICAgIHB1YmxpYyBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIoYm9vbCBodG1sQ29sb3JpbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBIVE1MQ29sb3JpbmcgPSBodG1sQ29sb3Jpbmc7XHJcbiAgICAgICAgICAgIEVycm9yT3V0cHV0UHJlZml4ID0gTWVzc2FnaW5nQ29uc3RhbnRzLkZvcm1hdEVycm9yRGVmYXVsdE1lc3NhZ2UgKyBFbnZpcm9ubWVudC5OZXdMaW5lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGJvb2wgSFRNTENvbG9yaW5nIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBIVE1MRm9ybWF0dGVkIHsgZ2V0IHsgcmV0dXJuIEhUTUxDb2xvcmluZzsgfSB9XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBFcnJvck91dHB1dFByZWZpeCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRm9ybWF0U1FMVHJlZShOb2RlIHNxbFRyZWVEb2MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBCYXNlRm9ybWF0dGVyU3RhdGUgc3RhdGUgPSBuZXcgQmFzZUZvcm1hdHRlclN0YXRlKEhUTUxDb2xvcmluZyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3FsVHJlZURvYy5OYW1lID09IFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfUk9PVCAmJiBzcWxUcmVlRG9jLkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9FUlJPUkZPVU5EKSA9PSBcIjFcIilcclxuICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoRXJyb3JPdXRwdXRQcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgLy9wYXNzIFwiZG9jXCIgaXRzZWxmIGludG8gcHJvY2VzczogdXNlZnVsL25lY2Vzc2FyeSB3aGVuIGZvcm1hdHRpbmcgTk9GT1JNQVQgc3ViLXJlZ2lvbnMgZnJvbSBzdGFuZGFyZCBmb3JtYXR0ZXJcclxuICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KG5ld1tdIHsgc3FsVHJlZURvYyB9LCBzdGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5EdW1wT3V0cHV0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIFByb2Nlc3NTcWxOb2RlTGlzdChJRW51bWVyYWJsZTxOb2RlPiByb290TGlzdCwgQmFzZUZvcm1hdHRlclN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjb250ZW50RWxlbWVudCBpbiByb290TGlzdClcclxuICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlKHN0YXRlLCBjb250ZW50RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIFByb2Nlc3NTcWxOb2RlKEJhc2VGb3JtYXR0ZXJTdGF0ZSBzdGF0ZSwgTm9kZSBjb250ZW50RWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5HZXRBdHRyaWJ1dGVWYWx1ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfSEFTRVJST1IpID09IFwiMVwiKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuT3BlbkNsYXNzKFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfRVJST1JISUdITElHSFQpO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChjb250ZW50RWxlbWVudC5OYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExERVRBSUxfUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BBUkVOUzpcclxuXHRcdFx0XHRjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9QQVJFTlM6XHJcblx0XHRcdFx0Y2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TOlxyXG5cdFx0XHRcdGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VYUFJFU1NJT05fUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUX1BBUkVOUzpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiKFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfUk9PVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQk9PTEVBTl9FWFBSRVNTSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfT1RIRVJfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9ERUNMQVJBVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFR0lOX0VORF9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1RSWV9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBVENIX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0lOUFVUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9XSEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9USEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9FTFNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSUZfU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElMRV9MT09QOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0FTX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0xPV0VSQk9VTkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX1VQUEVSQk9VTkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQUxJQVM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQVNfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0ZPUl9PUFRJT05TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJJR0dFUl9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01QT1VOREtFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1JPTExCQUNLX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0FWRV9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JBVENIX1NFUEFSQVRPUjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFVF9PUEVSQVRPUl9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9TSU5HTEVTVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0RFVEFJTDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1RBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1JFQ0lQSUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1VTSU5HOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ09ORElUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfV0hFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RIRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9BQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9KT0lOX09OX1NFQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUkVUVVJOUzpcclxuICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChOb2RlIGNoaWxkTm9kZSBpbiBjb250ZW50RWxlbWVudC5DaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGUoc3RhdGUsIGNoaWxkTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIi8qXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUgKyBcIiovXCIsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfQ09NTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIi0tXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfQ09NTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIvL1wiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0NPTU1FTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCInXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIidcIiwgXCInJ1wiKSArIFwiJ1wiLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX1NUUklORyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJOJ1wiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCInXCIsIFwiJydcIikgKyBcIidcIiwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19TVFJJTkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUVVPVEVEX1NUUklORzpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiXFxcIlwiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCJcXFwiXCIsIFwiXFxcIlxcXCJcIikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CUkFDS0VUX1FVT1RFRF9OQU1FOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJbXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIl1cIiwgXCJdXVwiKSArIFwiXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NQTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUklPRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTUlDT0xPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FTVEVSSVNLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVFVQUxTU0lHTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NDT1BFUkVTT0xVVElPTk9QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQUxQSEFPUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVST1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FORF9PUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09SX09QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuQ2hpbGRCeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCkuVGV4dFZhbHVlLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX09QRVJBVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9LRVlXT1JEOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0ZVTkNUSU9OKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9EQVRBVFlQRV9LRVlXT1JEOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUFNFVURPTkFNRTpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19LRVlXT1JEKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElURVNQQUNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTlVNQkVSX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTU9ORVRBUllfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CSU5BUllfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9MQUJFTDpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJVbnJlY29nbml6ZWQgZWxlbWVudCBpbiBTUUwgWG1sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9IQVNFUlJPUikgPT0gXCIxXCIpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DbG9zZUNsYXNzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBGb3JtYXRTUUxUb2tlbnMoSVRva2VuTGlzdCBzcWxUb2tlbkxpc3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTdHJpbmdCdWlsZGVyIG91dFN0cmluZyA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3FsVG9rZW5MaXN0Lkhhc1VuZmluaXNoZWRUb2tlbilcclxuICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoRXJyb3JPdXRwdXRQcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgZm9yZWFjaCAodmFyIGVudHJ5IGluIHNxbFRva2VuTGlzdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbnRyeS5UeXBlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCIvKlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChlbnRyeS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCIqL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCItLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChlbnRyeS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50Q1N0eWxlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKFwiLy9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoZW50cnkuVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5TdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKGVudHJ5LlZhbHVlLlJlcGxhY2UoXCInXCIsIFwiJydcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKFwiJ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTmF0aW9uYWxTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCJOJ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChlbnRyeS5WYWx1ZS5SZXBsYWNlKFwiJ1wiLCBcIicnXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIidcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlF1b3RlZFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoZW50cnkuVmFsdWUuUmVwbGFjZShcIlxcXCJcIiwgXCJcXFwiXFxcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5CcmFja2V0UXVvdGVkTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIltcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoZW50cnkuVmFsdWUuUmVwbGFjZShcIl1cIiwgXCJdXVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCJdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuT3BlblBhcmVuczpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5DbG9zZVBhcmVuczpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5Db21tYTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5QZXJpb2Q6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU2VtaWNvbG9uOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkNvbG9uOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkFzdGVyaXNrOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkVxdWFsc1NpZ246XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuT3RoZXJOb2RlOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLldoaXRlU3BhY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuT3RoZXJPcGVyYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5OdW1iZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQmluYXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTW9uZXRhcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5Qc2V1ZG9OYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKGVudHJ5LlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucmVjb2duaXplZCBUb2tlbiBUeXBlIGluIFRva2VuIExpc3QhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gb3V0U3RyaW5nLlRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmU7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkZvcm1hdHRlcnNcclxue1xyXG4gICAgcHVibGljIGNsYXNzIFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRlciA6IElTcWxUcmVlRm9ybWF0dGVyXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRlcigpIDogdGhpcyhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpIHsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyKGJvb2wgcmFuZG9taXplQ2FzZSwgYm9vbCByYW5kb21pemVDb2xvciwgYm9vbCByYW5kb21pemVMaW5lTGVuZ3RoLCBib29sIHByZXNlcnZlQ29tbWVudHMsIGJvb2wgc3VidGl0dXRlS2V5d29yZHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBSYW5kb21pemVDYXNlID0gcmFuZG9taXplQ2FzZTtcclxuICAgICAgICAgICAgUmFuZG9taXplQ29sb3IgPSByYW5kb21pemVDb2xvcjtcclxuICAgICAgICAgICAgUmFuZG9taXplTGluZUxlbmd0aCA9IHJhbmRvbWl6ZUxpbmVMZW5ndGg7XHJcbiAgICAgICAgICAgIFByZXNlcnZlQ29tbWVudHMgPSBwcmVzZXJ2ZUNvbW1lbnRzO1xyXG4gICAgICAgICAgICBpZiAoc3VidGl0dXRlS2V5d29yZHMpXHJcbiAgICAgICAgICAgICAgICBLZXl3b3JkTWFwcGluZyA9IE9iZnVzY2F0aW5nS2V5d29yZE1hcHBpbmcuSW5zdGFuY2U7XHJcblxyXG4gICAgICAgICAgICBFcnJvck91dHB1dFByZWZpeCA9IE1lc3NhZ2luZ0NvbnN0YW50cy5Gb3JtYXRFcnJvckRlZmF1bHRNZXNzYWdlICsgRW52aXJvbm1lbnQuTmV3TGluZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChSYW5kb21pemVDYXNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBfY3VycmVudENhc2VMaW1pdCA9IF9yYW5kb21pemVyLk5leHQoTUlOX0NBU0VfV09SRF9MRU5HVEgsIE1BWF9DQVNFX1dPUkRfTEVOR1RIKTtcclxuICAgICAgICAgICAgICAgIF9jdXJyZW50bHlVcHBlcmNhc2UgPSBfcmFuZG9taXplci5OZXh0KDAsIDIpID09IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBib29sIFJhbmRvbWl6ZUNhc2UgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIFJhbmRvbWl6ZUNvbG9yIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBSYW5kb21pemVMaW5lTGVuZ3RoIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBQcmVzZXJ2ZUNvbW1lbnRzIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIGJvb2wgSFRNTEZvcm1hdHRlZCB7IGdldCB7IHJldHVybiBSYW5kb21pemVDb2xvcjsgfSB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBJRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4gS2V5d29yZE1hcHBpbmcgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBFcnJvck91dHB1dFByZWZpeCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY29uc3QgaW50IE1JTl9DQVNFX1dPUkRfTEVOR1RIID0gMjtcclxuICAgICAgICBwcml2YXRlIGNvbnN0IGludCBNQVhfQ0FTRV9XT1JEX0xFTkdUSCA9IDg7XHJcbiAgICAgICAgcHJpdmF0ZSBSYW5kb20gX3JhbmRvbWl6ZXIgPSBuZXcgUmFuZG9tKCk7XHJcbiAgICAgICAgcHJpdmF0ZSBpbnQgX2N1cnJlbnRDYXNlTGVuZ3RoID0gMDtcclxuICAgICAgICBwcml2YXRlIGludCBfY3VycmVudENhc2VMaW1pdCA9IE1BWF9DQVNFX1dPUkRfTEVOR1RIO1xyXG4gICAgICAgIHByaXZhdGUgYm9vbCBfY3VycmVudGx5VXBwZXJjYXNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRm9ybWF0U1FMVHJlZShOb2RlIHNxbFRyZWVEb2MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3RocmVhZC1zYWZlIC0gZWFjaCBjYWxsIHRvIEZvcm1hdFNRTFRyZWUoKSBnZXRzIGl0cyBvd24gaW5kZXBlbmRlbnQgc3RhdGUgb2JqZWN0XHJcbiAgICAgICAgICAgIFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRpbmdTdGF0ZSBzdGF0ZSA9IG5ldyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0aW5nU3RhdGUoUmFuZG9taXplQ29sb3IsIFJhbmRvbWl6ZUxpbmVMZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNxbFRyZWVEb2MuTmFtZSA9PSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1JPT1QgJiYgc3FsVHJlZURvYy5HZXRBdHRyaWJ1dGVWYWx1ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfRVJST1JGT1VORCkgPT0gXCIxXCIpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEVycm9yT3V0cHV0UHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vcGFzcyBcImRvY1wiIGl0c2VsZiBpbnRvIHByb2Nlc3M6IHVzZWZ1bC9uZWNlc3Nhcnkgd2hlbiBmb3JtYXR0aW5nIE1JTklGWSBzdWItcmVnaW9ucyBmcm9tIHN0YW5kYXJkIGZvcm1hdHRlclxyXG4gICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QobmV3W10geyBzcWxUcmVlRG9jIH0sIHN0YXRlKTtcclxuICAgICAgICAgICAgc3RhdGUuQnJlYWtJZkV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5EdW1wT3V0cHV0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgUHJvY2Vzc1NxbE5vZGVMaXN0KElFbnVtZXJhYmxlPE5vZGU+IHJvb3RMaXN0LCBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0aW5nU3RhdGUgc3RhdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3JlYWNoIChOb2RlIGNvbnRlbnRFbGVtZW50IGluIHJvb3RMaXN0KVxyXG4gICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGUoY29udGVudEVsZW1lbnQsIHN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBQcm9jZXNzU3FsTm9kZShOb2RlIGNvbnRlbnRFbGVtZW50LCBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0aW5nU3RhdGUgc3RhdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnRFbGVtZW50Lk5hbWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9ST09UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfT1RIRVJfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9ERUNMQVJBVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFR0lOX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0FWRV9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1JPTExCQUNLX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElMRV9MT09QOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSUZfU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX1dJVEhfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19ERVRBSUw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9UQVJHRVQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0lOUFVUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQk9PTEVBTl9FWFBSRVNTSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9MT1dFUkJPVU5EOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9VUFBFUkJPVU5EOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1RBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1JFQ0lQSUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RIRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9KT0lOX09OX1NFQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQUxJQVM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FTFNFX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9BU19CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUklHR0VSX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfT1BUSU9OUzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BU19CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9SRVRVUk5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVVNJTkc6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9XSEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9FTkRfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUllfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVRDSF9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9XSEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9USEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9FTFNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQU5EX09QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1JfT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGVzZSBhcmUgYWxsIGNvbnRhaW5lcnMsIGFuZCB0aGVyZWZvcmUgaGF2ZSBubyBpbXBhY3Qgb24gb2JmdXNjYXRlZCBvdXRwdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMREVUQUlMX1BBUkVOUzpcclxuXHRcdFx0XHRjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9QQVJFTlM6XHJcblx0XHRcdFx0Y2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TOlxyXG5cdFx0XHRcdGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FWFBSRVNTSU9OX1BBUkVOUzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkRm9yQW5zaVN0cmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0U6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kbyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByZXNlcnZlQ29tbWVudHMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIvKlwiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlICsgXCIqL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByZXNlcnZlQ29tbWVudHMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCItLVwiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCJcXHJcIiwgXCJcIikuUmVwbGFjZShcIlxcblwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcmVzZXJ2ZUNvbW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiLy9cIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiXFxyXCIsIFwiXCIpLlJlcGxhY2UoXCJcXG5cIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkFUQ0hfU0VQQVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vbmV3bGluZSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgcHJldmlvdXMgZWxlbWVudCByZWNvbW1lbmRlZCBhIGJyZWFrIG9yIG5vdC5cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VJZkV4cGVjdGVkRm9yQW5zaVN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiJ1wiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCInXCIsIFwiJydcIikgKyBcIidcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZEZvckFuc2lTdHJpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIk4nXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIidcIiwgXCInJ1wiKSArIFwiJ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkRm9yQW5zaVN0cmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQlJBQ0tFVF9RVU9URURfTkFNRTpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIltcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiXVwiLCBcIl1dXCIpICsgXCJdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1FVT1RFRF9TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJcXFwiXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIlxcXCJcIiwgXCJcXFwiXFxcIlwiKSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NQTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUklPRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTUlDT0xPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NDT1BFUkVTT0xVVElPTk9QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQVNURVJJU0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FUVVBTFNTSUdOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJPUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRDpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdEtleXdvcmQoY29udGVudEVsZW1lbnQuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0xBQkVMOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BTFBIQU9QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfREFUQVRZUEVfS0VZV09SRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BTRVVET05BTUU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CSU5BUllfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05VTUJFUl9WQUxVRTpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdEtleXdvcmQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuVG9Mb3dlckludmFyaWFudCgpLkNvbnRhaW5zKFwiZVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWRGb3JFID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5FcXVhbHMoXCIwXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZEZvclggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NT05FVEFSWV9WQUxVRTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5TdWJzdHJpbmcoMCwgMSkuRXF1YWxzKFwiJFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuTGVuZ3RoID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWRGb3JQbHVzTWludXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX0tFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucmVjb2duaXplZCBlbGVtZW50IGluIFNRTCBYbWwhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0cmluZyBGb3JtYXRLZXl3b3JkKHN0cmluZyBrZXl3b3JkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3RyaW5nIG91dHB1dEtleXdvcmQ7XHJcbiAgICAgICAgICAgIGlmICghS2V5d29yZE1hcHBpbmcuVHJ5R2V0VmFsdWUoa2V5d29yZC5Ub1VwcGVySW52YXJpYW50KCksIG91dCBvdXRwdXRLZXl3b3JkKSlcclxuICAgICAgICAgICAgICAgIG91dHB1dEtleXdvcmQgPSBrZXl3b3JkO1xyXG5cclxuICAgICAgICAgICAgaWYgKFJhbmRvbWl6ZUNhc2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gR2V0Q2FzZVJhbmRvbWl6ZWQob3V0cHV0S2V5d29yZCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRLZXl3b3JkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgR2V0Q2FzZVJhbmRvbWl6ZWQoc3RyaW5nIG91dHB1dEtleXdvcmQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjaGFyW10ga2V5d29yZENoYXJBcnJheSA9IG91dHB1dEtleXdvcmQuVG9DaGFyQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBrZXl3b3JkQ2hhckFycmF5Lkxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2N1cnJlbnRDYXNlTGVuZ3RoID09IF9jdXJyZW50Q2FzZUxpbWl0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXJyZW50Q2FzZUxpbWl0ID0gX3JhbmRvbWl6ZXIuTmV4dChNSU5fQ0FTRV9XT1JEX0xFTkdUSCwgTUFYX0NBU0VfV09SRF9MRU5HVEgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXJyZW50bHlVcHBlcmNhc2UgPSBfcmFuZG9taXplci5OZXh0KDAsIDIpID09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N1cnJlbnRDYXNlTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBrZXl3b3JkQ2hhckFycmF5W2ldID0gX2N1cnJlbnRseVVwcGVyY2FzZSA/IGtleXdvcmRDaGFyQXJyYXlbaV0uVG9VcHBlckludmFyaWFudCgpIDoga2V5d29yZENoYXJBcnJheVtpXS5Ub0xvd2VySW52YXJpYW50KCk7XHJcbiAgICAgICAgICAgICAgICBfY3VycmVudENhc2VMZW5ndGgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHN0cmluZyhrZXl3b3JkQ2hhckFycmF5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNsYXNzIFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRpbmdTdGF0ZSA6IEJhc2VGb3JtYXR0ZXJTdGF0ZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcHVibGljIFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRpbmdTdGF0ZShib29sIHJhbmRvbWl6ZUNvbG9yLCBib29sIHJhbmRvbWl6ZUxpbmVMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICA6IGJhc2UocmFuZG9taXplQ29sb3IpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFJhbmRvbWl6ZUNvbG9yID0gcmFuZG9taXplQ29sb3I7XHJcbiAgICAgICAgICAgICAgICBSYW5kb21pemVMaW5lTGVuZ3RoID0gcmFuZG9taXplTGluZUxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoUmFuZG9taXplQ29sb3IpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N1cnJlbnRDb2xvckxpbWl0ID0gX3JhbmRvbWl6ZXIuTmV4dChNSU5fQ09MT1JfV09SRF9MRU5HVEgsIE1BWF9DT0xPUl9XT1JEX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N1cnJlbnRDb2xvciA9IHN0cmluZy5Gb3JtYXQoXCIjezA6eDJ9ezE6eDJ9ezI6eDJ9XCIsIF9yYW5kb21pemVyLk5leHQoMCwgMTI3KSwgX3JhbmRvbWl6ZXIuTmV4dCgwLCAxMjcpLCBfcmFuZG9taXplci5OZXh0KDAsIDEyNykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFJhbmRvbWl6ZUxpbmVMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXNMaW5lTGltaXQgPSBfcmFuZG9taXplci5OZXh0KE1JTl9MSU5FX0xFTkdUSCwgTUFYX0xJTkVfTEVOR1RIKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJpdmF0ZSBjb25zdCBpbnQgTUlOX0NPTE9SX1dPUkRfTEVOR1RIID0gMztcclxuICAgICAgICAgICAgcHJpdmF0ZSBjb25zdCBpbnQgTUFYX0NPTE9SX1dPUkRfTEVOR1RIID0gMTU7XHJcbiAgICAgICAgICAgIHByaXZhdGUgY29uc3QgaW50IE1JTl9MSU5FX0xFTkdUSCA9IDEwO1xyXG4gICAgICAgICAgICBwcml2YXRlIGNvbnN0IGludCBNQVhfTElORV9MRU5HVEggPSA4MDtcclxuXHJcbiAgICAgICAgICAgIHByaXZhdGUgYm9vbCBSYW5kb21pemVDb2xvciB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHByaXZhdGUgYm9vbCBSYW5kb21pemVMaW5lTGVuZ3RoIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgICAgIGludGVybmFsIGJvb2wgQnJlYWtFeHBlY3RlZCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIGludGVybmFsIGJvb2wgU3BhY2VFeHBlY3RlZEZvckFuc2lTdHJpbmcgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBpbnRlcm5hbCBib29sIFNwYWNlRXhwZWN0ZWRGb3JFIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgaW50ZXJuYWwgYm9vbCBTcGFjZUV4cGVjdGVkRm9yWCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIGludGVybmFsIGJvb2wgU3BhY2VFeHBlY3RlZEZvclBsdXNNaW51cyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIGludGVybmFsIGJvb2wgU3BhY2VFeHBlY3RlZCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgICAgICBwcml2YXRlIFJhbmRvbSBfcmFuZG9taXplciA9IG5ldyBSYW5kb20oKTtcclxuICAgICAgICAgICAgcHJpdmF0ZSBpbnQgX2N1cnJlbnRMaW5lTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgcHJpdmF0ZSBpbnQgX3RoaXNMaW5lTGltaXQgPSBNQVhfTElORV9MRU5HVEg7XHJcblxyXG4gICAgICAgICAgICBwcml2YXRlIGludCBfY3VycmVudENvbG9yTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgcHJpdmF0ZSBpbnQgX2N1cnJlbnRDb2xvckxpbWl0ID0gTUFYX0NPTE9SX1dPUkRfTEVOR1RIO1xyXG4gICAgICAgICAgICBwcml2YXRlIHN0cmluZyBfY3VycmVudENvbG9yID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIEJyZWFrSWZFeHBlY3RlZCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChCcmVha0V4cGVjdGVkKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIEJyZWFrRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNldFNwYWNlTm9Mb25nZXJFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXJyZW50TGluZUxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChSYW5kb21pemVMaW5lTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpc0xpbmVMaW1pdCA9IF9yYW5kb21pemVyLk5leHQoMTAsIDgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIHZvaWQgU3BhY2VJZkV4cGVjdGVkRm9yQW5zaVN0cmluZygpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChTcGFjZUV4cGVjdGVkRm9yQW5zaVN0cmluZylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnQoXCIgXCIsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNldFNwYWNlTm9Mb25nZXJFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBTcGFjZUlmRXhwZWN0ZWQoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoU3BhY2VFeHBlY3RlZClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnQoXCIgXCIsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNldFNwYWNlTm9Mb25nZXJFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgdm9pZCBBZGRPdXRwdXRDb250ZW50KHN0cmluZyBjb250ZW50LCBzdHJpbmcgaHRtbENsYXNzTmFtZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh0bWxDbGFzc05hbWUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90U3VwcG9ydGVkRXhjZXB0aW9uKFwiT2JmdXNjYXRpbmcgZm9ybWF0dGVyIGRvZXMgbm90IHVzZSBodG1sIGNsYXNzIG5hbWVzLi4uXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIEJyZWFrSWZFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgU3BhY2VJZkV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2N1cnJlbnRMaW5lTGVuZ3RoID4gMCAmJiBfY3VycmVudExpbmVMZW5ndGggKyBjb250ZW50Lkxlbmd0aCA+IF90aGlzTGluZUxpbWl0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIEJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEJyZWFrSWZFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKFNwYWNlRXhwZWN0ZWRGb3JFICYmIGNvbnRlbnQuU3Vic3RyaW5nKDAsIDEpLlRvTG93ZXIoKS5FcXVhbHMoXCJlXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChTcGFjZUV4cGVjdGVkRm9yWCAmJiBjb250ZW50LlN1YnN0cmluZygwLCAxKS5Ub0xvd2VyKCkuRXF1YWxzKFwieFwiKSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAoU3BhY2VFeHBlY3RlZEZvclBsdXNNaW51cyAmJiBjb250ZW50LlN1YnN0cmluZygwLCAxKS5FcXVhbHMoXCIrXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChTcGFjZUV4cGVjdGVkRm9yUGx1c01pbnVzICYmIGNvbnRlbnQuU3Vic3RyaW5nKDAsIDEpLkVxdWFscyhcIi1cIikpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFNwYWNlRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFNwYWNlSWZFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9jdXJyZW50TGluZUxlbmd0aCArPSBjb250ZW50Lkxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChSYW5kb21pemVDb2xvcilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnQgbGVuZ3RoV3JpdHRlbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxlbmd0aFdyaXR0ZW4gPCBjb250ZW50Lkxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfY3VycmVudENvbG9yTGVuZ3RoID09IF9jdXJyZW50Q29sb3JMaW1pdClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N1cnJlbnRDb2xvckxpbWl0ID0gX3JhbmRvbWl6ZXIuTmV4dChNSU5fQ09MT1JfV09SRF9MRU5HVEgsIE1BWF9DT0xPUl9XT1JEX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VycmVudENvbG9yID0gc3RyaW5nLkZvcm1hdChcIiN7MDp4Mn17MTp4Mn17Mjp4Mn1cIiwgX3JhbmRvbWl6ZXIuTmV4dCgwLCAxMjcpLCBfcmFuZG9taXplci5OZXh0KDAsIDEyNyksIF9yYW5kb21pemVyLk5leHQoMCwgMTI3KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VycmVudENvbG9yTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50IHdyaXRpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50Lkxlbmd0aCAtIGxlbmd0aFdyaXR0ZW4gPCBfY3VycmVudENvbG9yTGltaXQgLSBfY3VycmVudENvbG9yTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGluZyA9IGNvbnRlbnQuTGVuZ3RoIC0gbGVuZ3RoV3JpdHRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGluZyA9IF9jdXJyZW50Q29sb3JMaW1pdCAtIF9jdXJyZW50Q29sb3JMZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnRSYXcoXCI8c3BhbiBzdHlsZT1cXFwiY29sb3I6IFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5BZGRPdXRwdXRDb250ZW50UmF3KF9jdXJyZW50Q29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnRSYXcoXCI7XFxcIj5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudFJhdyhVdGlscy5IdG1sRW5jb2RlKGNvbnRlbnQuU3Vic3RyaW5nKGxlbmd0aFdyaXR0ZW4sIHdyaXRpbmcpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudFJhdyhcIjwvc3Bhbj5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aFdyaXR0ZW4gKz0gd3JpdGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2N1cnJlbnRDb2xvckxlbmd0aCArPSB3cml0aW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnQoY29udGVudCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBTZXRTcGFjZU5vTG9uZ2VyRXhwZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJpdmF0ZSB2b2lkIFNldFNwYWNlTm9Mb25nZXJFeHBlY3RlZCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIFNwYWNlRXhwZWN0ZWRGb3JBbnNpU3RyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBTcGFjZUV4cGVjdGVkRm9yRSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgU3BhY2VFeHBlY3RlZEZvclggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIFNwYWNlRXhwZWN0ZWRGb3JQbHVzTWludXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIG92ZXJyaWRlIHZvaWQgQWRkT3V0cHV0TGluZUJyZWFrKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9kb24ndCB3YW50IHRoZSBvdXRlciBjb2RlIHRvIHdyaXRlIGxpbmUgYnJlYWtzIGF0IGFsbFxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdFN1cHBvcnRlZEV4Y2VwdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5BZGRpdGlvbmFsIENvbnRyaWJ1dG9yczpcclxuICogVGltb3RoeSBLbGVua2UsIDIwMTJcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0LlJlZ3VsYXJFeHByZXNzaW9ucztcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuRm9ybWF0dGVyc1xyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgVFNxbFN0YW5kYXJkRm9ybWF0dGVyIDogSVNxbFRyZWVGb3JtYXR0ZXJcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGVyKCkgOiB0aGlzKG5ldyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXJPcHRpb25zKCkpIHsgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXIoVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9ucyBvcHRpb25zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oXCJvcHRpb25zXCIpO1xyXG5cclxuICAgICAgICAgICAgT3B0aW9ucyA9IG9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5LZXl3b3JkU3RhbmRhcmRpemF0aW9uKVxyXG4gICAgICAgICAgICAgICAgS2V5d29yZE1hcHBpbmcgPSBTdGFuZGFyZEtleXdvcmRSZW1hcHBpbmcuSW5zdGFuY2U7XHJcbiAgICAgICAgICAgIEVycm9yT3V0cHV0UHJlZml4ID0gTWVzc2FnaW5nQ29uc3RhbnRzLkZvcm1hdEVycm9yRGVmYXVsdE1lc3NhZ2UgKyBFbnZpcm9ubWVudC5OZXdMaW5lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIHRoZSBjb25zdHJ1Y3RvciB3aXRoIHRoZSBUU3FsU3RhbmRhcmRGb3JtYXR0ZXJPcHRpb25zIHBhcmFtZXRlclwiKV1cclxuICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGVyKHN0cmluZyBpbmRlbnRTdHJpbmcsIGludCBzcGFjZXNQZXJUYWIsIGludCBtYXhMaW5lV2lkdGgsIGJvb2wgZXhwYW5kQ29tbWFMaXN0cywgYm9vbCB0cmFpbGluZ0NvbW1hcywgYm9vbCBzcGFjZUFmdGVyRXhwYW5kZWRDb21tYSwgYm9vbCBleHBhbmRCb29sZWFuRXhwcmVzc2lvbnMsIGJvb2wgZXhwYW5kQ2FzZVN0YXRlbWVudHMsIGJvb2wgZXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMsIGJvb2wgYnJlYWtKb2luT25TZWN0aW9ucywgYm9vbCB1cHBlcmNhc2VLZXl3b3JkcywgYm9vbCBodG1sQ29sb3JpbmcsIGJvb2wga2V5d29yZFN0YW5kYXJkaXphdGlvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE9wdGlvbnMgPSBuZXcgVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9uc1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIEluZGVudFN0cmluZyA9IGluZGVudFN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICBTcGFjZXNQZXJUYWIgPSBzcGFjZXNQZXJUYWIsXHJcbiAgICAgICAgICAgICAgICAgICAgTWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIEV4cGFuZENvbW1hTGlzdHMgPSBleHBhbmRDb21tYUxpc3RzLFxyXG4gICAgICAgICAgICAgICAgICAgIFRyYWlsaW5nQ29tbWFzID0gdHJhaWxpbmdDb21tYXMsXHJcbiAgICAgICAgICAgICAgICAgICAgU3BhY2VBZnRlckV4cGFuZGVkQ29tbWEgPSBzcGFjZUFmdGVyRXhwYW5kZWRDb21tYSxcclxuICAgICAgICAgICAgICAgICAgICBFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgPSBleHBhbmRCb29sZWFuRXhwcmVzc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMgPSBleHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBFeHBhbmRDYXNlU3RhdGVtZW50cyA9IGV4cGFuZENhc2VTdGF0ZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIFVwcGVyY2FzZUtleXdvcmRzID0gdXBwZXJjYXNlS2V5d29yZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgQnJlYWtKb2luT25TZWN0aW9ucyA9IGJyZWFrSm9pbk9uU2VjdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgSFRNTENvbG9yaW5nID0gaHRtbENvbG9yaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIEtleXdvcmRTdGFuZGFyZGl6YXRpb24gPSBrZXl3b3JkU3RhbmRhcmRpemF0aW9uXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKGtleXdvcmRTdGFuZGFyZGl6YXRpb24pXHJcbiAgICAgICAgICAgICAgICBLZXl3b3JkTWFwcGluZyA9IFN0YW5kYXJkS2V5d29yZFJlbWFwcGluZy5JbnN0YW5jZTtcclxuICAgICAgICAgICAgRXJyb3JPdXRwdXRQcmVmaXggPSBNZXNzYWdpbmdDb25zdGFudHMuRm9ybWF0RXJyb3JEZWZhdWx0TWVzc2FnZSArIEVudmlyb25tZW50Lk5ld0xpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXJPcHRpb25zIE9wdGlvbnMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBJRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4gS2V5d29yZE1hcHBpbmcgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuSW5kZW50U3RyaW5nIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBJbmRlbnRTdHJpbmcgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5JbmRlbnRTdHJpbmc7IH0gc2V0IHsgT3B0aW9ucy5JbmRlbnRTdHJpbmcgPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuU3BhY2VzUGVyVGFiIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIGludCBTcGFjZXNQZXJUYWIgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5TcGFjZXNQZXJUYWI7IH0gc2V0IHsgT3B0aW9ucy5TcGFjZXNQZXJUYWIgPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuTWF4TGluZVdpZHRoIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIGludCBNYXhMaW5lV2lkdGggeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5NYXhMaW5lV2lkdGg7IH0gc2V0IHsgT3B0aW9ucy5NYXhMaW5lV2lkdGggPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuRXhwYW5kQ29tbWFMaXN0cyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZENvbW1hTGlzdHMgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5FeHBhbmRDb21tYUxpc3RzOyB9IHNldCB7IE9wdGlvbnMuRXhwYW5kQ29tbWFMaXN0cyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5UcmFpbGluZ0NvbW1hcyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIFRyYWlsaW5nQ29tbWFzIHsgZ2V0IHsgcmV0dXJuIE9wdGlvbnMuVHJhaWxpbmdDb21tYXM7IH0gc2V0IHsgT3B0aW9ucy5UcmFpbGluZ0NvbW1hcyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5TcGFjZUFmdGVyRXhwYW5kZWRDb21tYSBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIFNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hIHsgZ2V0IHsgcmV0dXJuIE9wdGlvbnMuU3BhY2VBZnRlckV4cGFuZGVkQ29tbWE7IH0gc2V0IHsgT3B0aW9ucy5TcGFjZUFmdGVyRXhwYW5kZWRDb21tYSA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5FeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgYm9vbCBFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5FeHBhbmRCb29sZWFuRXhwcmVzc2lvbnM7IH0gc2V0IHsgT3B0aW9ucy5FeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgYm9vbCBFeHBhbmRDYXNlU3RhdGVtZW50cyB7IGdldCB7IHJldHVybiBPcHRpb25zLkV4cGFuZENhc2VTdGF0ZW1lbnRzOyB9IHNldCB7IE9wdGlvbnMuRXhwYW5kQ2FzZVN0YXRlbWVudHMgPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuRXhwYW5kQ2FzZVN0YXRlbWVudHMgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgYm9vbCBFeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyB7IGdldCB7IHJldHVybiBPcHRpb25zLkV4cGFuZEJldHdlZW5Db25kaXRpb25zOyB9IHNldCB7IE9wdGlvbnMuRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMgPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuVXBwZXJjYXNlS2V5d29yZHMgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgYm9vbCBVcHBlcmNhc2VLZXl3b3JkcyB7IGdldCB7IHJldHVybiBPcHRpb25zLlVwcGVyY2FzZUtleXdvcmRzOyB9IHNldCB7IE9wdGlvbnMuVXBwZXJjYXNlS2V5d29yZHMgPSB2YWx1ZTsgfSB9XHJcbiAgICAgICAgW09ic29sZXRlKFwiVXNlIE9wdGlvbnMuQnJlYWtKb2luT25TZWN0aW9ucyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIEJyZWFrSm9pbk9uU2VjdGlvbnMgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zOyB9IHNldCB7IE9wdGlvbnMuQnJlYWtKb2luT25TZWN0aW9ucyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5IVE1MQ29sb3JpbmcgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgYm9vbCBIVE1MQ29sb3JpbmcgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5IVE1MQ29sb3Jpbmc7IH0gc2V0IHsgT3B0aW9ucy5IVE1MQ29sb3JpbmcgPSB2YWx1ZTsgfSB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBib29sIEhUTUxGb3JtYXR0ZWQgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5IVE1MQ29sb3Jpbmc7IH0gfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRXJyb3JPdXRwdXRQcmVmaXggeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcm1hdFNRTFRyZWUoTm9kZSBzcWxUcmVlRG9jKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy90aHJlYWQtc2FmZSAtIGVhY2ggY2FsbCB0byBGb3JtYXRTUUxUcmVlKCkgZ2V0cyBpdHMgb3duIGluZGVwZW5kZW50IHN0YXRlIG9iamVjdFxyXG4gICAgICAgICAgICBUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUgc3RhdGUgPSBuZXcgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlKE9wdGlvbnMuSFRNTENvbG9yaW5nLCBPcHRpb25zLkluZGVudFN0cmluZywgT3B0aW9ucy5TcGFjZXNQZXJUYWIsIE9wdGlvbnMuTWF4TGluZVdpZHRoLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcWxUcmVlRG9jLk5hbWUgPT0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9ST09UICYmIHNxbFRyZWVEb2MuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0VSUk9SRk9VTkQpID09IFwiMVwiKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChFcnJvck91dHB1dFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3Qoc3FsVHJlZURvYy5DaGlsZHJlbiwgc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgV2hpdGVTcGFjZV9CcmVha0FzRXhwZWN0ZWQoc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgLy9zb21lb25lIGZvcmdvdCB0byBjbG9zZSBhIFwiW25vZm9ybWF0XVwiIG9yIFwiW21pbmlmeV1cIiByZWdpb24uLi4gd2UnbGwgYXNzdW1lIHRoYXQncyBva1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBTcGVjaWFsUmVnaW9uVHlwZS5Ob0Zvcm1hdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTm9kZSBza2lwcGVkWG1sID0gTm9kZUV4dGVuc2lvbnMuRXh0cmFjdFN0cnVjdHVyZUJldHdlZW4oc3RhdGUuUmVnaW9uU3RhcnROb2RlLCBzcWxUcmVlRG9jKTtcclxuICAgICAgICAgICAgICAgIFRTcWxJZGVudGl0eUZvcm1hdHRlciB0ZW1wRm9ybWF0dGVyID0gbmV3IFRTcWxJZGVudGl0eUZvcm1hdHRlcihPcHRpb25zLkhUTUxDb2xvcmluZyk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBTcGVjaWFsUmVnaW9uVHlwZS5NaW5pZnkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE5vZGUgc2tpcHBlZFhtbCA9IE5vZGVFeHRlbnNpb25zLkV4dHJhY3RTdHJ1Y3R1cmVCZXR3ZWVuKHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSwgc3FsVHJlZURvYyk7XHJcbiAgICAgICAgICAgICAgICBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIgdGVtcEZvcm1hdHRlciA9IG5ldyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGlmIChIVE1MRm9ybWF0dGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnRSYXcoVXRpbHMuSHRtbEVuY29kZSh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLkR1bXBPdXRwdXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBQcm9jZXNzU3FsTm9kZUxpc3QoSUVudW1lcmFibGU8Tm9kZT4gcm9vdExpc3QsIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzdGF0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY29udGVudEVsZW1lbnQgaW4gcm9vdExpc3QpXHJcbiAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZShjb250ZW50RWxlbWVudCwgc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFByb2Nlc3NTcWxOb2RlKE5vZGUgY29udGVudEVsZW1lbnQsIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzdGF0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGludCBpbml0aWFsSW5kZW50ID0gc3RhdGUuSW5kZW50TGV2ZWw7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0hBU0VSUk9SKSA9PSBcIjFcIilcclxuICAgICAgICAgICAgICAgIHN0YXRlLk9wZW5DbGFzcyhTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0VSUk9SSElHSExJR0hUKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29udGVudEVsZW1lbnQuTmFtZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlU3RhdGVtZW50cyhjb250ZW50RWxlbWVudCwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlc2V0S2V5d29yZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TdGF0ZW1lbnRCcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlVuSW5kZW50SW5pdGlhbEJyZWFrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlLkluY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuXHRcdFx0XHRcdGlmIChPcHRpb25zLk5ld0NsYXVzZUxpbmVCcmVha3MgPiAwKVxyXG5cdCAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRpZiAoT3B0aW9ucy5OZXdDbGF1c2VMaW5lQnJlYWtzID4gMSlcclxuXHRcdFx0XHRcdFx0c3RhdGUuQWRkaXRpb25hbEJyZWFrc0V4cGVjdGVkID0gT3B0aW9ucy5OZXdDbGF1c2VMaW5lQnJlYWtzIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7IC8vdGhpcyBpcyB0aGUgb25lIGFscmVhZHkgcmVjb21tZW5kZWQgYnkgdGhlIHN0YXJ0IG9mIHRoZSBjbGF1c2VcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5XaGl0ZVNwYWNlX0JyZWFrVG9OZXh0TGluZSgpOyAvL3RoaXMgaXMgdGhlIG9uZSB3ZSBhZGRpdGlvbmFsbHkgd2FudCB0byBhcHBseVxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZGl0aW9uYWxCcmVha3NFeHBlY3RlZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkFUQ0hfU0VQQVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vbmV3bGluZSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgcHJldmlvdXMgZWxlbWVudCByZWNvbW1lbmRlZCBhIGJyZWFrIG9yIG5vdC5cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5XaGl0ZVNwYWNlX0JyZWFrVG9OZXh0TGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0RFQ0xBUkVfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfREVDTEFSQVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NBVkVfVFJBTlNBQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NSVRfVFJBTlNBQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ST0xMQkFDS19UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJTEVfTE9PUDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lGX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVEFSR0VUOlxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfSU5QVVQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CT09MRUFOX0VYUFJFU1NJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0xPV0VSQk9VTkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX1VQUEVSQk9VTkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQUNUSU9OOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICBib29sIHNpbmdsZVN0YXRlbWVudElzSWYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChOb2RlIHN0YXRlbWVudCBpbiBjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY2xhdXNlIGluIHN0YXRlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChOb2RlIGlmU3RhdGVtZW50IGluIGNsYXVzZS5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSUZfU1RBVEVNRU5UKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVTdGF0ZW1lbnRJc0lmID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRpZiAoc2luZ2xlU3RhdGVtZW50SXNJZiAmJiBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VMU0VfQ0xBVVNFKSlcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly9hcnRpZmljaWFsbHkgZGVjcmVtZW50IGluZGVudCBhbmQgc2tpcCBuZXcgc3RhdGVtZW50IGJyZWFrIGZvciBcIkVMU0UgSUZcIiBjb25zdHJ1Y3RzXHJcblx0XHRcdFx0XHRcdHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuXHRcdFx0XHRcdGlmIChzaW5nbGVTdGF0ZW1lbnRJc0lmICYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0UpKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQvL2JyaW5nIGluZGVudCBiYWNrIHRvIHN5bW1ldHJpY2FsIGxldmVsXHJcblx0XHRcdFx0XHRcdHN0YXRlLkluY3JlbWVudEluZGVudCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHN0YXRlLlN0YXRlbWVudEJyZWFrRXhwZWN0ZWQgPSBmYWxzZTsgLy90aGUgcmVzcG9uc2liaWxpdHkgZm9yIGJyZWFraW5nIHdpbGwgYmUgd2l0aCB0aGUgT1VURVIgc3RhdGVtZW50OyB0aGVyZSBzaG91bGQgYmUgbm8gY29uc2VxdWVuY2UgcHJvcGFnYXRpbmcgb3V0IGZyb20gc3RhdGVtZW50cyBpbiB0aGlzIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5VbkluZGVudEluaXRpYWxCcmVhayA9IGZhbHNlOyAvL2lmIHRoZXJlIHdhcyBubyB3b3JkIHNwYWNpbmcgYWZ0ZXIgdGhlIGxhc3QgY29udGVudCBzdGF0ZW1lbnQncyBjbGF1c2Ugc3RhcnRlciwgZG9lc24ndCBtZWFuIHRoZSB1bkluZGVudCBzaG91bGQgcHJvcGFnYXRlIHRvIHRoZSBmb2xsb3dpbmcgY29udGVudCFcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19UQVJHRVQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19SRUNJUElFTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9USEVOOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlVuSW5kZW50SW5pdGlhbEJyZWFrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlLkluY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9KT0lOX09OX1NFQ1RJT046XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9wdGlvbnMuQnJlYWtKb2luT25TZWN0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQUxJQVM6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuVW5JbmRlbnRJbml0aWFsQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VMU0VfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4pLCBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UKSwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9BU19CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiksIHN0YXRlLkRlY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUklHR0VSX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5XaGl0ZVNwYWNlX0JyZWFrVG9OZXh0TGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfT1BUSU9OUzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BU19CTE9DSzpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOKSwgc3RhdGUuRGVjcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKSwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9SRVRVUk5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVVNJTkc6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9XSEVOOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlVuSW5kZW50SW5pdGlhbEJyZWFrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkluY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9MT1dFUkJPVU5EKSwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPcHRpb25zLkV4cGFuZEJldHdlZW5Db25kaXRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRSksIHN0YXRlLkRlY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fVVBQRVJCT1VORCksIHN0YXRlLkluY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExERVRBSUxfUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fUEFSRU5TOlxyXG5cdFx0XHRcdFx0Ly9zaW1wbHkgcHJvY2VzcyBzdWItbm9kZXMgLSBkb24ndCBhZGQgc3BhY2Ugb3IgZXhwZWN0IGFueSBsaW5lYnJlYWtzIChidXQgcmVzcGVjdCBsaW5lYnJlYWtzIGlmIG5lY2Vzc2FyeSlcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX0JyZWFrQXNFeHBlY3RlZChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihcIihcIiksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKFwiKVwiKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVRfUEFSRU5TOlxyXG5cdFx0XHRcdGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUzpcclxuXHRcdFx0XHRcdFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcblx0XHRcdFx0XHRpZiAoY29udGVudEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VYUFJFU1NJT05fUEFSRU5TKSB8fCBjb250ZW50RWxlbWVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihcIihcIiksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBpbm5lclN0YXRlID0gbmV3IFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBpbm5lclN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXJlIHdhcyBhIGxpbmVicmVhayBpbiB0aGUgcGFyZW5zIGNvbnRlbnQsIG9yIGlmIGl0IHdhbnRlZCBvbmUgdG8gZm9sbG93LCB0aGVuIHB1dCBsaW5lYnJlYWtzIGJlZm9yZSBhbmQgYWZ0ZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3RhdGUuQnJlYWtFeHBlY3RlZCB8fCBpbm5lclN0YXRlLk91dHB1dENvbnRhaW5zTGluZUJyZWFrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbm5lclN0YXRlLlN0YXJ0c1dpdGhCcmVhaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFzc2ltaWxhdGUoaW5uZXJTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFzc2ltaWxhdGUoaW5uZXJTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoRm9ybWF0T3BlcmF0b3IoXCIpXCIpLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX09QRVJBVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VYUFJFU1NJT05fUEFSRU5TKSB8fCBjb250ZW50RWxlbWVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGVjcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9FTkRfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUllfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVRDSF9CTE9DSzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBjb250ZW50RWxlbWVudC5QYXJlbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBjb250ZW50RWxlbWVudC5QYXJlbnQuUGFyZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5UKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkluY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5QYXJlbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkluY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4pLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0lOUFVUKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9XSEVOKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9FTFNFKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPcHRpb25zLkV4cGFuZENhc2VTdGF0ZW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRSksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1dIRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1RIRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0VMU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9wdGlvbnMuRXhwYW5kQ2FzZVN0YXRlbWVudHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4pLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1RIRU4pLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGVjcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQU5EX09QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1JfT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9wdGlvbnMuRXhwYW5kQm9vbGVhbkV4cHJlc3Npb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZShjb250ZW50RWxlbWVudC5DaGlsZEJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfTVVMVElMSU5FOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IFNwZWNpYWxSZWdpb25UeXBlLk5vRm9ybWF0ICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbL05PRk9STUFUXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgc2tpcHBlZFhtbCA9IE5vZGVFeHRlbnNpb25zLkV4dHJhY3RTdHJ1Y3R1cmVCZXR3ZWVuKHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSwgY29udGVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZFhtbCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIgdGVtcEZvcm1hdHRlciA9IG5ldyBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIoT3B0aW9ucy5IVE1MQ29sb3JpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudFJhdyh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPT0gU3BlY2lhbFJlZ2lvblR5cGUuTWluaWZ5ICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbL01JTklGWV1cIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHNraXBwZWRYbWwgPSBOb2RlRXh0ZW5zaW9ucy5FeHRyYWN0U3RydWN0dXJlQmV0d2VlbihzdGF0ZS5SZWdpb25TdGFydE5vZGUsIGNvbnRlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBwZWRYbWwgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyIHRlbXBGb3JtYXR0ZXIgPSBuZXcgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSFRNTEZvcm1hdHRlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KFV0aWxzLkh0bWxFbmNvZGUodGVtcEZvcm1hdHRlci5Gb3JtYXRTUUxUcmVlKHNraXBwZWRYbWwpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudFJhdyh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlQ29tbWVudChjb250ZW50RWxlbWVudCwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIvKlwiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlICsgXCIqL1wiLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0NPTU1FTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChjb250ZW50RWxlbWVudC5OZXh0U2libGluZygpICE9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGNvbnRlbnRFbGVtZW50Lk5leHRTaWJsaW5nKCkuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBSZWdleC5Jc01hdGNoKGNvbnRlbnRFbGVtZW50Lk5leHRTaWJsaW5nKCkuVGV4dFZhbHVlLCBAXCIoXFxyfFxcbikrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGJsb2NrIGNvbW1lbnQgaXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhIHN0YXRlbWVudCwgb3IgaWYgaXQgd2FzIGZvbGxvd2VkIGJ5IGEgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbmVicmVhayBiZWZvcmUgYW55IGZvbGxvd2luZyBjb250ZW50LCB0aGVuIGJyZWFrIGhlcmUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbTk9GT1JNQVRdXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGF0ZS5BZGRPdXRwdXRMaW5lQnJlYWsoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IFNwZWNpYWxSZWdpb25UeXBlLk5vRm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWdpb25TdGFydE5vZGUgPSBjb250ZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbTUlOSUZZXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RhdGUuQWRkT3V0cHV0TGluZUJyZWFrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPSBTcGVjaWFsUmVnaW9uVHlwZS5NaW5pZnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IGNvbnRlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IFNwZWNpYWxSZWdpb25UeXBlLk5vRm9ybWF0ICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbL05PRk9STUFUXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgc2tpcHBlZFhtbCA9IE5vZGVFeHRlbnNpb25zLkV4dHJhY3RTdHJ1Y3R1cmVCZXR3ZWVuKHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSwgY29udGVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZFhtbCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIgdGVtcEZvcm1hdHRlciA9IG5ldyBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIoT3B0aW9ucy5IVE1MQ29sb3JpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudFJhdyh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPT0gU3BlY2lhbFJlZ2lvblR5cGUuTWluaWZ5ICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbL01JTklGWV1cIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHNraXBwZWRYbWwgPSBOb2RlRXh0ZW5zaW9ucy5FeHRyYWN0U3RydWN0dXJlQmV0d2VlbihzdGF0ZS5SZWdpb25TdGFydE5vZGUsIGNvbnRlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBwZWRYbWwgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyIHRlbXBGb3JtYXR0ZXIgPSBuZXcgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSFRNTEZvcm1hdHRlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KFV0aWxzLkh0bWxFbmNvZGUodGVtcEZvcm1hdHRlci5Gb3JtYXRTUUxUcmVlKHNraXBwZWRYbWwpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudFJhdyh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlQ29tbWVudChjb250ZW50RWxlbWVudCwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoKGNvbnRlbnRFbGVtZW50Lk5hbWUgPT0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORSA/IFwiLS1cIiA6IFwiLy9cIikgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIlxcclwiLCBcIlwiKS5SZXBsYWNlKFwiXFxuXCIsIFwiXCIpLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0NPTU1FTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNvdXJjZUJyZWFrUGVuZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIltOT0ZPUk1BVF1cIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRMaW5lQnJlYWsoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IFNwZWNpYWxSZWdpb25UeXBlLk5vRm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWdpb25TdGFydE5vZGUgPSBjb250ZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsICYmIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuQ29udGFpbnMoXCJbTUlOSUZZXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gU3BlY2lhbFJlZ2lvblR5cGUuTWluaWZ5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWdpb25TdGFydE5vZGUgPSBjb250ZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTlNUUklORzpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyBvdXRWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OU1RSSU5HKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0VmFsdWUgPSBcIk4nXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIidcIiwgXCInJ1wiKSArIFwiJ1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0VmFsdWUgPSBcIidcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiJ1wiLCBcIicnXCIpICsgXCInXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChvdXRWYWx1ZSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19TVFJJTkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQlJBQ0tFVF9RVU9URURfTkFNRTpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJbXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIl1cIiwgXCJdXVwiKSArIFwiXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1FVT1RFRF9TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiXFxcIlwiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCJcXFwiXCIsIFwiXFxcIlxcXCJcIikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NQTpcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbW1hIGFsd2F5cyBpZ25vcmVzIHJlcXVlc3RlZCB3b3JkIHNwYWNpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5UcmFpbGluZ0NvbW1hcylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihcIixcIiksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChPcHRpb25zLkV4cGFuZENvbW1hTGlzdHNcclxuXHRcdFx0XHRcdFx0XHRcdCYmICEoY29udGVudEVsZW1lbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExERVRBSUxfUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR8fCBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdFx0fHwgY29udGVudEVsZW1lbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHR8fCAoT3B0aW9ucy5FeHBhbmRJbkxpc3RzXHJcblx0XHRcdFx0XHRcdFx0XHQmJiBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChPcHRpb25zLkV4cGFuZENvbW1hTGlzdHNcclxuXHRcdFx0XHRcdFx0XHRcdCYmICEoY29udGVudEVsZW1lbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExERVRBSUxfUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR8fCBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdFx0fHwgY29udGVudEVsZW1lbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHR8fCAoT3B0aW9ucy5FeHBhbmRJbkxpc3RzXHJcblx0XHRcdFx0XHRcdFx0XHQmJiBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKFwiLFwiKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5TcGFjZUFmdGVyRXhwYW5kZWRDb21tYSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9CcmVha0FzRXhwZWN0ZWQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihcIixcIiksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSSU9EOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VNSUNPTE9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0NPUEVSRVNPTFVUSU9OT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9hbHdheXMgaWdub3JlcyByZXF1ZXN0ZWQgd29yZCBzcGFjaW5nLCBhbmQgZG9lc24ndCByZXF1ZXN0IGEgZm9sbG93aW5nIHNwYWNlIGVpdGhlci5cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX0JyZWFrQXNFeHBlY3RlZChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX09QRVJBVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BU1RFUklTSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VRVUFMU1NJR046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BTFBIQU9QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJPUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoRm9ybWF0T3BlcmF0b3IoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01QT1VOREtFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TZXRSZWNlbnRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhUKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhUKSksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfS0VZV09SRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWVzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfQ09NTUVOVCksIHN0YXRlLkluY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RBVEFUWVBFX0tFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TZXRSZWNlbnRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfS0VZV09SRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QU0VVRE9OQU1FOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfS0VZV09SRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9LRVlXT1JEOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU2V0UmVjZW50S2V5d29yZChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0ZVTkNUSU9OKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01PTkVUQVJZX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTEFCRUw6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OVU1CRVJfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5Ub0xvd2VySW52YXJpYW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQklOQVJZX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIjB4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlN1YnN0cmluZygyKS5Ub1VwcGVySW52YXJpYW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJVEVTUEFDRTpcclxuICAgICAgICAgICAgICAgICAgICAvL3Rha2Ugbm90ZSBpZiBpdCdzIGEgbGluZS1icmVha2luZyBzcGFjZSwgYnV0IGRvbid0IERPIGFueXRoaW5nIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUmVnZXguSXNNYXRjaChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUsIEBcIihcXHJ8XFxuKStcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNvdXJjZUJyZWFrUGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJVbnJlY29nbml6ZWQgZWxlbWVudCBpbiBTUUwgWG1sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9IQVNFUlJPUikgPT0gXCIxXCIpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DbG9zZUNsYXNzKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5pdGlhbEluZGVudCAhPSBzdGF0ZS5JbmRlbnRMZXZlbClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJNZXNzZWQgdXAgdGhlIGluZGVudGluZyEhIENoZWNrIGNvZGUvc3RhY2sgb3IgcGFuaWMhXCIpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIEZvcm1hdEtleXdvcmQoc3RyaW5nIGtleXdvcmQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdHJpbmcgb3V0cHV0S2V5d29yZDtcclxuICAgICAgICAgICAgaWYgKCFLZXl3b3JkTWFwcGluZy5UcnlHZXRWYWx1ZShrZXl3b3JkLlRvVXBwZXJJbnZhcmlhbnQoKSwgb3V0IG91dHB1dEtleXdvcmQpKVxyXG4gICAgICAgICAgICAgICAgb3V0cHV0S2V5d29yZCA9IGtleXdvcmQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoT3B0aW9ucy5VcHBlcmNhc2VLZXl3b3JkcylcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRLZXl3b3JkLlRvVXBwZXJJbnZhcmlhbnQoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dEtleXdvcmQuVG9Mb3dlckludmFyaWFudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgRm9ybWF0T3BlcmF0b3Ioc3RyaW5nIG9wZXJhdG9yVmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoT3B0aW9ucy5VcHBlcmNhc2VLZXl3b3JkcylcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcGVyYXRvclZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZXJhdG9yVmFsdWUuVG9Mb3dlckludmFyaWFudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFdoaXRlU3BhY2VfU2VwYXJhdGVTdGF0ZW1lbnRzKE5vZGUgY29udGVudEVsZW1lbnQsIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzdGF0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5TdGF0ZW1lbnRCcmVha0V4cGVjdGVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIHdoZXRoZXIgdGhpcyBpcyBhIERFQ0xBUkUvU0VUIGNsYXVzZSB3aXRoIHNpbWlsYXIgcHJlY2VkZW50LCBhbmQgdGhlcmVmb3JlIGV4ZW1wdCBmcm9tIGRvdWJsZS1saW5lYnJlYWsuXHJcbiAgICAgICAgICAgICAgICBOb2RlIHRoaXNDbGF1c2VTdGFydGVyID0gRmlyc3RTZW1hbnRpY0VsZW1lbnRDaGlsZChjb250ZW50RWxlbWVudCk7XHJcblx0XHRcdFx0aWYgKCEodGhpc0NsYXVzZVN0YXJ0ZXIgIT0gbnVsbFxyXG5cdFx0XHRcdFx0JiYgdGhpc0NsYXVzZVN0YXJ0ZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRClcclxuXHRcdFx0XHRcdCYmIHN0YXRlLkdldFJlY2VudEtleXdvcmQoKSAhPSBudWxsXHJcblx0XHRcdFx0XHQmJiAoKHRoaXNDbGF1c2VTdGFydGVyLlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuRXF1YWxzKFwiU0VUXCIpXHJcblx0XHRcdFx0XHRcdFx0JiYgc3RhdGUuR2V0UmVjZW50S2V5d29yZCgpLkVxdWFscyhcIlNFVFwiKVxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0fHwgKHRoaXNDbGF1c2VTdGFydGVyLlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuRXF1YWxzKFwiREVDTEFSRVwiKVxyXG5cdFx0XHRcdFx0XHRcdCYmIHN0YXRlLkdldFJlY2VudEtleXdvcmQoKS5FcXVhbHMoXCJERUNMQVJFXCIpXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHR8fCAodGhpc0NsYXVzZVN0YXJ0ZXIuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5FcXVhbHMoXCJQUklOVFwiKVxyXG5cdFx0XHRcdFx0XHRcdCYmIHN0YXRlLkdldFJlY2VudEtleXdvcmQoKS5FcXVhbHMoXCJQUklOVFwiKVxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0KSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRmb3IgKGludCBpID0gT3B0aW9ucy5OZXdTdGF0ZW1lbnRMaW5lQnJlYWtzOyBpID4gMDsgaS0tKVxyXG5cdFx0XHRcdFx0XHRzdGF0ZS5BZGRPdXRwdXRMaW5lQnJlYWsoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGZvciAoaW50IGkgPSBPcHRpb25zLk5ld0NsYXVzZUxpbmVCcmVha3M7IGkgPiAwOyBpLS0pXHJcblx0XHRcdFx0XHRcdHN0YXRlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG5cdFx0XHRcdH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5JbmRlbnQoc3RhdGUuSW5kZW50TGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHN0YXRlLkFkZGl0aW9uYWxCcmVha3NFeHBlY3RlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5Tb3VyY2VCcmVha1BlbmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLlN0YXRlbWVudEJyZWFrRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIE5vZGUgRmlyc3RTZW1hbnRpY0VsZW1lbnRDaGlsZChOb2RlIGNvbnRlbnRFbGVtZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTm9kZSB0YXJnZXQgPSBudWxsO1xyXG4gICAgICAgICAgICB3aGlsZSAoY29udGVudEVsZW1lbnQgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5GaXJzdE9yRGVmYXVsdDxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPihjb250ZW50RWxlbWVudC5DaGlsZHJlbkV4Y2x1ZGluZ05hbWVzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfTk9OQ09OVEVOVCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiBTeXN0ZW0uQXJyYXlFeHRlbnNpb25zLkNvbnRhaW5zPHN0cmluZz4oU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05TRU1BTlRJQ0NPTlRFTlQsdGFyZ2V0Lk5hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLkJyZWFrRXhwZWN0ZWQgfHwgc3RhdGUuQWRkaXRpb25hbEJyZWFrc0V4cGVjdGVkID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYm9vbCB3YXNVbkluZGVudCA9IHN0YXRlLlVuSW5kZW50SW5pdGlhbEJyZWFrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhc1VuSW5kZW50KSBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgIGlmICh3YXNVbkluZGVudCkgc3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRTcGFjZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0YXRlLlVuSW5kZW50SW5pdGlhbEJyZWFrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHN0YXRlLlNvdXJjZUJyZWFrUGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBXaGl0ZVNwYWNlX1NlcGFyYXRlQ29tbWVudChOb2RlIGNvbnRlbnRFbGVtZW50LCBUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUgc3RhdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudExpbmVIYXNDb250ZW50ICYmIHN0YXRlLlNvdXJjZUJyZWFrUGVuZGluZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX0JyZWFrQXNFeHBlY3RlZChzdGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0U3BhY2UoKTtcclxuICAgICAgICAgICAgc3RhdGUuU291cmNlQnJlYWtQZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzdGF0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5CcmVha0V4cGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKTtcclxuICAgICAgICAgICAgd2hpbGUgKHN0YXRlLkFkZGl0aW9uYWxCcmVha3NFeHBlY3RlZCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5BZGRpdGlvbmFsQnJlYWtzRXhwZWN0ZWQtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2xhc3MgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIDogQmFzZUZvcm1hdHRlclN0YXRlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL25vcm1hbCBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlKGJvb2wgaHRtbE91dHB1dCwgc3RyaW5nIGluZGVudFN0cmluZywgaW50IHNwYWNlc1BlclRhYiwgaW50IG1heExpbmVXaWR0aCwgaW50IGluaXRpYWxJbmRlbnRMZXZlbClcclxuICAgICAgICAgICAgICAgIDogYmFzZShodG1sT3V0cHV0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRMZXZlbCA9IGluaXRpYWxJbmRlbnRMZXZlbDtcclxuICAgICAgICAgICAgICAgIEh0bWxPdXRwdXQgPSBodG1sT3V0cHV0O1xyXG4gICAgICAgICAgICAgICAgSW5kZW50U3RyaW5nID0gaW5kZW50U3RyaW5nO1xyXG5cdFx0XHRcdE1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpbnQgdGFiQ291bnQgPSBpbmRlbnRTdHJpbmcuU3BsaXQoJ1xcdCcpLkxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICBpbnQgdGFiRXh0cmFDaGFyYWN0ZXJzID0gdGFiQ291bnQgKiAoc3BhY2VzUGVyVGFiIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRMZW5ndGggPSBpbmRlbnRTdHJpbmcuTGVuZ3RoICsgdGFiRXh0cmFDaGFyYWN0ZXJzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3NwZWNpYWwgXCJ3ZSB3YW50IGlzb2xhdGVkIHN0YXRlLCBidXQgaW5oZXJpdGluZyBleGlzdGluZyBjb25kaXRpb25zXCIgY29uc3RydWN0b3JcclxuICAgICAgICAgICAgcHVibGljIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZShUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUgc291cmNlU3RhdGUpXHJcbiAgICAgICAgICAgICAgICA6IGJhc2Uoc291cmNlU3RhdGUuSHRtbE91dHB1dClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgSW5kZW50TGV2ZWwgPSBzb3VyY2VTdGF0ZS5JbmRlbnRMZXZlbDtcclxuICAgICAgICAgICAgICAgIEh0bWxPdXRwdXQgPSBzb3VyY2VTdGF0ZS5IdG1sT3V0cHV0O1xyXG4gICAgICAgICAgICAgICAgSW5kZW50U3RyaW5nID0gc291cmNlU3RhdGUuSW5kZW50U3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgSW5kZW50TGVuZ3RoID0gc291cmNlU3RhdGUuSW5kZW50TGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgTWF4TGluZVdpZHRoID0gc291cmNlU3RhdGUuTWF4TGluZVdpZHRoO1xyXG5cdFx0XHRcdC8vVE9ETzogZmluZCBhIHdheSBvdXQgb2YgdGhlIGNyb3NzLWRlcGVuZGVudCB3cmFwcGluZyBtYXplLi4uXHJcbiAgICAgICAgICAgICAgICAvL0N1cnJlbnRMaW5lTGVuZ3RoID0gc291cmNlU3RhdGUuQ3VycmVudExpbmVMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBDdXJyZW50TGluZUxlbmd0aCA9IEluZGVudExldmVsICogSW5kZW50TGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgQ3VycmVudExpbmVIYXNDb250ZW50ID0gc291cmNlU3RhdGUuQ3VycmVudExpbmVIYXNDb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcml2YXRlIHN0cmluZyBJbmRlbnRTdHJpbmcgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwcml2YXRlIGludCBJbmRlbnRMZW5ndGggeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwcml2YXRlIGludCBNYXhMaW5lV2lkdGggeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIGJvb2wgU3RhdGVtZW50QnJlYWtFeHBlY3RlZCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBib29sIEJyZWFrRXhwZWN0ZWQgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgYm9vbCBXb3JkU2VwYXJhdG9yRXhwZWN0ZWQgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgYm9vbCBTb3VyY2VCcmVha1BlbmRpbmcgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgaW50IEFkZGl0aW9uYWxCcmVha3NFeHBlY3RlZCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgYm9vbCBVbkluZGVudEluaXRpYWxCcmVhayB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBpbnQgSW5kZW50TGV2ZWwgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBpbnQgQ3VycmVudExpbmVMZW5ndGggeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBib29sIEN1cnJlbnRMaW5lSGFzQ29udGVudCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuRm9ybWF0dGVycy5UU3FsU3RhbmRhcmRGb3JtYXR0ZXIuU3BlY2lhbFJlZ2lvblR5cGU/IFNwZWNpYWxSZWdpb25BY3RpdmUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgTm9kZSBSZWdpb25TdGFydE5vZGUgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICAgICAgcHJpdmF0ZSBzdGF0aWMgUmVnZXggX3N0YXJ0c1dpdGhCcmVha0NoZWNrZXIgPSBuZXcgUmVnZXgoQFwiXlxccyooXFxyfFxcbilcIiwgUmVnZXhPcHRpb25zLk5vbmUpO1xyXG4gICAgICAgICAgICBwdWJsaWMgYm9vbCBTdGFydHNXaXRoQnJlYWtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZ2V0XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zdGFydHNXaXRoQnJlYWtDaGVja2VyLklzTWF0Y2goX291dEJ1aWxkZXIuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIEFkZE91dHB1dENvbnRlbnQoc3RyaW5nIGNvbnRlbnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChTcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgQWRkT3V0cHV0Q29udGVudChjb250ZW50LCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIG92ZXJyaWRlIHZvaWQgQWRkT3V0cHV0Q29udGVudChzdHJpbmcgY29udGVudCwgc3RyaW5nIGh0bWxDbGFzc05hbWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChDdXJyZW50TGluZUhhc0NvbnRlbnQgJiYgKGNvbnRlbnQuTGVuZ3RoICsgQ3VycmVudExpbmVMZW5ndGggPiBNYXhMaW5lV2lkdGgpKVxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFNwZWNpYWxSZWdpb25BY3RpdmUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnQoY29udGVudCwgaHRtbENsYXNzTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgQ3VycmVudExpbmVIYXNDb250ZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaW5lTGVuZ3RoICs9IGNvbnRlbnQuTGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgdm9pZCBBZGRPdXRwdXRMaW5lQnJlYWsoKVxyXG4gICAgICAgICAgICB7XHJcbiNpZiBERUJVR1xyXG4gICAgICAgICAgICAgICAgLy9oaW50cyBmb3IgZGVidWdnaW5nIGxpbmUtd2lkdGggaXNzdWVzOlxyXG4gICAgICAgICAgICAgICAgLy9fb3V0QnVpbGRlci5BcHBlbmQoXCIgKFwiICsgQ3VycmVudExpbmVMZW5ndGguVG9TdHJpbmcoU3lzdGVtLkdsb2JhbGl6YXRpb24uQ3VsdHVyZUluZm8uSW52YXJpYW50Q3VsdHVyZSkgKyBcIilcIik7XHJcbiNlbmRpZlxyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgbGluZWJyZWFrcyBhcmUgYWRkZWQgZGlyZWN0bHkgaW4gdGhlIGNvbnRlbnQgKGVnIGluIGNvbW1lbnRzIG9yIHN0cmluZ3MpLCB0aGV5IFxyXG4gICAgICAgICAgICAgICAgLy8gd29uJ3QgYmUgYWNjb3VudGVkIGZvciBoZXJlIC0gdGhhdCdzIG9rLlxyXG4gICAgICAgICAgICAgICAgaWYgKFNwZWNpYWxSZWdpb25BY3RpdmUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG4gICAgICAgICAgICAgICAgQ3VycmVudExpbmVMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgQ3VycmVudExpbmVIYXNDb250ZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGludGVybmFsIHZvaWQgQWRkT3V0cHV0U3BhY2UoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIEluZGVudChpbnQgaW5kZW50TGV2ZWwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgaW5kZW50TGV2ZWw7IGkrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnQoSW5kZW50U3RyaW5nLCBcIlwiKTsgLy90aGF0IGlzLCBhZGQgdGhlIGluZGVudCBhcyBIVE1MRW5jb2RlZCBjb250ZW50IGlmIG5lY2Vzc2FyeSwgYnV0IG5vIHdlaXJkIGxpbmVicmVhay1hZGRpbmdcclxuICAgICAgICAgICAgICAgICAgICBDdXJyZW50TGluZUxlbmd0aCArPSBJbmRlbnRMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGludGVybmFsIHZvaWQgV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBBZGRPdXRwdXRMaW5lQnJlYWsoKTtcclxuICAgICAgICAgICAgICAgIEluZGVudChJbmRlbnRMZXZlbCk7XHJcbiAgICAgICAgICAgICAgICBCcmVha0V4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBTb3VyY2VCcmVha1BlbmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIFdvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2ZvciBsaW5lYnJlYWsgZGV0ZWN0aW9uLCB1c2UgYWN0dWFsIHN0cmluZyBjb250ZW50IHJhdGhlciB0aGFuIGNvdW50aW5nIFwiQWRkT3V0cHV0TGluZUJyZWFrKClcIiBjYWxscyxcclxuICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBhbHNvIHdhbnQgdG8gZGV0ZWN0IHRoZSBjb250ZW50IG9mIHN0cmluZ3MgYW5kIGNvbW1lbnRzLlxyXG4jaWYgU0lNUExJRklFREZXXHJcbiAgICAgICAgICAgIHByaXZhdGUgc3RhdGljIFJlZ2V4IF9saW5lQnJlYWtNYXRjaGVyID0gbmV3IFJlZ2V4KEBcIihcXHJ8XFxuKStcIik7XHJcbiNlbHNlXHJcbiAgICAgICAgICAgIHByaXZhdGUgc3RhdGljIFJlZ2V4IF9saW5lQnJlYWtNYXRjaGVyID0gbmV3IFJlZ2V4KEBcIihcXHJ8XFxuKStcIiwgUmVnZXhPcHRpb25zLkNvbXBpbGVkKTtcclxuI2VuZGlmXHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgYm9vbCBPdXRwdXRDb250YWluc0xpbmVCcmVhayB7IGdldCB7IHJldHVybiBfbGluZUJyZWFrTWF0Y2hlci5Jc01hdGNoKF9vdXRCdWlsZGVyLlRvU3RyaW5nKCkpOyB9IH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIEFzc2ltaWxhdGUoVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIHBhcnRpYWxTdGF0ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBmaW5kIGEgd2F5IG91dCBvZiB0aGUgY3Jvc3MtZGVwZW5kZW50IHdyYXBwaW5nIG1hemUuLi5cclxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaW5lTGVuZ3RoID0gQ3VycmVudExpbmVMZW5ndGggKyBwYXJ0aWFsU3RhdGUuQ3VycmVudExpbmVMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBDdXJyZW50TGluZUhhc0NvbnRlbnQgPSBDdXJyZW50TGluZUhhc0NvbnRlbnQgfHwgcGFydGlhbFN0YXRlLkN1cnJlbnRMaW5lSGFzQ29udGVudDtcclxuICAgICAgICAgICAgICAgIGlmIChTcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKHBhcnRpYWxTdGF0ZS5EdW1wT3V0cHV0KCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgcHJpdmF0ZSBEaWN0aW9uYXJ5PGludCwgc3RyaW5nPiBfbW9zdFJlY2VudEtleXdvcmRzQXRFYWNoTGV2ZWwgPSBuZXcgRGljdGlvbmFyeTxpbnQsIHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUgSW5jcmVtZW50SW5kZW50KClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgSW5kZW50TGV2ZWwrKztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIERlY3JlbWVudEluZGVudCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIEluZGVudExldmVsLS07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIHZvaWQgU2V0UmVjZW50S2V5d29yZChzdHJpbmcgRWxlbWVudE5hbWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghX21vc3RSZWNlbnRLZXl3b3Jkc0F0RWFjaExldmVsLkNvbnRhaW5zS2V5KEluZGVudExldmVsKSlcclxuICAgICAgICAgICAgICAgICAgICBfbW9zdFJlY2VudEtleXdvcmRzQXRFYWNoTGV2ZWwuQWRkKEluZGVudExldmVsLCBFbGVtZW50TmFtZS5Ub1VwcGVySW52YXJpYW50KCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgc3RyaW5nIEdldFJlY2VudEtleXdvcmQoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcga2V5d29yZEZvdW5kID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGludD8ga2V5d29yZEZvdW5kQXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yZWFjaCAoaW50IGtleSBpbiBfbW9zdFJlY2VudEtleXdvcmRzQXRFYWNoTGV2ZWwuS2V5cylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKGtleXdvcmRGb3VuZEF0ID09IG51bGwgfHwga2V5d29yZEZvdW5kQXQuVmFsdWUgPiBrZXkpICYmIGtleSA+PSBJbmRlbnRMZXZlbClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXdvcmRGb3VuZEF0ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkRm91bmQgPSBfbW9zdFJlY2VudEtleXdvcmRzQXRFYWNoTGV2ZWxba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5d29yZEZvdW5kO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBSZXNldEtleXdvcmRzKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTGlzdDxpbnQ+IGRlc2NlbmRlbnRMZXZlbEtleXMgPSBuZXcgTGlzdDxpbnQ+KCk7XHJcbiAgICAgICAgICAgICAgICBmb3JlYWNoIChpbnQga2V5IGluIF9tb3N0UmVjZW50S2V5d29yZHNBdEVhY2hMZXZlbC5LZXlzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPj0gSW5kZW50TGV2ZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NlbmRlbnRMZXZlbEtleXMuQWRkKGtleSk7XHJcbiAgICAgICAgICAgICAgICBmb3JlYWNoIChpbnQga2V5IGluIGRlc2NlbmRlbnRMZXZlbEtleXMpXHJcbiAgICAgICAgICAgICAgICAgICAgX21vc3RSZWNlbnRLZXl3b3Jkc0F0RWFjaExldmVsLlJlbW92ZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZW51bSBTcGVjaWFsUmVnaW9uVHlwZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTm9Gb3JtYXQgPSAxLFxyXG4gICAgICAgICAgICBNaW5pZnkgPSAyXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmU7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5UZXh0LlJlZ3VsYXJFeHByZXNzaW9ucztcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZXJzXHJcbntcclxuICAgIHB1YmxpYyBjbGFzcyBUU3FsU3RhbmRhcmRQYXJzZXIgOiBJU3FsVG9rZW5QYXJzZXJcclxuICAgIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFRPRE86XHJcbiAgICAgICAgICogIC0gaGFuZGxlIFJhbmtpbmcgRnVuY3Rpb25zIHdpdGggbXVsdGlwbGUgcGFydGl0aW9uIG9yIG9yZGVyIGJ5IGNvbHVtbnMvY2xhdXNlc1xyXG4gICAgICAgICAqICAtIGRldGVjdCB0YWJsZSBoaW50cywgdG8gYXZvaWQgdGhlbSBsb29raW5nIGxpa2UgZnVuY3Rpb24gcGFyZW5zXHJcbiAgICAgICAgICogIC0gSGFuZGxlIERETCB0cmlnZ2Vyc1xyXG4gICAgICAgICAqICAtIERldGVjdCBBTFRFUiBrZXl3b3JkcyB0aGF0IGFyZSBjbGF1c2VzIG9mIG90aGVyIHN0YXRlbWVudHMsIHZzIHRob3NlIHRoYXQgYXJlIHN0YXRlbWVudHNcclxuICAgICAgICAgKiAgXHJcbiAgICAgICAgICogIC0gVGVzdHNcclxuICAgICAgICAgKiAgICAtIFNhbXBsZXMgaWxsdXN0cmF0aW5nIGFsbCB0aGUgdG9rZW5zIGFuZCBjb250YWluZXIgY29tYmluYXRpb25zIGltcGxlbWVudGVkXHJcbiAgICAgICAgICogICAgLSBTYW1wbGVzIGlsbHVzdHJhdGluZyBhbGwgZm9ybXMgb2YgY29udGFpbmVyIHZpb2xhdGlvbnNcclxuICAgICAgICAgKiAgICAtIFNhbXBsZSByZXF1ZXN0cyBhbmQgdGhlaXIgWE1MIGVxdWl2YWxlbnQgLSBvbmNlIHRoZSB4bWwgZm9ybWF0IGlzIG1vcmUtb3ItbGVzcyBmb3JtYWxpemVkXHJcbiAgICAgICAgICogICAgLSBTYW1wbGUgcmVxdWVzdHMgYW5kIHRoZWlyIGZvcm1hdHRlZCB2ZXJzaW9ucyAoYSBmZXcgZm9yIGVhY2gpIC0gb25jZSB0aGUgXCJzdGFuZGFyZFwiIGZvcm1hdCBpcyBtb3JlLW9yLWxlc3MgZm9ybWFsaXplZFxyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICAvL3lheSBmb3Igc3RhdGljIGNvbnN0cnVjdG9ycyFcclxuICAgICAgICBwdWJsaWMgc3RhdGljIERpY3Rpb25hcnk8c3RyaW5nLCBLZXl3b3JkVHlwZT4gS2V5d29yZExpc3QgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHN0YXRpYyBUU3FsU3RhbmRhcmRQYXJzZXIoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZUtleXdvcmRMaXN0KCk7XHJcblN5c3RlbS5MaW5xLkVudW1lcmFibGUuVGFrZTxnbG9iYWw6OlN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLktleVZhbHVlUGFpcjxzdHJpbmcsIGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlcnMuVFNxbFN0YW5kYXJkUGFyc2VyLktleXdvcmRUeXBlPj4oICAgICAgICAgICAgLy90ZW1wb3JhcnksIHRvIGNvbnZpbmNlIFZpc3VhbFN0dWRpbyB0byBjb3B5IHRoZSBMaW5xQnJpZGdlIERMTCwgb3RoZXJ3aXNlIElMTWVyZ2UgZmFpbHMgYmVjYXVzZSBvZiB0aGUgbWlzc2luZyBmaWxlLlxyXG4gICAgICAgICAgICAvLyAtIG1heWJlIGluc3RlYWQgSSBzaG91bGQgcmVtb3ZlIExpbnFCcmlkZ2UsIGFzIEknbSBub3QgdXNpbmcgaXQgYXQgdGhlIG1vbWVudC4uLlxyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdCwzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBSZWdleCBfSm9pbkRldGVjdG9yID0gbmV3IFJlZ2V4KFwiXigoUklHSFR8SU5ORVJ8TEVGVHxDUk9TU3xGVUxMKSApPyhPVVRFUiApPygoSEFTSHxMT09QfE1FUkdFfFJFTU9URSkgKT8oSk9JTnxBUFBMWSkgXCIpO1xyXG5cclxuICAgICAgICAvLyBvcmlnaW5hbDogc3RhdGljIFJlZ2V4IF9DdXJzb3JEZXRlY3RvciA9IG5ldyBSZWdleChAXCJeREVDTEFSRSBbXFxwe0x9MC05X1xcJFxcQFxcI10rICgoSU5TRU5TSVRJVkV8U0NST0xMKSApezAsMn1DVVJTT1IgXCIpOyAvL25vdGUgdGhlIHVzZSBvZiBcInVuaWNvZGUgbGV0dGVyXCIgaW4gaWRlbnRpZmllciBydWxlXHJcbiAgICAgICAgLy8gcHJvYmxlbSB3YXMgdGhhdCBCcmlkZ2UuTmV0IGlubm9jZW50bHkgcGFzc2VzIHRoZSBcIlxccHtMfVwiIHRvIEpTLCB3aGljaCBkb2VzIG5vdCB1bmRlcnN0YW5kIChFUzUpIG9yIHJlZnVzZXMgdG8gdW5kZXJzdGFuZCAoRVM2KVxyXG4gICAgICAgIC8vIEVTNiB1bmljb2RlIGVxdWl2YWxlbmN5IHJldHJpZXZlZCBmcm9tIEVTNi10by1FUzUgcmVnZXggdW5pY29kZSB0cmFuc3BpbGVyIFwicmVnZXhwdVwiIGRlbW8gc2l0ZSBodHRwczovL21vdGhlcmVmZi5pbi9yZWdleHB1XHJcbiAgICAgICAgLy8gKGFzIGZhciBhcyBJIGNhbiB0ZWxsIHRoZSBFUzUgcmVnZXggY29uc3RydWN0cyB1c2VkIGFyZSBhbHNvIC5OZXQtY29tcGF0aWJsZSlcclxuICAgICAgICBzdGF0aWMgUmVnZXggX0N1cnNvckRldGVjdG9yID0gbmV3IFJlZ2V4KEBcIl5ERUNMQVJFICg/OlsjXFwkMC05QC1aX2EtelxceEFBXFx4QjVcXHhCQVxceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHhGOC1cXHUwMkMxXFx1MDJDNi1cXHUwMkQxXFx1MDJFMC1cXHUwMkU0XFx1MDJFQ1xcdTAyRUVcXHUwMzcwLVxcdTAzNzRcXHUwMzc2XFx1MDM3N1xcdTAzN0EtXFx1MDM3RFxcdTAzN0ZcXHUwMzg2XFx1MDM4OC1cXHUwMzhBXFx1MDM4Q1xcdTAzOEUtXFx1MDNBMVxcdTAzQTMtXFx1MDNGNVxcdTAzRjctXFx1MDQ4MVxcdTA0OEEtXFx1MDUyRlxcdTA1MzEtXFx1MDU1NlxcdTA1NTlcXHUwNTYxLVxcdTA1ODdcXHUwNUQwLVxcdTA1RUFcXHUwNUYwLVxcdTA1RjJcXHUwNjIwLVxcdTA2NEFcXHUwNjZFXFx1MDY2RlxcdTA2NzEtXFx1MDZEM1xcdTA2RDVcXHUwNkU1XFx1MDZFNlxcdTA2RUVcXHUwNkVGXFx1MDZGQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTBcXHUwNzEyLVxcdTA3MkZcXHUwNzRELVxcdTA3QTVcXHUwN0IxXFx1MDdDQS1cXHUwN0VBXFx1MDdGNFxcdTA3RjVcXHUwN0ZBXFx1MDgwMC1cXHUwODE1XFx1MDgxQVxcdTA4MjRcXHUwODI4XFx1MDg0MC1cXHUwODU4XFx1MDg2MC1cXHUwODZBXFx1MDhBMC1cXHUwOEI0XFx1MDhCNi1cXHUwOEJEXFx1MDkwNC1cXHUwOTM5XFx1MDkzRFxcdTA5NTBcXHUwOTU4LVxcdTA5NjFcXHUwOTcxLVxcdTA5ODBcXHUwOTg1LVxcdTA5OENcXHUwOThGXFx1MDk5MFxcdTA5OTMtXFx1MDlBOFxcdTA5QUEtXFx1MDlCMFxcdTA5QjJcXHUwOUI2LVxcdTA5QjlcXHUwOUJEXFx1MDlDRVxcdTA5RENcXHUwOUREXFx1MDlERi1cXHUwOUUxXFx1MDlGMFxcdTA5RjFcXHUwOUZDXFx1MEEwNS1cXHUwQTBBXFx1MEEwRlxcdTBBMTBcXHUwQTEzLVxcdTBBMjhcXHUwQTJBLVxcdTBBMzBcXHUwQTMyXFx1MEEzM1xcdTBBMzVcXHUwQTM2XFx1MEEzOFxcdTBBMzlcXHUwQTU5LVxcdTBBNUNcXHUwQTVFXFx1MEE3Mi1cXHUwQTc0XFx1MEE4NS1cXHUwQThEXFx1MEE4Ri1cXHUwQTkxXFx1MEE5My1cXHUwQUE4XFx1MEFBQS1cXHUwQUIwXFx1MEFCMlxcdTBBQjNcXHUwQUI1LVxcdTBBQjlcXHUwQUJEXFx1MEFEMFxcdTBBRTBcXHUwQUUxXFx1MEFGOVxcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNEXFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjFcXHUwQjcxXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkQwXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzM5XFx1MEMzRFxcdTBDNTgtXFx1MEM1QVxcdTBDNjBcXHUwQzYxXFx1MEM4MFxcdTBDODUtXFx1MEM4Q1xcdTBDOEUtXFx1MEM5MFxcdTBDOTItXFx1MENBOFxcdTBDQUEtXFx1MENCM1xcdTBDQjUtXFx1MENCOVxcdTBDQkRcXHUwQ0RFXFx1MENFMFxcdTBDRTFcXHUwQ0YxXFx1MENGMlxcdTBEMDUtXFx1MEQwQ1xcdTBEMEUtXFx1MEQxMFxcdTBEMTItXFx1MEQzQVxcdTBEM0RcXHUwRDRFXFx1MEQ1NC1cXHUwRDU2XFx1MEQ1Ri1cXHUwRDYxXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBFMDEtXFx1MEUzMFxcdTBFMzJcXHUwRTMzXFx1MEU0MC1cXHUwRTQ2XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjBcXHUwRUIyXFx1MEVCM1xcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGNDAtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGODgtXFx1MEY4Q1xcdTEwMDAtXFx1MTAyQVxcdTEwM0ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVBLVxcdTEwNURcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZFLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhFXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNVxcdTEzRjgtXFx1MTNGRFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE2RjEtXFx1MTZGOFxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3ODAtXFx1MTdCM1xcdTE3RDdcXHUxN0RDXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxODg0XFx1MTg4Ny1cXHUxOEE4XFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxRVxcdTE5NTAtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QjAtXFx1MTlDOVxcdTFBMDAtXFx1MUExNlxcdTFBMjAtXFx1MUE1NFxcdTFBQTdcXHUxQjA1LVxcdTFCMzNcXHUxQjQ1LVxcdTFCNEJcXHUxQjgzLVxcdTFCQTBcXHUxQkFFXFx1MUJBRlxcdTFCQkEtXFx1MUJFNVxcdTFDMDAtXFx1MUMyM1xcdTFDNEQtXFx1MUM0RlxcdTFDNUEtXFx1MUM3RFxcdTFDODAtXFx1MUM4OFxcdTFDRTktXFx1MUNFQ1xcdTFDRUUtXFx1MUNGMVxcdTFDRjVcXHUxQ0Y2XFx1MUQwMC1cXHUxREJGXFx1MUUwMC1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTJEXFx1MjEyRi1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxODNcXHUyMTg0XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0VFXFx1MkNGMlxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDgwLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUyRTJGXFx1MzAwNVxcdTMwMDZcXHUzMDMxLVxcdTMwMzVcXHUzMDNCXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOUQtXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRVxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZFQVxcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYxRlxcdUE2MkFcXHVBNjJCXFx1QTY0MC1cXHVBNjZFXFx1QTY3Ri1cXHVBNjlEXFx1QTZBMC1cXHVBNkU1XFx1QTcxNy1cXHVBNzFGXFx1QTcyMi1cXHVBNzg4XFx1QTc4Qi1cXHVBN0FFXFx1QTdCMC1cXHVBN0I3XFx1QTdGNy1cXHVBODAxXFx1QTgwMy1cXHVBODA1XFx1QTgwNy1cXHVBODBBXFx1QTgwQy1cXHVBODIyXFx1QTg0MC1cXHVBODczXFx1QTg4Mi1cXHVBOEIzXFx1QThGMi1cXHVBOEY3XFx1QThGQlxcdUE4RkRcXHVBOTBBLVxcdUE5MjVcXHVBOTMwLVxcdUE5NDZcXHVBOTYwLVxcdUE5N0NcXHVBOTg0LVxcdUE5QjJcXHVBOUNGXFx1QTlFMC1cXHVBOUU0XFx1QTlFNi1cXHVBOUVGXFx1QTlGQS1cXHVBOUZFXFx1QUEwMC1cXHVBQTI4XFx1QUE0MC1cXHVBQTQyXFx1QUE0NC1cXHVBQTRCXFx1QUE2MC1cXHVBQTc2XFx1QUE3QVxcdUFBN0UtXFx1QUFBRlxcdUFBQjFcXHVBQUI1XFx1QUFCNlxcdUFBQjktXFx1QUFCRFxcdUFBQzBcXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVBXFx1QUFGMi1cXHVBQUY0XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUIzMC1cXHVBQjVBXFx1QUI1Qy1cXHVBQjY1XFx1QUI3MC1cXHVBQkUyXFx1QUMwMC1cXHVEN0EzXFx1RDdCMC1cXHVEN0M2XFx1RDdDQi1cXHVEN0ZCXFx1RjkwMC1cXHVGQTZEXFx1RkE3MC1cXHVGQUQ5XFx1RkIwMC1cXHVGQjA2XFx1RkIxMy1cXHVGQjE3XFx1RkIxRFxcdUZCMUYtXFx1RkIyOFxcdUZCMkEtXFx1RkIzNlxcdUZCMzgtXFx1RkIzQ1xcdUZCM0VcXHVGQjQwXFx1RkI0MVxcdUZCNDNcXHVGQjQ0XFx1RkI0Ni1cXHVGQkIxXFx1RkJEMy1cXHVGRDNEXFx1RkQ1MC1cXHVGRDhGXFx1RkQ5Mi1cXHVGREM3XFx1RkRGMC1cXHVGREZCXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYyMS1cXHVGRjNBXFx1RkY0MS1cXHVGRjVBXFx1RkY2Ni1cXHVGRkJFXFx1RkZDMi1cXHVGRkM3XFx1RkZDQS1cXHVGRkNGXFx1RkZEMi1cXHVGRkQ3XFx1RkZEQS1cXHVGRkRDXXxcXHVEODAwW1xcdURDMDAtXFx1REMwQlxcdURDMEQtXFx1REMyNlxcdURDMjgtXFx1REMzQVxcdURDM0NcXHVEQzNEXFx1REMzRi1cXHVEQzREXFx1REM1MC1cXHVEQzVEXFx1REM4MC1cXHVEQ0ZBXFx1REU4MC1cXHVERTlDXFx1REVBMC1cXHVERUQwXFx1REYwMC1cXHVERjFGXFx1REYyRC1cXHVERjQwXFx1REY0Mi1cXHVERjQ5XFx1REY1MC1cXHVERjc1XFx1REY4MC1cXHVERjlEXFx1REZBMC1cXHVERkMzXFx1REZDOC1cXHVERkNGXXxcXHVEODAxW1xcdURDMDAtXFx1REM5RFxcdURDQjAtXFx1RENEM1xcdURDRDgtXFx1RENGQlxcdUREMDAtXFx1REQyN1xcdUREMzAtXFx1REQ2M1xcdURFMDAtXFx1REYzNlxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY2N118XFx1RDgwMltcXHVEQzAwLVxcdURDMDVcXHVEQzA4XFx1REMwQS1cXHVEQzM1XFx1REMzN1xcdURDMzhcXHVEQzNDXFx1REMzRi1cXHVEQzU1XFx1REM2MC1cXHVEQzc2XFx1REM4MC1cXHVEQzlFXFx1RENFMC1cXHVEQ0YyXFx1RENGNFxcdURDRjVcXHVERDAwLVxcdUREMTVcXHVERDIwLVxcdUREMzlcXHVERDgwLVxcdUREQjdcXHVEREJFXFx1RERCRlxcdURFMDBcXHVERTEwLVxcdURFMTNcXHVERTE1LVxcdURFMTdcXHVERTE5LVxcdURFMzNcXHVERTYwLVxcdURFN0NcXHVERTgwLVxcdURFOUNcXHVERUMwLVxcdURFQzdcXHVERUM5LVxcdURFRTRcXHVERjAwLVxcdURGMzVcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNzJcXHVERjgwLVxcdURGOTFdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQzQ4XFx1REM4MC1cXHVEQ0IyXFx1RENDMC1cXHVEQ0YyXXxcXHVEODA0W1xcdURDMDMtXFx1REMzN1xcdURDODMtXFx1RENBRlxcdURDRDAtXFx1RENFOFxcdUREMDMtXFx1REQyNlxcdURENTAtXFx1REQ3MlxcdURENzZcXHVERDgzLVxcdUREQjJcXHVEREMxLVxcdUREQzRcXHVERERBXFx1REREQ1xcdURFMDAtXFx1REUxMVxcdURFMTMtXFx1REUyQlxcdURFODAtXFx1REU4NlxcdURFODhcXHVERThBLVxcdURFOERcXHVERThGLVxcdURFOURcXHVERTlGLVxcdURFQThcXHVERUIwLVxcdURFREVcXHVERjA1LVxcdURGMENcXHVERjBGXFx1REYxMFxcdURGMTMtXFx1REYyOFxcdURGMkEtXFx1REYzMFxcdURGMzJcXHVERjMzXFx1REYzNS1cXHVERjM5XFx1REYzRFxcdURGNTBcXHVERjVELVxcdURGNjFdfFxcdUQ4MDVbXFx1REMwMC1cXHVEQzM0XFx1REM0Ny1cXHVEQzRBXFx1REM4MC1cXHVEQ0FGXFx1RENDNFxcdURDQzVcXHVEQ0M3XFx1REQ4MC1cXHVEREFFXFx1REREOC1cXHVERERCXFx1REUwMC1cXHVERTJGXFx1REU0NFxcdURFODAtXFx1REVBQVxcdURGMDAtXFx1REYxOV18XFx1RDgwNltcXHVEQ0EwLVxcdURDREZcXHVEQ0ZGXFx1REUwMFxcdURFMEItXFx1REUzMlxcdURFM0FcXHVERTUwXFx1REU1Qy1cXHVERTgzXFx1REU4Ni1cXHVERTg5XFx1REVDMC1cXHVERUY4XXxcXHVEODA3W1xcdURDMDAtXFx1REMwOFxcdURDMEEtXFx1REMyRVxcdURDNDBcXHVEQzcyLVxcdURDOEZcXHVERDAwLVxcdUREMDZcXHVERDA4XFx1REQwOVxcdUREMEItXFx1REQzMFxcdURENDZdfFxcdUQ4MDhbXFx1REMwMC1cXHVERjk5XXxcXHVEODA5W1xcdURDODAtXFx1REQ0M118W1xcdUQ4MENcXHVEODFDLVxcdUQ4MjBcXHVEODQwLVxcdUQ4NjhcXHVEODZBLVxcdUQ4NkNcXHVEODZGLVxcdUQ4NzJcXHVEODc0LVxcdUQ4NzldW1xcdURDMDAtXFx1REZGRl18XFx1RDgwRFtcXHVEQzAwLVxcdURDMkVdfFxcdUQ4MTFbXFx1REMwMC1cXHVERTQ2XXxcXHVEODFBW1xcdURDMDAtXFx1REUzOFxcdURFNDAtXFx1REU1RVxcdURFRDAtXFx1REVFRFxcdURGMDAtXFx1REYyRlxcdURGNDAtXFx1REY0M1xcdURGNjMtXFx1REY3N1xcdURGN0QtXFx1REY4Rl18XFx1RDgxQltcXHVERjAwLVxcdURGNDRcXHVERjUwXFx1REY5My1cXHVERjlGXFx1REZFMFxcdURGRTFdfFxcdUQ4MjFbXFx1REMwMC1cXHVERkVDXXxcXHVEODIyW1xcdURDMDAtXFx1REVGMl18XFx1RDgyQ1tcXHVEQzAwLVxcdUREMUVcXHVERDcwLVxcdURFRkJdfFxcdUQ4MkZbXFx1REMwMC1cXHVEQzZBXFx1REM3MC1cXHVEQzdDXFx1REM4MC1cXHVEQzg4XFx1REM5MC1cXHVEQzk5XXxcXHVEODM1W1xcdURDMDAtXFx1REM1NFxcdURDNTYtXFx1REM5Q1xcdURDOUVcXHVEQzlGXFx1RENBMlxcdURDQTVcXHVEQ0E2XFx1RENBOS1cXHVEQ0FDXFx1RENBRS1cXHVEQ0I5XFx1RENCQlxcdURDQkQtXFx1RENDM1xcdURDQzUtXFx1REQwNVxcdUREMDctXFx1REQwQVxcdUREMEQtXFx1REQxNFxcdUREMTYtXFx1REQxQ1xcdUREMUUtXFx1REQzOVxcdUREM0ItXFx1REQzRVxcdURENDAtXFx1REQ0NFxcdURENDZcXHVERDRBLVxcdURENTBcXHVERDUyLVxcdURFQTVcXHVERUE4LVxcdURFQzBcXHVERUMyLVxcdURFREFcXHVERURDLVxcdURFRkFcXHVERUZDLVxcdURGMTRcXHVERjE2LVxcdURGMzRcXHVERjM2LVxcdURGNEVcXHVERjUwLVxcdURGNkVcXHVERjcwLVxcdURGODhcXHVERjhBLVxcdURGQThcXHVERkFBLVxcdURGQzJcXHVERkM0LVxcdURGQ0JdfFxcdUQ4M0FbXFx1REMwMC1cXHVEQ0M0XFx1REQwMC1cXHVERDQzXXxcXHVEODNCW1xcdURFMDAtXFx1REUwM1xcdURFMDUtXFx1REUxRlxcdURFMjFcXHVERTIyXFx1REUyNFxcdURFMjdcXHVERTI5LVxcdURFMzJcXHVERTM0LVxcdURFMzdcXHVERTM5XFx1REUzQlxcdURFNDJcXHVERTQ3XFx1REU0OVxcdURFNEJcXHVERTRELVxcdURFNEZcXHVERTUxXFx1REU1MlxcdURFNTRcXHVERTU3XFx1REU1OVxcdURFNUJcXHVERTVEXFx1REU1RlxcdURFNjFcXHVERTYyXFx1REU2NFxcdURFNjctXFx1REU2QVxcdURFNkMtXFx1REU3MlxcdURFNzQtXFx1REU3N1xcdURFNzktXFx1REU3Q1xcdURFN0VcXHVERTgwLVxcdURFODlcXHVERThCLVxcdURFOUJcXHVERUExLVxcdURFQTNcXHVERUE1LVxcdURFQTlcXHVERUFCLVxcdURFQkJdfFxcdUQ4NjlbXFx1REMwMC1cXHVERUQ2XFx1REYwMC1cXHVERkZGXXxcXHVEODZEW1xcdURDMDAtXFx1REYzNFxcdURGNDAtXFx1REZGRl18XFx1RDg2RVtcXHVEQzAwLVxcdURDMURcXHVEQzIwLVxcdURGRkZdfFxcdUQ4NzNbXFx1REMwMC1cXHVERUExXFx1REVCMC1cXHVERkZGXXxcXHVEODdBW1xcdURDMDAtXFx1REZFMF18XFx1RDg3RVtcXHVEQzAwLVxcdURFMURdKSsgKChJTlNFTlNJVElWRXxTQ1JPTEwpICl7MCwyfUNVUlNPUiBcIik7IC8vbm90ZSB0aGUgdXNlIG9mIFwidW5pY29kZSBsZXR0ZXJcIiBpbiBpZGVudGlmaWVyIHJ1bGVcclxuICAgICAgICBzdGF0aWMgUmVnZXggX1RyaWdnZXJDb25kaXRpb25EZXRlY3RvciA9IG5ldyBSZWdleChAXCJeKEZPUnxBRlRFUnxJTlNURUFEIE9GKSggKElOU0VSVHxVUERBVEV8REVMRVRFKSAoLCAoSU5TRVJUfFVQREFURXxERUxFVEUpICk/KCwgKElOU0VSVHxVUERBVEV8REVMRVRFKSApPylcIik7IC8vbm90ZSB0aGUgdXNlIG9mIFwidW5pY29kZSBsZXR0ZXJcIiBpbiBpZGVudGlmaWVyIHJ1bGVcclxuXHJcbiAgICAgICAgcHVibGljIE5vZGUgUGFyc2VTUUwoSVRva2VuTGlzdCB0b2tlbkxpc3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBQYXJzZVRyZWUgc3FsVHJlZSA9IG5ldyBQYXJzZVRyZWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9ST09UKTtcclxuICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgaW50IHRva2VuQ291bnQgPSB0b2tlbkxpc3QuQ291bnQ7XHJcbiAgICAgICAgICAgIGludCB0b2tlbklEID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKHRva2VuSUQgPCB0b2tlbkNvdW50KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBJVG9rZW4gdG9rZW4gPSB0b2tlbkxpc3RbdG9rZW5JRF07XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi5UeXBlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk9wZW5QYXJlbnM6XHJcblx0XHRcdFx0XHRcdE5vZGUgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZyA9IHNxbFRyZWUuR2V0Rmlyc3ROb25XaGl0ZXNwYWNlTm9uQ29tbWVudENoaWxkRWxlbWVudChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIpO1xyXG5cdFx0XHRcdFx0XHROb2RlIGxhc3ROb25Db21tZW50UGFyZW5zU2libGluZyA9IHNxbFRyZWUuR2V0TGFzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdGJvb2wgaXNJbnNlcnRPclZhbHVlc0NsYXVzZSA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpLlN0YXJ0c1dpdGgoXCJJTlNFUlRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhUKS5Ub1VwcGVySW52YXJpYW50KCkuU3RhcnRzV2l0aChcIklOU0VSVCBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5TdGFydHNXaXRoKFwiVkFMVUVTXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BTElBUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QQVJFTlMsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BU19CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nID09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUX1BBUkVOUywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VUX09QRVJBVE9SX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVRfUEFSRU5TLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChJc0xhdGVzdFRva2VuQURETERldGFpbFZhbHVlKHNxbFRyZWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMREVUQUlMX1BBUkVOUywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9PVEhFUl9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0RFQ0xBUkVfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZyAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpLlN0YXJ0c1dpdGgoXCJPUFRJT05cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGlzSW5zZXJ0T3JWYWx1ZXNDbGF1c2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QQVJFTlMsIFwiXCIpO1xyXG5cdFx0XHRcdFx0XHRlbHNlIGlmICgobGFzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nICE9IG51bGxcclxuXHRcdFx0XHRcdFx0XHRcdFx0JiYgbGFzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BTFBIQU9QRVJBVE9SKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQmJiBsYXN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5FcXVhbHMoXCJJTlwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUywgXCJcIik7XHJcblx0XHRcdFx0XHRcdGVsc2UgaWYgKElzTGF0ZXN0VG9rZW5BTWlzY05hbWUoc3FsVHJlZSkpXHJcblx0XHRcdFx0XHRcdFx0c3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fUEFSRU5TLCBcIlwiKTtcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQ2xvc2VQYXJlbnM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2UncmUgbm90IGxpa2VseSB0byBhY3R1YWxseSBoYXZlIGEgXCJTaW5nbGVTdGF0ZW1lbnRcIiBpbiBwYXJlbnMsIGJ1dCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZGVmaW5pdGVseSB3YW50IHRoZSBzaWRlLWVmZmVjdHMgKGFsbCB0aGUgbG93ZXItbGV2ZWwgZXNjYXBlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTaW5nbGVPclBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHdoZXRoZXIgd2UgZXhwZWN0ZWQgdG8gZW5kIHRoZSBwYXJlbnMuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMREVUQUlMX1BBUkVOUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHR8fCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHR8fCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHR8fCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VYUFJFU1NJT05fUEFSRU5TKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVRfUEFSRU5TKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEpOyAvL3Vuc3BlY2lmaWVkIHBhcmVudCBub2RlLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LlBhcmVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BU19CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoNCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VYUFJFU1NJT05fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR8fCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIpOyAvL3Vuc3BlY2lmaWVkIGdyYW5kZmF0aGVyIG5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREUsIFwiKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuT3RoZXJOb2RlOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcmVwYXJlIG11bHRpLWtleXdvcmQgZGV0ZWN0aW9uIGJ5IFwicGVla2luZ1wiIHVwIHRvIDcga2V5d29yZHMgYWhlYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGlzdDxpbnQ+IHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMgPSBHZXRTaWduaWZpY2FudFRva2VuUG9zaXRpb25zKHRva2VuTGlzdCwgdG9rZW5JRCwgNyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBzaWduaWZpY2FudFRva2Vuc1N0cmluZyA9IEV4dHJhY3RUb2tlbnNTdHJpbmcodG9rZW5MaXN0LCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB3ZSdyZSBpbiBhIHBlcm1pc3Npb25zIGRldGFpbCBjbGF1c2UsIHdlIGNhbiBleHBlY3QgYWxsIHNvcnRzIG9mIHN0YXRlbWVudHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydGVycyBhbmQgc2hvdWxkIGlnbm9yZSB0aGVtIGFsbDsgdGhlIG9ubHkgcG9zc2libGUga2V5d29yZHMgdG8gZXNjYXBlIGFyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJPTlwiIGFuZCBcIlRPXCIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIk9OIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfVEFSR0VULCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVE8gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkZST00gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19SRUNJUElFTlQsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWZhdWx0IHRvIFwic29tZSBjbGFzc2lmaWNhdGlvbiBvZiBwZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ1JFQVRFIFBST0NcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDUkVBVEUgRlVOQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkNSRUFURSBUUklHR0VSIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkNSRUFURSBWSUVXIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkFMVEVSIFBST0NcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJBTFRFUiBGVU5DXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQUxURVIgVFJJR0dFUiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJBTFRFUiBWSUVXIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF9DdXJzb3JEZXRlY3Rvci5Jc01hdGNoKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfREVDTEFSQVRJT04sIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgX1RyaWdnZXJDb25kaXRpb25EZXRlY3Rvci5Jc01hdGNoKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2hvcnJpYmxlIGNvbXBsaWNhdGVkIGZvcndhcmQtc2VhcmNoLCB0byBhdm9pZCBoYXZpbmcgdG8ga2VlcCBhIGRpZmZlcmVudCBcIlRyaWdnZXIgQ29uZGl0aW9uXCIgc3RhdGUgZm9yIFVwZGF0ZSwgSW5zZXJ0IGFuZCBEZWxldGUgc3RhdGVtZW50LXN0YXJ0aW5nIGtleXdvcmRzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2ggdHJpZ2dlckNvbmRpdGlvbnMgPSBfVHJpZ2dlckNvbmRpdGlvbkRldGVjdG9yLk1hdGNoKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1RSSUdHRVJfQ09ORElUSU9OLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgdHJpZ2dlckNvbmRpdGlvblR5cGUgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01QT1VOREtFWVdPUkQsIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlyc3Qgc2V0IHRoZSBcInRyaWdnZXIgY29uZGl0aW9uIHR5cGVcIjogRk9SLCBJTlNURUFEIE9GLCBBRlRFUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nIHRyaWdnZXJDb25kaXRpb25UeXBlU2ltcGxlVGV4dCA9IHRyaWdnZXJDb25kaXRpb25zLkdyb3Vwc1sxXS5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJDb25kaXRpb25UeXBlLlNldEF0dHJpYnV0ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfU0lNUExFVEVYVCwgdHJpZ2dlckNvbmRpdGlvblR5cGVTaW1wbGVUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCB0cmlnZ2VyQ29uZGl0aW9uVHlwZU5vZGVDb3VudCA9IHRyaWdnZXJDb25kaXRpb25UeXBlU2ltcGxlVGV4dC5TcGxpdChuZXcgY2hhcltdIHsgJyAnIH0pLkxlbmd0aDsgLy90aGVyZSdzIHByb2JhYmx5IGEgYmV0dGVyIHdheSBvZiBjb3VudGluZyB3b3Jkcy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kTm9kZXNXaXRoTWFwcGluZyhzcWxUcmVlLCB0b2tlbkxpc3QuR2V0UmFuZ2VCeUluZGV4KHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnNbMF0sIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnNbdHJpZ2dlckNvbmRpdGlvblR5cGVOb2RlQ291bnQgLSAxXSksIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRyaWdnZXJDb25kaXRpb25UeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gZ2V0IHRoZSBjb3VudCBvZiBjb25kaXRpb25zIChJTlNFUlQsIFVQREFURSwgREVMRVRFKSBhbmQgYWRkIHRob3NlIHRvby4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IHRyaWdnZXJDb25kaXRpb25Ob2RlQ291bnQgPSB0cmlnZ2VyQ29uZGl0aW9ucy5Hcm91cHNbMl0uVmFsdWUuU3BsaXQobmV3IGNoYXJbXSB7ICcgJyB9KS5MZW5ndGggLSAyOyAvL3RoZXJlJ3MgcHJvYmFibHkgYSBiZXR0ZXIgd2F5IG9mIGNvdW50aW5nIHdvcmRzLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmROb2Rlc1dpdGhNYXBwaW5nKHNxbFRyZWUsIHRva2VuTGlzdC5HZXRSYW5nZUJ5SW5kZXgoc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1t0cmlnZ2VyQ29uZGl0aW9uVHlwZU5vZGVDb3VudCAtIDFdICsgMSwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1t0cmlnZ2VyQ29uZGl0aW9uVHlwZU5vZGVDb3VudCArIHRyaWdnZXJDb25kaXRpb25Ob2RlQ291bnQgLSAxXSksIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbklEID0gc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1t0cmlnZ2VyQ29uZGl0aW9uVHlwZU5vZGVDb3VudCArIHRyaWdnZXJDb25kaXRpb25Ob2RlQ291bnQgLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRk9SIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlCZXR3ZWVuQ29uZGl0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTZWxlY3Rpb25UYXJnZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlSm9pbkNvbmRpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0RFQ0xBUkFUSU9OKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX0JMT0NLLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0ZPUl9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcig0LCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0RFQ0xBUkFUSU9OKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX09QVElPTlMsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Fzc3VtZSBGT1IgY2xhdXNlIGlmIHdlJ3JlIGF0IGNsYXVzZSBsZXZlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChvdGhlcndpc2UsIGVnIGluIE9QVElNSVpFIEZPUiBVTktOT1dOLCB0aGlzIHdpbGwganVzdCBub3QgZG8gYW55dGhpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJERUNMQVJFIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ1JFQVRFIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkFMVEVSIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9PVEhFUl9CTE9DSywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiR1JBTlQgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiREVOWSBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJSRVZPS0UgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiR1JBTlQgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLkdldEZpcnN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKSA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBNVVNUIGJlIGEgXCJXSVRIIEdSQU5UIE9QVElPTlwiIG9wdGlvbi4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0RFVEFJTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJSRVRVUk5TIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUkVUVVJOUywgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJBUyBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtleXdvcmRUeXBlIG5leHRLZXl3b3JkVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGlzRGF0YVR5cGVEZWZpbml0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMuQ291bnQgPiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIEtleXdvcmRMaXN0LlRyeUdldFZhbHVlKHRva2VuTGlzdFtzaWduaWZpY2FudFRva2VuUG9zaXRpb25zWzFdXS5WYWx1ZS5Ub1VwcGVySW52YXJpYW50KCksIG91dCBuZXh0S2V5d29yZFR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRLZXl3b3JkVHlwZSA9PSBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RhdGFUeXBlRGVmaW5pdGlvbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RhdGFUeXBlRGVmaW5pdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhY3R1YWxseSBhIGRhdGEgdHlwZSBkZWNsYXJhdGlvbiAocmVkdW5kYW50IFwiQVNcIi4uLiksIHNhdmUgYXMgcmVndWxhciB0b2tlbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyB0aGUgc3RhcnQgb2YgdGhlIG9iamVjdCBjb250ZW50IGRlZmluaXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0FTX0JMT0NLLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0FTX0JMT0NLLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BTElBUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BU19CTE9DSywgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCRUdJTiBESVNUUklCVVRFRCBUUkFOU0FDVElPTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCRUdJTiBESVNUUklCVVRFRCBUUkFOIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9UUkFOU0FDVElPTiwgXCJcIiksIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQkVHSU4gVFJBTlNBQ1RJT04gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQkVHSU4gVFJBTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVHSU5fVFJBTlNBQ1RJT04sIFwiXCIpLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlNBVkUgVFJBTlNBQ1RJT04gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiU0FWRSBUUkFOIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TQVZFX1RSQU5TQUNUSU9OLCBcIlwiKSwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDT01NSVQgVFJBTlNBQ1RJT04gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ09NTUlUIFRSQU4gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ09NTUlUIFdPUksgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTiwgXCJcIiksIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ09NTUlUIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NSVRfVFJBTlNBQ1RJT04sIHRva2VuLlZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlJPTExCQUNLIFRSQU5TQUNUSU9OIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlJPTExCQUNLIFRSQU4gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiUk9MTEJBQ0sgV09SSyBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUk9MTEJBQ0tfVFJBTlNBQ1RJT04sIFwiXCIpLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlJPTExCQUNLIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ST0xMQkFDS19UUkFOU0FDVElPTiwgdG9rZW4uVmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQkVHSU4gVFJZIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIG5ld1RyeUJsb2NrID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJZX0JMT0NLLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgdHJ5Q29udGFpbmVyT3BlbiA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOLCBcIlwiLCBuZXdUcnlCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgdHJ5Q29udGFpbmVyT3BlbiwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSB0cnlNdWx0aUNvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVCwgXCJcIiwgbmV3VHJ5QmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudCh0cnlNdWx0aUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJFR0lOIENBVENIIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIG5ld0NhdGNoQmxvY2sgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVRDSF9CTE9DSywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGNhdGNoQ29udGFpbmVyT3BlbiA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOLCBcIlwiLCBuZXdDYXRjaEJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBjYXRjaENvbnRhaW5lck9wZW4sIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgY2F0Y2hNdWx0aUNvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVCwgXCJcIiwgbmV3Q2F0Y2hCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KGNhdGNoTXVsdGlDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCRUdJTiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVHSU5fRU5EX0JMT0NLLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIk1FUkdFIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BY2NvcmRpbmcgdG8gQk9MLCBNRVJHRSBpcyBhIGZ1bGx5IHJlc2VydmVkIGtleXdvcmQgZnJvbSBjb21wYXQgMTAwIG9ud2FyZHMsIGZvciB0aGUgTUVSR0Ugc3RhdGVtZW50IG9ubHkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RBUkdFVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlVTSU5HIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9UQVJHRVQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NMQVVTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVVNJTkcsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREUsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiT04gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueVNlbGVjdGlvblRhcmdldCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVVNJTkcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NMQVVTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ09ORElUSU9OLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIUNvbnRlbnRTdGFydHNXaXRoS2V5d29yZChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIFwiU0VUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0pPSU5fT05fU0VDVElPTiwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDQVNFIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9JTlBVVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIldIRU4gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZU1lcmdlQWN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0lOUFVUKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9USEVOKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9JTlBVVCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfU1RBVEVNRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMywgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfU1RBVEVNRU5UKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9XSEVOLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NPTkRJVElPTilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9XSEVOKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NPTkRJVElPTikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NMQVVTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DTEFVU0UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9XSEVOLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudFdpdGhFcnJvcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJOT0RFLCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlRIRU4gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfV0hFTilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9XSEVOKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1RIRU4sIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1dIRU4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1dIRU4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RIRU4sIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQUNUSU9OKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudFdpdGhFcnJvcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJOT0RFLCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIk9VVFBVVCBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgaXNTcHJvY0FyZ3VtZW50ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9XZSdyZSBsb29raW5nIGZvciBzcHJvYyBjYWxscyAtIHRoZXkgY2FuJ3QgYmUgbmVzdGVkIGluc2lkZSBhbnl0aGluZyBlbHNlIChhcyBmYXIgYXMgSSBrbm93KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChDb250ZW50U3RhcnRzV2l0aEtleXdvcmQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCBcIkVYRUNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgXCJFWEVDVVRFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTcHJvY0FyZ3VtZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Fsc28gcHJvYyBkZWZpbml0aW9ucyAtIGFyZ3VtZW50IGxpc3RzIHdpdGhvdXQgcGFyZW5zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Nwcm9jQXJndW1lbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNTcHJvY0FyZ3VtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlTWVyZ2VBY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiT1BUSU9OIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cIk9QVElPTlwiIGtleXdvcmQgaGVyZSBpcyBOT1QgaW5kaWNhdGl2ZSBvZiBhIG5ldyBjbGF1c2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVNZXJnZUFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkVORCBUUlkgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueVNpbmdsZU9yUGFydGlhbFN0YXRlbWVudENvbnRhaW5lcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJZX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsYXVzZS5zdGF0ZW1lbnQubXVsdGljb250YWluZXIudHJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSB0cnlCbG9jayA9IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHRyeUNvbnRhaW5lckNsb3NlID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFLCBcIlwiLCB0cnlCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHRyeUNvbnRhaW5lckNsb3NlLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gdHJ5QmxvY2suUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmRXaXRoRXJyb3IodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRU5EIENBVENIIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTaW5nbGVPclBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMywgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBVENIX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsYXVzZS5zdGF0ZW1lbnQubXVsdGljb250YWluZXIuY2F0Y2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGNhdGNoQmxvY2sgPSBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBjYXRjaENvbnRhaW5lckNsb3NlID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFLCBcIlwiLCBjYXRjaEJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgY2F0Y2hDb250YWluZXJDbG9zZSwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IGNhdGNoQmxvY2suUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmRXaXRoRXJyb3IodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRU5EIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfVEhFTilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRSwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSk7IC8vdW5uYW1lZCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfRUxTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRSwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSk7IC8vdW5uYW1lZCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0JlZ2luL0VuZCBibG9jayBoYW5kbGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55U2luZ2xlT3JQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVHSU5fRU5EX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGJlZ2luQmxvY2sgPSBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgYmVnaW5Db250YWluZXJDbG9zZSA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRSwgXCJcIiwgYmVnaW5CbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIGJlZ2luQ29udGFpbmVyQ2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBiZWdpbkJsb2NrLlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudFdpdGhFcnJvcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJHTyBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55U2luZ2xlT3JQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodG9rZW5JRCA9PSAwIHx8IElzTGluZUJyZWFraW5nV2hpdGVTcGFjZU9yQ29tbWVudCh0b2tlbkxpc3RbdG9rZW5JRCAtIDFdKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBJc0ZvbGxvd2VkQnlMaW5lQnJlYWtpbmdXaGl0ZVNwYWNlT3JTaW5nbGVMaW5lQ29tbWVudE9yRW5kKHRva2VuTGlzdCwgdG9rZW5JRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZm91bmQgYSBiYXRjaCBzZXBhcmF0b3IgLSB3ZXJlIHdlIHN1cHBvc2VkIHRvP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLkZpbmRWYWxpZEJhdGNoRW5kKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHNxbFJvb3QgPSBzcWxUcmVlLlJvb3RDb250YWluZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBiYXRjaFNlcGFyYXRvciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JBVENIX1NFUEFSQVRPUiwgXCJcIiwgc3FsUm9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIGJhdGNoU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudChzcWxSb290KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudFdpdGhFcnJvcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJFWEVDVVRFIEFTIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBleGVjdXRlQXNJbldpdGhPcHRpb25zID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChJc0xhdGVzdFRva2VuQUNvbW1hKHNxbFRyZWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICFzcWxUcmVlLkhhc05vbldoaXRlU3BhY2VOb25Db21tZW50Q29udGVudChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUFzSW5XaXRoT3B0aW9ucyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFleGVjdXRlQXNJbldpdGhPcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRVhFQyBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJFWEVDVVRFIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGV4ZWNTaG91bGRudFRyeVRvU3RhcnROZXdTdGF0ZW1lbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIFwiSU5TRVJUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIFwiSU5TRVJUIElOVE9cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZXhpc3RpbmdDbGF1c2VDb3VudCA9IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQgIT0gbnVsbCA/IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuQ291bnQ8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4oc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSkpIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdDbGF1c2VDb3VudCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjU2hvdWxkbnRUcnlUb1N0YXJ0TmV3U3RhdGVtZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4ZWNTaG91bGRudFRyeVRvU3RhcnROZXdTdGF0ZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX0pvaW5EZXRlY3Rvci5Jc01hdGNoKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgam9pblRleHQgPSBfSm9pbkRldGVjdG9yLk1hdGNoKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nKS5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCB0YXJnZXRLZXl3b3JkQ291bnQgPSBqb2luVGV4dC5TcGxpdChuZXcgY2hhcltdIHsgJyAnIH0sIFN0cmluZ1NwbGl0T3B0aW9ucy5SZW1vdmVFbXB0eUVudHJpZXMpLkxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCB0YXJnZXRLZXl3b3JkQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VULCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVU5JT04gQUxMIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VUX09QRVJBVE9SX0NMQVVTRSwgXCJcIiksIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVU5JT04gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiSU5URVJTRUNUIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkVYQ0VQVCBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHVuaW9uQ2xhdXNlID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VUX09QRVJBVE9SX0NMQVVTRSwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCB1bmlvbkNsYXVzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIldISUxFIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIG5ld1doaWxlTG9vcCA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISUxFX0xPT1AsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSB3aGlsZUNvbnRhaW5lck9wZW4gPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiwgXCJcIiwgbmV3V2hpbGVMb29wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHdoaWxlQ29udGFpbmVyT3Blbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CT09MRUFOX0VYUFJFU1NJT04sIFwiXCIsIG5ld1doaWxlTG9vcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIklGIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JRl9TVEFURU1FTlQsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQk9PTEVBTl9FWFBSRVNTSU9OKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRUxTRSBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55QmV0d2VlbkNvbmRpdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55U2VsZWN0aW9uVGFyZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUpvaW5Db25kaXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9USEVOKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDMsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1NUQVRFTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9FTFNFLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93ZSBuZWVkIHRvIHBvcCB1cCB0aGUgc2luZ2xlLXN0YXRlbWVudCBjb250YWluZXJzIHN0YWNrIHRvIHRoZSBuZXh0IFwiaWZcIiB0aGF0IGRvZXNuJ3QgaGF2ZSBhbiBcImVsc2VcIiAoaWYgYW55OyBlbHNlIGVycm9yKS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTE9DQUwgU0VBUkNIIC0gd2UncmUgbm90IGFjdHVhbGx5IGNoYW5naW5nIHRoZSBcIkN1cnJlbnRDb250YWluZXJcIiB1bnRpbCB3ZSBkZWNpZGUgdG8gc3RhcnQgYSBzdGF0ZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgY3VycmVudE5vZGUgPSBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBzdG9wU2VhcmNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghc3RvcFNlYXJjaGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKGN1cnJlbnROb2RlLCAxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSUZfU1RBVEVNRU5UKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXMgaW4gYW4gXCJJZlwiLCB0aGVuIHRoZSBcIkVsc2VcIiBtdXN0IHN0aWxsIGJlIGF2YWlsYWJsZSAtIHlheSFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBjdXJyZW50Tm9kZS5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0UsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BTZWFyY2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoY3VycmVudE5vZGUsIDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FTFNFX0NMQVVTRSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGlzIGlzIGluIGFuIFwiRWxzZVwiLCB3ZSBzaG91bGQgc2tpcCBpdHMgcGFyZW50IFwiSUZcIiBhbHRvZ2V0aGVyLCBhbmQgZ28gdG8gdGhlIG5leHQgc2luZ2xlc3RhdGVtZW50Y29udGFpbmVyIGNhbmRpZGF0ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NpbmdsZXN0YXRlbWVudGNvbnRhaW5lci5lbHNlLmlmLmNsYXVzZS5zdGF0ZW1lbnQuTkVXQ0FORElEQVRFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5QYXJlbnQuUGFyZW50LlBhcmVudC5QYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoY3VycmVudE5vZGUsIDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElMRV9MT09QKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIHRoaXMgaXMgaW4gYSBcIldoaWxlXCIsIHdlIHNob3VsZCBza2lwIHRvIHRoZSBuZXh0IHNpbmdsZXN0YXRlbWVudGNvbnRhaW5lciBjYW5kaWRhdGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaW5nbGVzdGF0ZW1lbnRjb250YWluZXIud2hpbGUuY2xhdXNlLnN0YXRlbWVudC5ORVdDQU5ESURBVEVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLlBhcmVudC5QYXJlbnQuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXNuJ3QgYSBrbm93biBzaW5nbGUtc3RhdGVtZW50IGNvbnRhaW5lciwgdGhlbiB3ZSdyZSBsb3N0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnRXaXRoRXJyb3IoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BTZWFyY2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnRXaXRoRXJyb3IoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiSU5TRVJUIElOVE8gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJOQVRJT05BTCBDSEFSQUNURVIgVkFSWUlORyBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiTkFUSU9OQUwgQ0hBUiBWQVJZSU5HIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCSU5BUlkgVkFSWUlORyBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETzogRmlndXJlIG91dCBob3cgdG8gaGFuZGxlIFwiQ29tcG91bmQgS2V5d29yZCBEYXRhdHlwZXNcIiBzbyB0aGV5IGFyZSBzdGlsbCBjb3JyZWN0bHkgaGlnaGxpZ2h0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ0hBUiBWQVJZSU5HIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDSEFSQUNURVIgVkFSWUlORyBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRE9VQkxFIFBSRUNJU0lPTiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiTkFUSU9OQUwgQ0hBUkFDVEVSIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJOQVRJT05BTCBDSEFSIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJOQVRJT05BTCBURVhUIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJJTlNFUlQgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJVTEsgSU5TRVJUIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiU0VMRUNUIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuTmV3U3RhdGVtZW50RHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgc2VsZWN0U2hvdWxkbnRUcnlUb1N0YXJ0TmV3U3RhdGVtZW50ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGZpcnN0U3RhdGVtZW50Q2xhdXNlID0gc3FsVHJlZS5HZXRGaXJzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGlzUHJlY2VkZWRCeUluc2VydFN0YXRlbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY2xhdXNlIGluIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKGNsYXVzZSwgXCJJTlNFUlRcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByZWNlZGVkQnlJbnNlcnRTdGF0ZW1lbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmVjZWRlZEJ5SW5zZXJ0U3RhdGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBleGlzdGluZ1NlbGVjdENsYXVzZUZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY2xhdXNlIGluIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChjbGF1c2UsIFwiU0VMRUNUXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nU2VsZWN0Q2xhdXNlRm91bmQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBleGlzdGluZ1ZhbHVlc0NsYXVzZUZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY2xhdXNlIGluIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChjbGF1c2UsIFwiVkFMVUVTXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVmFsdWVzQ2xhdXNlRm91bmQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBleGlzdGluZ0V4ZWNDbGF1c2VGb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChOb2RlIGNsYXVzZSBpbiBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb250ZW50U3RhcnRzV2l0aEtleXdvcmQoY2xhdXNlLCBcIkVYRUNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBDb250ZW50U3RhcnRzV2l0aEtleXdvcmQoY2xhdXNlLCBcIkVYRUNVVEVcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdFeGVjQ2xhdXNlRm91bmQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1NlbGVjdENsYXVzZUZvdW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAhZXhpc3RpbmdWYWx1ZXNDbGF1c2VGb3VuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIWV4aXN0aW5nRXhlY0NsYXVzZUZvdW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTaG91bGRudFRyeVRvU3RhcnROZXdTdGF0ZW1lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBmaXJzdEVudHJ5T2ZUaGlzQ2xhdXNlID0gc3FsVHJlZS5HZXRGaXJzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0RW50cnlPZlRoaXNDbGF1c2UgIT0gbnVsbCAmJiBmaXJzdEVudHJ5T2ZUaGlzQ2xhdXNlLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U2hvdWxkbnRUcnlUb1N0YXJ0TmV3U3RhdGVtZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdFNob3VsZG50VHJ5VG9TdGFydE5ld1N0YXRlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVVBEQVRFIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuTmV3U3RhdGVtZW50RHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX09QVElPTlMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlRPIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1RBUkdFVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1JFQ0lQSUVOVCwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSSBkb24ndCBjdXJyZW50bHkga25vdyB3aGV0aGVyIHRoZXJlIGlzIGFueSBvdGhlciBwbGFjZSB3aGVyZSBcIlRPXCIgY2FuIGJlIHVzZWQgaW4gVC1TUUwuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBsb29rIGludG8gdGhhdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtPiBmb3Igbm93LCB3ZSdsbCBqdXN0IHNhdmUgYXMgYSByYW5kb20ga2V5d29yZCB3aXRob3V0IHJhaXNpbmcgYW4gZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkZST00gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfVEFSR0VUKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5ULCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VULCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ0FTQ0FERSBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQsIFwiXCIsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRSwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlNFVCBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgZmlyc3ROb25Db21tZW50U2libGluZzIgPSBzcWxUcmVlLkdldEZpcnN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5vbkNvbW1lbnRTaWJsaW5nMiAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGZpcnN0Tm9uQ29tbWVudFNpYmxpbmcyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGZpcnN0Tm9uQ29tbWVudFNpYmxpbmcyLlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuU3RhcnRzV2l0aChcIlVQREFURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJFVFdFRU4gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0NPTkRJVElPTiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9MT1dFUkJPVU5ELCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQU5EIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0xPV0VSQk9VTkQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fQ09ORElUSU9OKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0UsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX1VQUEVSQk9VTkQsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55QmV0d2VlbkNvbmRpdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BTkRfT1BFUkFUT1IsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiT1IgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PUl9PUEVSQVRPUiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJXSVRIIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuTmV3U3RhdGVtZW50RHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAhc3FsVHJlZS5IYXNOb25XaGl0ZVNwYWNlTm9uQ29tbWVudENvbnRlbnQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0UsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FMSUFTLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1JFQ0lQSUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRSwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfT1RIRVJfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRSwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW5MaXN0LkNvdW50ID4gdG9rZW5JRCArIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRva2VuTGlzdFt0b2tlbklEICsgMV0uVHlwZSA9PSBTcWxUb2tlblR5cGUuQ29sb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICEodG9rZW5MaXN0LkNvdW50ID4gdG9rZW5JRCArIDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiB0b2tlbkxpc3RbdG9rZW5JRCArIDJdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLkNvbG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0xBQkVMLCB0b2tlbi5WYWx1ZSArIHRva2VuTGlzdFt0b2tlbklEICsgMV0uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5JRCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9taXNjZWxsYW5lb3VzIHNpbmdsZS13b3JkIHRva2Vucywgd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgc3RhdGVtZW50IHN0YXJ0ZXJzIGFuZC9vciBjbGF1c2Ugc3RhcnRlcnNcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGZvciBzdGF0ZW1lbnRzIHN0YXJ0aW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNTdGF0ZW1lbnRTdGFydGVyKHRva2VuKSB8fCBzcWxUcmVlLk5ld1N0YXRlbWVudER1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGZvciBzdGF0ZW1lbnRzIHN0YXJ0aW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNDbGF1c2VTdGFydGVyKHRva2VuKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgbmV3Tm9kZU5hbWUgPSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJOT0RFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgS2V5d29yZFR5cGUgbWF0Y2hlZEtleXdvcmRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEtleXdvcmRMaXN0LlRyeUdldFZhbHVlKHRva2VuLlZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKSwgb3V0IG1hdGNoZWRLZXl3b3JkVHlwZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaGVkS2V5d29yZFR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGVOYW1lID0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FMUEhBT1BFUkFUT1I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlTmFtZSA9IFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9LRVlXT1JEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZU5hbWUgPSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfREFUQVRZUEVfS0VZV09SRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55U2VsZWN0aW9uVGFyZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlTmFtZSA9IFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJVbnJlY29nbml6ZWQgS2V5d29yZCBUeXBlIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChuZXdOb2RlTmFtZSwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5TZW1pY29sb246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTUlDT0xPTiwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk5ld1N0YXRlbWVudER1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5Db2xvbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuTGlzdC5Db3VudCA+IHRva2VuSUQgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiB0b2tlbkxpc3RbdG9rZW5JRCArIDFdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLkNvbG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NDT1BFUkVTT0xVVElPTk9QRVJBVE9SLCB0b2tlbi5WYWx1ZSArIHRva2VuTGlzdFt0b2tlbklEICsgMV0uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5JRCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuTGlzdC5Db3VudCA+IHRva2VuSUQgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiB0b2tlbkxpc3RbdG9rZW5JRCArIDFdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk90aGVyTm9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RoaXMgU0hPVUxEIG5ldmVyIGhhcHBlbiBpbiB2YWxpZCBULVNRTCwgYnV0IGNhbiBoYXBwZW4gaW4gREIyIG9yIE5leHVzREIgb3IgUG9zdGdyZVNRTCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvZGUgKGhvc3QgdmFyaWFibGVzKSAtIHNvIGJlIG5pY2UgYW5kIGhhbmRsZSBpdCBhbnl3YXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREUsIHRva2VuLlZhbHVlICsgdG9rZW5MaXN0W3Rva2VuSUQgKyAxXS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbklEKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk9QRVJBVE9SLCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkNvbW1hOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib29sIGlzQ1RFU3BsaXR0ZXIgPSAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChHZXRFcXVpdmFsZW50U3FsTm9kZU5hbWUodG9rZW4uVHlwZSksIHRva2VuLlZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NURVNwbGl0dGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FMSUFTLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuRXF1YWxzU2lnbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVFVQUxTU0lHTiwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9ERUNMQVJFX0JMT0NLKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5NdWx0aUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50Q1N0eWxlOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLldoaXRlU3BhY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIGluIHN0YXRlbWVudCByYXRoZXIgdGhhbiBjbGF1c2UgaWYgdGhlcmUgYXJlIG5vIHNpYmxpbmdzIHlldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkFueTxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPihzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuQ2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50QXNQcmlvclNpYmxpbmcoR2V0RXF1aXZhbGVudFNxbE5vZGVOYW1lKHRva2VuLlR5cGUpLCB0b2tlbi5WYWx1ZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChHZXRFcXVpdmFsZW50U3FsTm9kZU5hbWUodG9rZW4uVHlwZSksIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkJyYWNrZXRRdW90ZWROYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkFzdGVyaXNrOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlBlcmlvZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk5hdGlvbmFsU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5RdW90ZWRTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkJpbmFyeVZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk1vbmV0YXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuUHNldWRvTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChHZXRFcXVpdmFsZW50U3FsTm9kZU5hbWUodG9rZW4uVHlwZSksIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucmVjb2duaXplZCBlbGVtZW50IGVuY291bnRlcmVkIVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0b2tlbklEKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0b2tlbkxpc3QuSGFzVW5maW5pc2hlZFRva2VuKVxyXG4gICAgICAgICAgICAgICAgc3FsVHJlZS5TZXRFcnJvcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzcWxUcmVlLkZpbmRWYWxpZEJhdGNoRW5kKCkpXHJcbiAgICAgICAgICAgICAgICBzcWxUcmVlLlNldEVycm9yKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc3FsVHJlZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVE9ETzogbW92ZSBpbnRvIHBhcnNlIHRyZWVcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChOb2RlIHByb3ZpZGVkQ29udGFpbmVyLCBzdHJpbmcgY29udGVudFRvTWF0Y2gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyID0gKChQYXJzZVRyZWUpcHJvdmlkZWRDb250YWluZXIuUm9vdENvbnRhaW5lcigpKS5HZXRGaXJzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KHByb3ZpZGVkQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgYm9vbCB0YXJnZXRGb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzdHJpbmcga2V5d29yZFVwcGVyVmFsdWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyICE9IG51bGxcclxuICAgICAgICAgICAgICAgICYmIGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICAmJiBmaXJzdEVudHJ5T2ZQcm92aWRlZENvbnRhaW5lci5UZXh0VmFsdWUgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAga2V5d29yZFVwcGVyVmFsdWUgPSBmaXJzdEVudHJ5T2ZQcm92aWRlZENvbnRhaW5lci5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyICE9IG51bGxcclxuICAgICAgICAgICAgICAgICYmIGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01QT1VOREtFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBrZXl3b3JkVXBwZXJWYWx1ZSA9IGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyLkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhUKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZXl3b3JkVXBwZXJWYWx1ZSAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGb3VuZCA9IGtleXdvcmRVcHBlclZhbHVlLkVxdWFscyhjb250ZW50VG9NYXRjaCkgfHwga2V5d29yZFVwcGVyVmFsdWUuU3RhcnRzV2l0aChjb250ZW50VG9NYXRjaCArIFwiIFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vaWYgY29udGVudFRvTWF0Y2ggd2FzIHBhc3NlZCBpbiBhcyBudWxsLCBtZWFucyB3ZSB3ZXJlIGxvb2tpbmcgZm9yIGEgTk9OLWtleXdvcmQuXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGb3VuZCA9IGNvbnRlbnRUb01hdGNoID09IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRGb3VuZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBQcm9jZXNzQ29tcG91bmRLZXl3b3JkV2l0aEVycm9yKElUb2tlbkxpc3QgdG9rZW5MaXN0LCBQYXJzZVRyZWUgc3FsVHJlZSwgTm9kZSBjdXJyZW50Q29udGFpbmVyRWxlbWVudCwgcmVmIGludCB0b2tlbklELCBMaXN0PGludD4gc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgaW50IGtleXdvcmRDb3VudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBjdXJyZW50Q29udGFpbmVyRWxlbWVudCwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIGtleXdvcmRDb3VudCk7XHJcbiAgICAgICAgICAgIHNxbFRyZWUuU2V0RXJyb3IoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKElUb2tlbkxpc3QgdG9rZW5MaXN0LCBQYXJzZVRyZWUgc3FsVHJlZSwgTm9kZSB0YXJnZXRDb250YWluZXIsIHJlZiBpbnQgdG9rZW5JRCwgTGlzdDxpbnQ+IHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIGludCBrZXl3b3JkQ291bnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIGNvbXBvdW5kS2V5d29yZCA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRCwgXCJcIiwgdGFyZ2V0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgc3RyaW5nIHRhcmdldFRleHQgPSBFeHRyYWN0VG9rZW5zU3RyaW5nKHRva2VuTGlzdCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucy5HZXRSYW5nZSgwLCBrZXl3b3JkQ291bnQpKS5UcmltRW5kKCk7XHJcbiAgICAgICAgICAgIGNvbXBvdW5kS2V5d29yZC5TZXRBdHRyaWJ1dGUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQsIHRhcmdldFRleHQpO1xyXG4gICAgICAgICAgICBBcHBlbmROb2Rlc1dpdGhNYXBwaW5nKHNxbFRyZWUsIHRva2VuTGlzdC5HZXRSYW5nZUJ5SW5kZXgoc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1swXSwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1trZXl3b3JkQ291bnQgLSAxXSksIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIGNvbXBvdW5kS2V5d29yZCk7XHJcbiAgICAgICAgICAgIHRva2VuSUQgPSBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zW2tleXdvcmRDb3VudCAtIDFdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIEFwcGVuZE5vZGVzV2l0aE1hcHBpbmcoUGFyc2VUcmVlIHNxbFRyZWUsIElFbnVtZXJhYmxlPElUb2tlbj4gdG9rZW5zLCBzdHJpbmcgb3RoZXJUb2tlbk1hcHBpbmdOYW1lLCBOb2RlIHRhcmdldENvbnRhaW5lcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcmVhY2ggKHZhciB0b2tlbiBpbiB0b2tlbnMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyBlbGVtZW50TmFtZTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5UeXBlID09IFNxbFRva2VuVHlwZS5PdGhlck5vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE5hbWUgPSBvdGhlclRva2VuTWFwcGluZ05hbWU7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE5hbWUgPSBHZXRFcXVpdmFsZW50U3FsTm9kZU5hbWUodG9rZW4uVHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChlbGVtZW50TmFtZSwgdG9rZW4uVmFsdWUsIHRhcmdldENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIEV4dHJhY3RUb2tlbnNTdHJpbmcoSVRva2VuTGlzdCB0b2tlbkxpc3QsIElMaXN0PGludD4gc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIga2V5d29yZFNCID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcclxuICAgICAgICAgICAgZm9yZWFjaCAoaW50IHRva2VuUG9zIGluIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vZ3JyLCB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2FudC5cclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbkxpc3RbdG9rZW5Qb3NdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLkNvbW1hKVxyXG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmRTQi5BcHBlbmQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmRTQi5BcHBlbmQodG9rZW5MaXN0W3Rva2VuUG9zXS5WYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkpO1xyXG4gICAgICAgICAgICAgICAga2V5d29yZFNCLkFwcGVuZChcIiBcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGtleXdvcmRTQi5Ub1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgR2V0RXF1aXZhbGVudFNxbE5vZGVOYW1lKFNxbFRva2VuVHlwZSB0b2tlblR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuVHlwZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuV2hpdGVTcGFjZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0U7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50Q1N0eWxlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FX0NTVFlMRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX01VTFRJTElORTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkJyYWNrZXRRdW90ZWROYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQlJBQ0tFVF9RVU9URURfTkFNRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkFzdGVyaXNrOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQVNURVJJU0s7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5FcXVhbHNTaWduOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVFVQUxTU0lHTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkNvbW1hOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUE7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5QZXJpb2Q6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJJT0Q7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5OYXRpb25hbFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05TVFJJTkc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5TdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TVFJJTkc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5RdW90ZWRTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9RVU9URURfU1RSSU5HO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuT3RoZXJPcGVyYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVST1BFUkFUT1I7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5OdW1iZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OVU1CRVJfVkFMVUU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5Nb25ldGFyeVZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTU9ORVRBUllfVkFMVUU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5CaW5hcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JJTkFSWV9WQUxVRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlBzZXVkb05hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QU0VVRE9OQU1FO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiTWFwcGluZyBub3QgZm91bmQgZm9yIHByb3ZpZGVkIFRva2VuIFR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIEdldEtleXdvcmRNYXRjaFBocmFzZShJVG9rZW5MaXN0IHRva2VuTGlzdCwgaW50IHRva2VuSUQsIHJlZiBMaXN0PHN0cmluZz4gcmF3S2V5d29yZFBhcnRzLCByZWYgTGlzdDxpbnQ+IHRva2VuQ291bnRzLCByZWYgTGlzdDxMaXN0PElUb2tlbj4+IG92ZXJmbG93Tm9kZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdHJpbmcgcGhyYXNlID0gXCJcIjtcclxuICAgICAgICAgICAgaW50IHBocmFzZUNvbXBvbmVudHNGb3VuZCA9IDA7XHJcbiAgICAgICAgICAgIHJhd0tleXdvcmRQYXJ0cyA9IG5ldyBMaXN0PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgb3ZlcmZsb3dOb2RlcyA9IG5ldyBMaXN0PExpc3Q8SVRva2VuPj4oKTtcclxuICAgICAgICAgICAgdG9rZW5Db3VudHMgPSBuZXcgTGlzdDxpbnQ+KCk7XHJcbiAgICAgICAgICAgIHN0cmluZyBwcmVjZWRpbmdXaGl0ZXNwYWNlID0gXCJcIjtcclxuICAgICAgICAgICAgaW50IG9yaWdpbmFsVG9rZW5JRCA9IHRva2VuSUQ7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAodG9rZW5JRCA8IHRva2VuTGlzdC5Db3VudCAmJiBwaHJhc2VDb21wb25lbnRzRm91bmQgPCA3KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk90aGVyTm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5CcmFja2V0UXVvdGVkTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5Db21tYVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwaHJhc2UgKz0gdG9rZW5MaXN0W3Rva2VuSURdLlZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKSArIFwiIFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBocmFzZUNvbXBvbmVudHNGb3VuZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhd0tleXdvcmRQYXJ0cy5BZGQocHJlY2VkaW5nV2hpdGVzcGFjZSArIHRva2VuTGlzdFt0b2tlbklEXS5WYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuSUQrKztcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbkNvdW50cy5BZGQodG9rZW5JRCAtIG9yaWdpbmFsVG9rZW5JRCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZm91bmQgYSBwb3NzaWJsZSBwaHJhc2UgY29tcG9uZW50IC0gc2tpcCBwYXN0IGFueSB1cGNvbWluZyB3aGl0ZXNwYWNlIG9yIGNvbW1lbnRzLCBrZWVwaW5nIHRyYWNrLlxyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93Tm9kZXMuQWRkKG5ldyBMaXN0PElUb2tlbj4oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nV2hpdGVzcGFjZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRva2VuSUQgPCB0b2tlbkxpc3QuQ291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5NdWx0aUxpbmVDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuV2hpdGVTcGFjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ1doaXRlc3BhY2UgKz0gdG9rZW5MaXN0W3Rva2VuSURdLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd05vZGVzW3BocmFzZUNvbXBvbmVudHNGb3VuZC0xXS5BZGQodG9rZW5MaXN0W3Rva2VuSURdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSUQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy93ZSdyZSBub3QgaW50ZXJlc3RlZCBpbiBhbnkgb3RoZXIgbm9kZSB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGhyYXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBMaXN0PGludD4gR2V0U2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucyhJVG9rZW5MaXN0IHRva2VuTGlzdCwgaW50IHRva2VuSUQsIGludCBzZWFyY2hEaXN0YW5jZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIExpc3Q8aW50PiBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zID0gbmV3IExpc3Q8aW50PigpO1xyXG4gICAgICAgICAgICBpbnQgb3JpZ2luYWxUb2tlbklEID0gdG9rZW5JRDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbklEIDwgdG9rZW5MaXN0LkNvdW50ICYmIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMuQ291bnQgPCBzZWFyY2hEaXN0YW5jZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5PdGhlck5vZGVcclxuICAgICAgICAgICAgICAgICAgICB8fCB0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuQnJhY2tldFF1b3RlZE5hbWVcclxuICAgICAgICAgICAgICAgICAgICB8fCB0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuQ29tbWFcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucy5BZGQodG9rZW5JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5JRCsrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2ZvdW5kIGEgcG9zc2libGUgcGhyYXNlIGNvbXBvbmVudCAtIHNraXAgcGFzdCBhbnkgdXBjb21pbmcgd2hpdGVzcGFjZSBvciBjb21tZW50cywga2VlcGluZyB0cmFjay5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG9rZW5JRCA8IHRva2VuTGlzdC5Db3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAodG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLldoaXRlU3BhY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5JRCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAvL3dlJ3JlIG5vdCBpbnRlcmVzdGVkIGluIGFueSBvdGhlciBub2RlIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBOb2RlIFByb2Nlc3NDb21wb3VuZEtleXdvcmQoUGFyc2VUcmVlIHNxbFRyZWUsIHN0cmluZyBuZXdFbGVtZW50TmFtZSwgcmVmIGludCB0b2tlbklELCBOb2RlIGN1cnJlbnRDb250YWluZXJFbGVtZW50LCBpbnQgY29tcG91bmRLZXl3b3JkQ291bnQsIExpc3Q8aW50PiBjb21wb3VuZEtleXdvcmRUb2tlbkNvdW50cywgTGlzdDxzdHJpbmc+IGNvbXBvdW5kS2V5d29yZFJhd1N0cmluZ3MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIG5ld0VsZW1lbnQgPSBOb2RlRmFjdG9yeS5DcmVhdGVOb2RlKG5ld0VsZW1lbnROYW1lLCBHZXRDb21wb3VuZEtleXdvcmQocmVmIHRva2VuSUQsIGNvbXBvdW5kS2V5d29yZENvdW50LCBjb21wb3VuZEtleXdvcmRUb2tlbkNvdW50cywgY29tcG91bmRLZXl3b3JkUmF3U3RyaW5ncykpO1xyXG4gICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuQWRkQ2hpbGQobmV3RWxlbWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgR2V0Q29tcG91bmRLZXl3b3JkKHJlZiBpbnQgdG9rZW5JRCwgaW50IGNvbXBvdW5kS2V5d29yZENvdW50LCBMaXN0PGludD4gY29tcG91bmRLZXl3b3JkVG9rZW5Db3VudHMsIExpc3Q8c3RyaW5nPiBjb21wb3VuZEtleXdvcmRSYXdTdHJpbmdzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdG9rZW5JRCArPSBjb21wb3VuZEtleXdvcmRUb2tlbkNvdW50c1tjb21wb3VuZEtleXdvcmRDb3VudCAtIDFdIC0gMTtcclxuICAgICAgICAgICAgc3RyaW5nIG91dFN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY29tcG91bmRLZXl3b3JkQ291bnQ7IGkrKylcclxuICAgICAgICAgICAgICAgIG91dFN0cmluZyArPSBjb21wb3VuZEtleXdvcmRSYXdTdHJpbmdzW2ldO1xyXG4gICAgICAgICAgICByZXR1cm4gb3V0U3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYm9vbCBJc1N0YXRlbWVudFN0YXJ0ZXIoSVRva2VuIHRva2VuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9MaXN0IGNyZWF0ZWQgZnJvbSBleHBlcmllbmNlLCBhbmQgYXVnbWVudGVkIHdpdGggaW5kaXZpZHVhbCBzZWN0aW9ucyBvZiBNU0ROOlxyXG4gICAgICAgICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvZmY4NDg3OTkuYXNweFxyXG4gICAgICAgICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvZmY4NDg3MjcuYXNweFxyXG4gICAgICAgICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXMxNzQyOTAuYXNweFxyXG4gICAgICAgICAgICAvLyBldGMuLi5cclxuICAgICAgICAgICAgc3RyaW5nIHVwcGVyY2FzZVZhbHVlID0gdG9rZW4uVmFsdWUuVG9VcHBlckludmFyaWFudCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gKHRva2VuLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk90aGVyTm9kZVxyXG4gICAgICAgICAgICAgICAgJiYgKHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkFMVEVSXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiQkFDS1VQXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiQlJFQUtcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJDTE9TRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkNIRUNLUE9JTlRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJDT01NSVRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJDT05USU5VRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkNSRUFURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkRCQ0NcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJERUFMTE9DQVRFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiREVMRVRFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiREVDTEFSRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkRFTllcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJEUk9QXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiRVhFQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkVYRUNVVEVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJGRVRDSFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkdPVE9cIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJHUkFOVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIklGXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiSU5TRVJUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiS0lMTFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIk1FUkdFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiT1BFTlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlBSSU5UXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUkFJU0VSUk9SXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUkVDT05GSUdVUkVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSRVNUT1JFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUkVUVVJOXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUkVWRVJUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUkVWT0tFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiU0VMRUNUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiU0VUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiU0VUVVNFUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlNIVVRET1dOXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiVFJVTkNBVEVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJVUERBVEVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJVU0VcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJXQUlURk9SXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiV0hJTEVcIilcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYm9vbCBJc0NsYXVzZVN0YXJ0ZXIoSVRva2VuIHRva2VuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9Ob3RlOiBzb21lIGNsYXVzZSBzdGFydGVycyBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5OiBKb2lucywgUkVUVVJOUyBjbGF1c2VzLCBldGMuXHJcbiAgICAgICAgICAgIHN0cmluZyB1cHBlcmNhc2VWYWx1ZSA9IHRva2VuLlZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuICh0b2tlbi5UeXBlID09IFNxbFRva2VuVHlwZS5PdGhlck5vZGVcclxuICAgICAgICAgICAgICAgICYmICh1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJERUxFVEVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJFWENFUFRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJGT1JcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJGUk9NXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiR1JPVVBcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJIQVZJTkdcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJJTk5FUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIklOVEVSU0VDVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIklOVE9cIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJJTlNFUlRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJNRVJHRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIk9SREVSXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiT1VUUFVUXCIpIC8vdGhpcyBpcyBjb21wbGljYXRlZC4uLiBpbiBzcHJvY3Mgb3V0cHV0IG1lYW5zIHNvbWV0aGluZyBlbHNlIVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlBJVk9UXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUkVUVVJOU1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlNFTEVDVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlVOSU9OXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiVU5QSVZPVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlVQREFURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlVTSU5HXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiVkFMVUVTXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiV0hFUkVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJXSVRIXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBJc0xhdGVzdFRva2VuQURETERldGFpbFZhbHVlKFBhcnNlVHJlZSBzcWxUcmVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGxhdGVzdENvbnRlbnROb2RlID0gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5MYXN0T3JEZWZhdWx0PGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGU+KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5DaGlsZHJlbkV4Y2x1ZGluZ05hbWVzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfTk9OQ09OVEVOVCkpO1xyXG4gICAgICAgICAgICBpZiAobGF0ZXN0Q29udGVudE5vZGUgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgJiYgKGxhdGVzdENvbnRlbnROb2RlLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgbGF0ZXN0Q29udGVudE5vZGUuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RBVEFUWVBFX0tFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgbGF0ZXN0Q29udGVudE5vZGUuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgdXBwZXJjYXNlVGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF0ZXN0Q29udGVudE5vZGUuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRCkpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJjYXNlVGV4dCA9IGxhdGVzdENvbnRlbnROb2RlLkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhUKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB1cHBlcmNhc2VUZXh0ID0gbGF0ZXN0Q29udGVudE5vZGUuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiTlZBUkNIQVJcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIlZBUkNIQVJcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIkRFQ0lNQUxcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIkRFQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiTlVNRVJJQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiVkFSQklOQVJZXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJERUZBVUxUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJJREVOVElUWVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiWE1MXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FbmRzV2l0aChcIlZBUllJTkdcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVuZHNXaXRoKFwiQ0hBUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRW5kc1dpdGgoXCJDSEFSQUNURVJcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIkZMT0FUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJEQVRFVElNRU9GRlNFVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiREFURVRJTUUyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJUSU1FXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGJvb2wgSXNMYXRlc3RUb2tlbkFDb21tYShQYXJzZVRyZWUgc3FsVHJlZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBsYXRlc3RDb250ZW50ID0gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5MYXN0T3JEZWZhdWx0PGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGU+KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5DaGlsZHJlbkV4Y2x1ZGluZ05hbWVzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfTk9OQ09OVEVOVCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGF0ZXN0Q29udGVudCAhPSBudWxsICYmIGxhdGVzdENvbnRlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1BKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBJc0xhdGVzdFRva2VuQU1pc2NOYW1lKFBhcnNlVHJlZSBzcWxUcmVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGxhdGVzdENvbnRlbnQgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3RPckRlZmF1bHQ8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4oc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLkNoaWxkcmVuRXhjbHVkaW5nTmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5UKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobGF0ZXN0Q29udGVudCAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgdGVzdFZhbHVlID0gbGF0ZXN0Q29udGVudC5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsYXRlc3RDb250ZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CUkFDS0VUX1FVT1RFRF9OQU1FKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGxhdGVzdENvbnRlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbGF0ZXN0Q29udGVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fS0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAhKHRlc3RWYWx1ZS5FcXVhbHMoXCJBTkRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJPUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIk5PVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkJFVFdFRU5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJMSUtFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiQ09OVEFJTlNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJFWElTVFNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJGUkVFVEVYVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIklOXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiQUxMXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiU09NRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkFOWVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkZST01cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJKT0lOXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRW5kc1dpdGgoXCIgSk9JTlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIlVOSU9OXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiVU5JT04gQUxMXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiVVNJTkdcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJBU1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVuZHNXaXRoKFwiIEFQUExZXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYm9vbCBJc0xpbmVCcmVha2luZ1doaXRlU3BhY2VPckNvbW1lbnQoSVRva2VuIHRva2VuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0b2tlbi5UeXBlID09IFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgUmVnZXguSXNNYXRjaCh0b2tlbi5WYWx1ZSwgQFwiKFxccnxcXG4pK1wiKSlcclxuICAgICAgICAgICAgICAgIHx8IHRva2VuLlR5cGUgPT0gU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBib29sIElzRm9sbG93ZWRCeUxpbmVCcmVha2luZ1doaXRlU3BhY2VPclNpbmdsZUxpbmVDb21tZW50T3JFbmQoSVRva2VuTGlzdCB0b2tlbkxpc3QsIGludCB0b2tlbklEKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW50IGN1cnJUb2tlbklEID0gdG9rZW5JRCArIDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbkxpc3QuQ291bnQgPj0gY3VyclRva2VuSUQgKyAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5MaXN0W2N1cnJUb2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuTGlzdFtjdXJyVG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuV2hpdGVTcGFjZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUmVnZXguSXNNYXRjaCh0b2tlbkxpc3RbY3VyclRva2VuSURdLlZhbHVlLCBAXCIoXFxyfFxcbikrXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJUb2tlbklEKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBJbml0aWFsaXplS2V5d29yZExpc3QoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9MaXN0IG9yaWdpbmFsbHkgY29waWVkIGZyb20gU2lkZSBieSBTaWRlIFNRTCBDb21wYXJlciBwcm9qZWN0IGZyb20gQ29kZVByb2plY3Q6XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuY29kZXByb2plY3QuY29tL0tCL2RhdGFiYXNlL1NpZGVCeVNpZGVTUUxDb21wYXJlci5hc3B4XHJcbiAgICAgICAgICAgIC8vIEFkZGVkIHNvbWUgZW50cmllcyB0aGF0IGFyZSBub3Qgc3RyaWN0bHkgc3BlYWtpbmcga2V5d29yZHMsIHN1Y2ggYXMgXHJcbiAgICAgICAgICAgIC8vIGN1cnNvciBvcHRpb25zIFwiUkVBRF9PTkxZXCIsIFwiRkFTVF9GT1JXQVJEXCIsIGV0Yy5cclxuICAgICAgICAgICAgLy8gYWxzbyBhZGRlZCBudW1lcm91cyBtaXNzaW5nIGVudHJpZXMsIHN1Y2ggYXMgXCJYbWxcIiwgZXRjXHJcbiAgICAgICAgICAgIC8vIENvdWxkL1Nob3VsZCBjaGVjayBhZ2FpbnN0IE1TRE4gUmVmOiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXMxODk4MjIuYXNweFxyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdCA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgS2V5d29yZFR5cGU+KCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAQ09OTkVDVElPTlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBDUFVfQlVTWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQENVUlNPUl9ST1dTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAREFURUZJUlNUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAREJUU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQEVSUk9SXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBARkVUQ0hfU1RBVFVTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBASURFTlRJVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBJRExFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBASU9fQlVTWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQExBTkdJRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQExBTkdVQUdFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBATE9DS19USU1FT1VUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBATUFYX0NPTk5FQ1RJT05TXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBATUFYX1BSRUNJU0lPTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQE5FU1RMRVZFTFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQE9QVElPTlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBQQUNLRVRfRVJST1JTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAUEFDS19SRUNFSVZFRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFBBQ0tfU0VOVFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFBST0NJRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFJFTVNFUlZFUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFJPV0NPVU5UXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAU0VSVkVSTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFNFUlZJQ0VOQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAU1BJRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFRFWFRTSVpFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVElNRVRJQ0tTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVE9UQUxfRVJST1JTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVE9UQUxfUkVBRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFRPVEFMX1dSSVRFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVFJBTkNPVU5UXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVkVSU0lPTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBQlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQUNPU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBQ1RJVkFUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFERFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTExcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQUxURVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5EXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFOU0lfREVGQVVMVFNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5TSV9OVUxMU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTlNJX05VTExfREZMVF9PRkZcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5TSV9OVUxMX0RGTFRfT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5TSV9QQURESU5HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFOU0lfV0FSTklOR1NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5ZXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFQUF9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFSSVRIQUJPUlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVJJVEhJR05PUkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVNDXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFTQ0lJXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFTSU5cIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVRBTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBVE4yXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFVVEhPUklaQVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVZHXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJBQ0tVUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJCRUdJTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJCRVRXRUVOXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJJR0lOVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJCSU5BUllcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQklUXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJSRUFLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJST1dTRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJCVUxLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNBTExFUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDQVNDQURFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNBU0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0FTVFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDQVRBTE9HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNFSUxJTkdcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hBUlwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEFSQUNURVJcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hBUklOREVYXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLQUxMT0NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tDQVRBTE9HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLQ09OU1RSQUlOVFNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tEQlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEVDS0ZJTEVHUk9VUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEVDS0lERU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLUE9JTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tTVU1cIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tTVU1fQUdHXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLVEFCTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0xFQU5UQUJMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDTE9TRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDTFVTVEVSRURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09BTEVTQ0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09MTEFUSU9OUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09MTEVDVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0xVTU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09MVU1OUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09MX0xFTkdUSFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0xfTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT01NSVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09NTUlUVEVEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTVBVVEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OQ0FUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTkNBVF9OVUxMX1lJRUxEU19OVUxMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTkNVUlJFTkNZVklPTEFUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTkZJUk1cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OU1RSQUlOVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT05UQUlOU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT05UQUlOU1RBQkxFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTlRJTlVFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTlRST0xcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OVFJPTFJPV1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT05WRVJUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT1RcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09VTlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09VTlRfQklHXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNSRUFURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDUk9TU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDVVJSRU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNVUlJFTlRfREFURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDVVJSRU5UX1RJTUVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ1VSUkVOVF9USU1FU1RBTVBcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ1VSUkVOVF9VU0VSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNVUlNPUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDVVJTT1JfQ0xPU0VfT05fQ09NTUlUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNVUlNPUl9TVEFUVVNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFUQUJBU0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFUQUJBU0VQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRBQkFTRVBST1BFUlRZRVhcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFUQUxFTkdUSFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRFQUREXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVESUZGXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVGSVJTVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRFRk9STUFUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVOQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURVBBUlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURVRJTUVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURVRJTUUyXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVUSU1FT0ZGU0VUXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQkNDXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRCUkVJTkRFWFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQlJFUEFJUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQl9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQl9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFQURMT0NLX1BSSU9SSVRZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFQUxMT0NBVEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVDXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFQ0lNQUxcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVDTEFSRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERUZBVUxUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFRklOSVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVHUkVFU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERUxBWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERUxFVEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVOWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERVNDXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRJRkZFUkVOQ0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRElTQUJMRV9ERUZfQ05TVF9DSEtcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRElTS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJESVNUSU5DVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJESVNUUklCVVRFRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJET1VCTEVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRFJPUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEUk9QQ0xFQU5CVUZGRVJTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRVTU1ZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRVTVBcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRFlOQU1JQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFTFNFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVOQ1JZUFRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVJSTFZMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVSUk9SRVhJVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFU0NBUEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVhDRVBUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVYRUNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVhFQ1VURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFWElTVFNcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVhJVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFWFBcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVhQQU5EXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVYVEVSTkFMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZBU1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRkFTVF9GT1JXQVJEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZBU1RGSVJTVFJPV1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGRVRDSFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSUxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTEVHUk9VUFBST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTEVHUk9VUF9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSUxFR1JPVVBfTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSUxFUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRklMRV9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSUxFX0lERVhcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRklMRV9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTExGQUNUT1JcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRklQU19GTEFHR0VSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZMT0FUXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZMT09SXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZMT1BQWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGTVRPTkxZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZPUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGT1JDRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGT1JDRURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRk9SQ0VQTEFOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZPUkVJR05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRk9STUFUTUVTU0FHRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGT1JXQVJEX09OTFlcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRlJFRVBST0NDQUNIRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGUkVFU0VTU0lPTkNBQ0hFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZSRUVTWVNURU1DQUNIRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGUkVFVEVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGUkVFVEVYVFRBQkxFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZST01cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRlVMTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGVUxMVEVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGVUxMVEVYVENBVEFMT0dQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGVUxMVEVYVFNFUlZJQ0VQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGVU5DVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHRU9HUkFQSFlcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR0VUQU5DRVNUT1JcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR0VUQU5TSU5VTExcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR0VUREFURVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHRVRERVNDRU5EQU5UXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdFVExFVkVMXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdFVFJFUEFSRU5URURWQUxVRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHRVRST09UXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdMT0JBTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHT1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHT1RPXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdSQU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdST1VQXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdST1VQSU5HXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkhBU0hcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSEFWSU5HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkhFTFBcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSElFUkFSQ0hZSURcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSE9MRExPQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSE9TVF9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJIT1NUX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSURFTlRJVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSURFTlRJVFlDT0xcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSURFTlRJVFlfSU5TRVJUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklERU5UX0NVUlJFTlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSURFTlRfSU5DUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJREVOVF9TRUVEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklGXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklHTk9SRV9DT05TVFJBSU5UU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJR05PUkVfVFJJR0dFUlNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU1BR0VcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU1QTElDSVRfVFJBTlNBQ1RJT05TXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOREVYXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOREVYREVGUkFHXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOREVYS0VZX1BST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOREVYUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5ERVhfQ09MXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOTkVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOUFVUQlVGRkVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOU0VOU0lUSVZFXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOU0VSVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTlRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5URUdFUlwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTlRFUlNFQ1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5UT1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJT1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJU0RBVEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSVNERVNDRU5EQU5UT0ZcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSVNOVUxMXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklTTlVNRVJJQ1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJU09MQVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSVNfTUVNQkVSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklTX1NSVlJPTEVNRU1CRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSk9JTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJLRUVQXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIktFRVBERUZBVUxUU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJLRUVQRklYRURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiS0VFUElERU5USVRZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIktFWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJLRVlTRVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiS0lMTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMQU5HVUFHRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMRUZUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxFTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMRVZFTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMSUtFXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxJTkVOT1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMT0FEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxPQ0FMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxPQ0tfVElNRU9VVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMT0dcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTE9HMTBcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTE9HSU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTE9PUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMT1dFUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMVFJJTVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNQVRDSEVEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1BWFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNQVhfUVVFVUVfUkVBREVSU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNQVhET1BcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTUFYUkVDVVJTSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1FUkdFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1JTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNSVJST1JFWElUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1PRElGWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNT05FWVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNT05USFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNT1ZFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5BTUVTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5BVElPTkFMXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5DSEFSXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5FV0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5FWFRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTk9DSEVDS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOT0NPVU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PREVTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PRVhFQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOT0VYUEFORFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOT0xPQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTk9OQ0xVU1RFUkVEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PVFwiLCBLZXl3b3JkVHlwZS5PcGVyYXRvcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOT1dBSVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTlRFWFRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTlRJTEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTlVMTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVUxMSUZcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTlVNRVJJQ1wiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVU1FUklDX1JPVU5EQUJPUlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTlZBUkNIQVJcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT0JKRUNUUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT0JKRUNUUFJPUEVSVFlFWFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPQkpFQ1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT0JKRUNUX0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9CSkVDVF9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9GXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9GRlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPRkZTRVRTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9OQ0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT05MWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPUEVOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QRU5EQVRBU09VUkNFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QRU5RVUVSWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPUEVOUk9XU0VUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QRU5UUkFOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QVElNSVpFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QVElNSVNUSUNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1BUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9SXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9SREVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9VVEVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcblx0XHRcdEtleXdvcmRMaXN0LkFkZChcIk9VVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG5cdFx0XHRLZXl3b3JkTGlzdC5BZGQoXCJPVVRQVVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuXHRcdFx0S2V5d29yZExpc3QuQWRkKFwiT1VUUFVUQlVGRkVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9WRVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1dORVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEFHTE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQQVJBTUVURVJJWkFUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBBUlNFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBBUlNFTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQQVJTRU9OTFlcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEFSVElUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBBVElOREVYXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBFUkNFTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEVSTVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQRVJNQU5FTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEVSTUlTU0lPTlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUElcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUElOVEFCTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUElQRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQTEFOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBPV0VSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBSRVBBUkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUFJJTUFSWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUklOVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUklWSUxFR0VTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBST0NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUFJPQ0NBQ0hFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBST0NFRFVSRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUk9DRURVUkVfTkFNRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUk9DRVNTRVhJVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUk9DSURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUFJPRklMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQVUJMSUNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUVVFUllcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUVVFUllfR09WRVJOT1JfQ09TVF9MSU1JVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJRVUVVRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJRVU9URURfSURFTlRJRklFUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJRVU9URU5BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkFESUFOU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSQUlTRVJST1JcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkFORFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUFEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFQURDT01NSVRURURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVBRENPTU1JVFRFRExPQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVBRFBBU1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVBRFRFWFRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVBRFVOQ09NTUlUVEVEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFQURfT05MWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUFMXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFQ09NUElMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUNPTkZJR1VSRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUZFUkVOQ0VTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFTU9URV9QUk9DX1RSQU5TQUNUSU9OU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVBFQVRBQkxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFUEVBVEFCTEVSRUFEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFUExBQ0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVQTElDQVRFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFUExJQ0FUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFU1RPUkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVTVFJJQ1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVUVVJOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFVFVSTlNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVWRVJTRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVZFUlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVWT0tFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJJR0hUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPQlVTVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJST0xFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPTExCQUNLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPVU5EXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPV0NPVU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPV0dVSURDT0xcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUk9XTE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJST1dWRVJTSU9OXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJUUklNXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJVTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0FWRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTQ0hFTUFcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0NIRU1BX0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNDSEVNQV9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNDT1BFX0lERU5USVRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNDUk9MTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTQ1JPTExfTE9DS1NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0VMRUNUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNFTEZcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0VSSUFMSVpBQkxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNFUlZFUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTRVJWRVJQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTRVNTSU9OUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0VTU0lPTl9VU0VSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNFVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTRVRVU0VSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNIT1dDT05USUdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hPV1BMQU5fQUxMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNIT1dQTEFOX1RFWFRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hPV19TVEFUSVNUSUNTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNIUklOS0RBVEFCQVNFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNIUklOS0ZJTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hVVERPV05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0lHTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTSU1QTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0lOXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNNQUxMREFURVRJTUVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU01BTExJTlRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU01BTExNT05FWVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTT01FXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNPVU5ERVhcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1BBQ0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1FMUEVSRlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTUUxfVkFSSUFOVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTUUxfVkFSSUFOVF9QUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTUVJUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNRVUFSRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVEFURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVEFUSVNUSUNTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUQVRJQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVEFUU19EQVRFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUQVRVU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVERFVlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVERFVlBcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1RPUExJU1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1RSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUVUZGXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNVQlNUUklOR1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVU1cIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1VTRVJfSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1VTRVJfTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVVNFUl9TSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1VTRVJfU05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1lOT05ZTVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTWVNOQU1FXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNZU1RFTV9VU0VSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRBQkxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRBQkxPQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEFCTE9DS1hcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEFOXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRBUEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEVNUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJURU1QT1JBUllcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEVYVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJURVhUUFRSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRFWFRTSVpFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRFWFRWQUxJRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUSEVOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRJTUVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTsgLy9ub3Qgc3RyaWN0bHktc3BlYWtpbmcgdHJ1ZSwgY2FuIGFsc28gYmUga2V5d29yZCBpbiBXQUlURk9SIFRJTUVcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVElNRVNUQU1QXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRJTllJTlRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVE9cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVE9QXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRPU1RSSU5HXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRSQUNFT0ZGXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRSQUNFT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFJBQ0VTVEFUVVNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFJBTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUUkFOU0FDVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUUklHR0VSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRSVU5DQVRFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRTRVFVQUxcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFlQRVBST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRZUEVfSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFlQRV9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRZUEVfV0FSTklOR1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVTkNPTU1JVFRFRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVTklDT0RFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVOSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVOSVFVRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVTklRVUVJREVOVElGSUVSXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVOS05PV05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVU5QSU5UQUJMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVUERBVEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVBEQVRFVEVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVUERBVEVVU0FHRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVUERMT0NLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVQUEVSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVTRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVU0VSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVTRVJPUFRJT05TXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVTRVJfSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVNFUl9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVTSU5HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlZBTFVFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlZBTFVFU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJWQVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVkFSQklOQVJZXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlZBUkNIQVJcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVkFSUFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJWQVJZSU5HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlZJRVdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVklFV1NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiV0FJVEZPUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJXSEVOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIldIRVJFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIldISUxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIldJVEhcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiV09SS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJXUklURVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJXUklURVRFWFRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiWEFDVF9BQk9SVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJYTE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJYTUxcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiWUVBUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGVudW0gS2V5d29yZFR5cGVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE9wZXJhdG9yS2V5d29yZCxcclxuICAgICAgICAgICAgRnVuY3Rpb25LZXl3b3JkLFxyXG4gICAgICAgICAgICBEYXRhVHlwZUtleXdvcmQsXHJcbiAgICAgICAgICAgIE90aGVyS2V5d29yZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmVcclxue1xyXG4gICAgaW50ZXJuYWwgY2xhc3MgTm9kZUltcGwgOiBOb2RlXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIE5vZGVJbXBsKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEF0dHJpYnV0ZXMgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4oKTtcclxuICAgICAgICAgICAgQ2hpbGRyZW4gPSBuZXcgTGlzdDxOb2RlPigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBOYW1lIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFRleHRWYWx1ZSB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIE5vZGUgUGFyZW50IHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIElEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPiBBdHRyaWJ1dGVzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBJRW51bWVyYWJsZTxOb2RlPiBDaGlsZHJlbiB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIHZvaWQgQWRkQ2hpbGQoTm9kZSBjaGlsZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFNldFBhcmVudE9uQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgICAgICAoKElMaXN0PE5vZGU+KUNoaWxkcmVuKS5BZGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZvaWQgSW5zZXJ0Q2hpbGRCZWZvcmUoTm9kZSBuZXdDaGlsZCwgTm9kZSBleGlzdGluZ0NoaWxkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU2V0UGFyZW50T25DaGlsZChuZXdDaGlsZCk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZExpc3QgPSBDaGlsZHJlbiBhcyBJTGlzdDxOb2RlPjtcclxuICAgICAgICAgICAgY2hpbGRMaXN0Lkluc2VydChjaGlsZExpc3QuSW5kZXhPZihleGlzdGluZ0NoaWxkKSwgbmV3Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFNldFBhcmVudE9uQ2hpbGQoTm9kZSBjaGlsZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vVE9ETzogTk9UIFRIUkVBRC1TQUZFIEFUIEFMTCFcclxuICAgICAgICAgICAgaWYgKGNoaWxkLlBhcmVudCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKFwiQ2hpbGQgY2Fubm90IGFscmVhZHkgaGF2ZSBhIHBhcmVudCFcIik7XHJcbiAgICAgICAgICAgICgoTm9kZUltcGwpY2hpbGQpLlBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBSZW1vdmVDaGlsZChOb2RlIGNoaWxkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9UT0RPOiBOT1QgVEhSRUFELVNBRkUgQVQgQUxMIVxyXG4gICAgICAgICAgICAoKElMaXN0PE5vZGU+KUNoaWxkcmVuKS5SZW1vdmUoY2hpbGQpO1xyXG4gICAgICAgICAgICAoKE5vZGVJbXBsKWNoaWxkKS5QYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgR2V0QXR0cmlidXRlVmFsdWUoc3RyaW5nIGFOYW1lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3RyaW5nIG91dFZhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIEF0dHJpYnV0ZXMuVHJ5R2V0VmFsdWUoYU5hbWUsIG91dCBvdXRWYWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gb3V0VmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZvaWQgU2V0QXR0cmlidXRlKHN0cmluZyBuYW1lLCBzdHJpbmcgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBBdHRyaWJ1dGVzW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBSZW1vdmVBdHRyaWJ1dGUoc3RyaW5nIG5hbWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBBdHRyaWJ1dGVzLlJlbW92ZShuYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcblxyXG4jaWYgIVNJTVBMSUZJRURGV1xyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcztcclxuI2VuZGlmXHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmU7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuI2lmICFTSU1QTElGSUVERldcclxuICAgIC8vVGhlc2UgQ09NLXJlbGF0ZWQgYXR0cmlidXRlcyBleGlzdCBKVVNUIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGlzIGNsYXNzIGZyb20gVkI2IC0gdGhlcmUgaXMgbm8gbmVlZCB0b1xyXG4gICAgLy8gZXhwb3NlIHRoZXNlIGNsYXNzZXMgdG8gQ09NIGluIG9yZGVyIGZvciB0aGlzIGxpYnJhcnkgdG8gYmUgdXNlZCBpbiBhIC5OZXQgcHJvamVjdC5cclxuICAgIFtHdWlkKFwiQTdGRDE0MEEtQzNDMy00MjMzLTk1REItQTY0QjUwQzhERjJCXCIpXVxyXG4gICAgW0NsYXNzSW50ZXJmYWNlKENsYXNzSW50ZXJmYWNlVHlwZS5Ob25lKV1cclxuICAgIFtDb21WaXNpYmxlKHRydWUpXVxyXG4gICAgW1Byb2dJZChcIlBvb3JNYW5zVFNxbEZvcm1hdHRlci5TcWxGb3JtYXR0aW5nTWFuYWdlclwiKV1cclxuI2VuZGlmXHJcbiAgICBwdWJsaWMgY2xhc3MgU3FsRm9ybWF0dGluZ01hbmFnZXIgOiBfU3FsRm9ybWF0dGluZ01hbmFnZXJcclxuICAgIHtcclxuICAgICAgICAvL2RlZmF1bHQgdG8gYnVpbHQtaW5cclxuICAgICAgICBwdWJsaWMgU3FsRm9ybWF0dGluZ01hbmFnZXIoKSA6IHRoaXMobmV3IFRva2VuaXplcnMuVFNxbFN0YW5kYXJkVG9rZW5pemVyKCksIG5ldyBQYXJzZXJzLlRTcWxTdGFuZGFyZFBhcnNlcigpLCBuZXcgRm9ybWF0dGVycy5UU3FsU3RhbmRhcmRGb3JtYXR0ZXIoKSkgeyB9XHJcblxyXG4gICAgICAgIC8vbW9zdCBjb21tb24gdXNlLWNhc2UsIGRlZmluZSBvbmx5IGZvcm1hdHRlclxyXG4gICAgICAgIHB1YmxpYyBTcWxGb3JtYXR0aW5nTWFuYWdlcihJU3FsVHJlZUZvcm1hdHRlciBmb3JtYXR0ZXIpIDogdGhpcyhuZXcgVG9rZW5pemVycy5UU3FsU3RhbmRhcmRUb2tlbml6ZXIoKSwgbmV3IFBhcnNlcnMuVFNxbFN0YW5kYXJkUGFyc2VyKCksIGZvcm1hdHRlcikgeyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBTcWxGb3JtYXR0aW5nTWFuYWdlcihJU3FsVG9rZW5pemVyIHRva2VuaXplciwgSVNxbFRva2VuUGFyc2VyIHBhcnNlciwgSVNxbFRyZWVGb3JtYXR0ZXIgZm9ybWF0dGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgVG9rZW5pemVyID0gdG9rZW5pemVyO1xyXG4gICAgICAgICAgICBQYXJzZXIgPSBwYXJzZXI7XHJcbiAgICAgICAgICAgIEZvcm1hdHRlciA9IGZvcm1hdHRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBJU3FsVG9rZW5pemVyIFRva2VuaXplciB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIElTcWxUb2tlblBhcnNlciBQYXJzZXIgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBJU3FsVHJlZUZvcm1hdHRlciBGb3JtYXR0ZXIgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcm1hdChzdHJpbmcgaW5wdXRTUUwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBib29sIGVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBGb3JtYXQoaW5wdXRTUUwsIHJlZiBlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcm1hdChzdHJpbmcgaW5wdXRTUUwsIHJlZiBib29sIGVycm9yRW5jb3VudGVyZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIHNxbFRyZWUgPSBQYXJzZXIuUGFyc2VTUUwoVG9rZW5pemVyLlRva2VuaXplU1FMKGlucHV0U1FMKSk7XHJcbiAgICAgICAgICAgIGVycm9yRW5jb3VudGVyZWQgPSAoc3FsVHJlZS5HZXRBdHRyaWJ1dGVWYWx1ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfRVJST1JGT1VORCkgPT0gXCIxXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc3FsVHJlZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBEZWZhdWx0Rm9ybWF0KHN0cmluZyBpbnB1dFNRTClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3FsRm9ybWF0dGluZ01hbmFnZXIoKS5Gb3JtYXQoaW5wdXRTUUwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgRGVmYXVsdEZvcm1hdChzdHJpbmcgaW5wdXRTUUwsIHJlZiBib29sIGVycm9yc0VuY291bnRlcmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTcWxGb3JtYXR0aW5nTWFuYWdlcigpLkZvcm1hdChpbnB1dFNRTCwgcmVmIGVycm9yc0VuY291bnRlcmVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9UaGlzIENPTSBpbnRlcmZhY2UgZXhpc3RzIEpVU1Qgc28gdGhhdCB3ZSBjYW4gdXNlIHRoaXMgY2xhc3MgZnJvbSBWQjYgLSB0aGVyZSBpcyBubyBuZWVkIHRvIGV4cG9zZSBcclxuICAgIC8vIHRoZXNlIGNsYXNzZXMgdG8gQ09NIGluIG9yZGVyIGZvciB0aGlzIGxpYnJhcnkgdG8gYmUgdXNlZCBpbiBhIC5OZXQgcHJvamVjdC5cclxuI2lmICFTSU1QTElGSUVERldcclxuICAgIFtHdWlkKFwiQTdGRDE0MEEtQzNDMy00MjMzLTk1REItQTY0QjUwQzhERjJBXCIpXVxyXG4gICAgW0NMU0NvbXBsaWFudChmYWxzZSksIENvbVZpc2libGUodHJ1ZSldXHJcbiAgICBbSW50ZXJmYWNlVHlwZShDb21JbnRlcmZhY2VUeXBlLkludGVyZmFjZUlzRHVhbCldXHJcbiNlbmRpZlxyXG4gICAgcHVibGljIGludGVyZmFjZSBfU3FsRm9ybWF0dGluZ01hbmFnZXJcclxuICAgIHtcclxuICAgICAgICBzdHJpbmcgRm9ybWF0KHN0cmluZyBpbnB1dFNRTCk7XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuICAgIHB1YmxpYyBjbGFzcyBUb2tlbiA6IElUb2tlblxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBUb2tlbihTcWxUb2tlblR5cGUgdHlwZSwgc3RyaW5nIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgU3FsVG9rZW5UeXBlIFR5cGUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgVmFsdWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0LlJlZ3VsYXJFeHByZXNzaW9ucztcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJcclxue1xyXG4gICAgaW50ZXJuYWwgY2xhc3MgUGFyc2VUcmVlIDogTm9kZUltcGwsIE5vZGVcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgUGFyc2VUcmVlKHN0cmluZyByb290TmFtZSkgOiBiYXNlKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5hbWUgPSByb290TmFtZTtcclxuICAgICAgICAgICAgQ3VycmVudENvbnRhaW5lciA9IHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIE5vZGUgX2N1cnJlbnRDb250YWluZXI7XHJcbiAgICAgICAgaW50ZXJuYWwgTm9kZSBDdXJyZW50Q29udGFpbmVyXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnROdWxsRXhjZXB0aW9uKFwiQ3VycmVudENvbnRhaW5lclwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlLlJvb3RDb250YWluZXIoKS5FcXVhbHModGhpcykpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIkN1cnJlbnQgQ29udGFpbmVyIG5vZGUgY2FuIG9ubHkgYmUgc2V0IHRvIGFuIGVsZW1lbnQgaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQuXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIF9jdXJyZW50Q29udGFpbmVyID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBfbmV3U3RhdGVtZW50RHVlO1xyXG4gICAgICAgIGludGVybmFsIGJvb2wgTmV3U3RhdGVtZW50RHVlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZW1lbnREdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIF9uZXdTdGF0ZW1lbnREdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgYm9vbCBFcnJvckZvdW5kXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZW1lbnREdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJpdmF0ZSBzZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2V0QXR0cmlidXRlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9FUlJPUkZPVU5ELCBcIjFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUmVtb3ZlQXR0cmlidXRlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9FUlJPUkZPVU5EKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBTZXRFcnJvcigpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyLlNldEF0dHJpYnV0ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfSEFTRVJST1IsIFwiMVwiKTtcclxuICAgICAgICAgICAgRXJyb3JGb3VuZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBOb2RlIFNhdmVOZXdFbGVtZW50KHN0cmluZyBuZXdFbGVtZW50TmFtZSwgc3RyaW5nIG5ld0VsZW1lbnRWYWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBTYXZlTmV3RWxlbWVudChuZXdFbGVtZW50TmFtZSwgbmV3RWxlbWVudFZhbHVlLCBDdXJyZW50Q29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJuYWwgTm9kZSBTYXZlTmV3RWxlbWVudChzdHJpbmcgbmV3RWxlbWVudE5hbWUsIHN0cmluZyBuZXdFbGVtZW50VmFsdWUsIE5vZGUgdGFyZ2V0Tm9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgbmV3RWxlbWVudCA9IE5vZGVGYWN0b3J5LkNyZWF0ZU5vZGUobmV3RWxlbWVudE5hbWUsIG5ld0VsZW1lbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRhcmdldE5vZGUuQWRkQ2hpbGQobmV3RWxlbWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgTm9kZSBTYXZlTmV3RWxlbWVudFdpdGhFcnJvcihzdHJpbmcgbmV3RWxlbWVudE5hbWUsIHN0cmluZyBuZXdFbGVtZW50VmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIG5ld0VsZW1lbnQgPSBTYXZlTmV3RWxlbWVudChuZXdFbGVtZW50TmFtZSwgbmV3RWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgU2V0RXJyb3IoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBOb2RlIFNhdmVOZXdFbGVtZW50QXNQcmlvclNpYmxpbmcoc3RyaW5nIG5ld0VsZW1lbnROYW1lLCBzdHJpbmcgbmV3RWxlbWVudFZhbHVlLCBOb2RlIG5vZGVUb1NhdmVCZWZvcmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIG5ld0VsZW1lbnQgPSBOb2RlRmFjdG9yeS5DcmVhdGVOb2RlKG5ld0VsZW1lbnROYW1lLCBuZXdFbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICBub2RlVG9TYXZlQmVmb3JlLlBhcmVudC5JbnNlcnRDaGlsZEJlZm9yZShuZXdFbGVtZW50LCBub2RlVG9TYXZlQmVmb3JlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIFN0YXJ0TmV3Q29udGFpbmVyKHN0cmluZyBuZXdFbGVtZW50TmFtZSwgc3RyaW5nIGNvbnRhaW5lck9wZW5WYWx1ZSwgc3RyaW5nIGNvbnRhaW5lclR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gU2F2ZU5ld0VsZW1lbnQobmV3RWxlbWVudE5hbWUsIFwiXCIpO1xyXG4gICAgICAgICAgICBOb2RlIGNvbnRhaW5lck9wZW4gPSBTYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4sIFwiXCIpO1xyXG4gICAgICAgICAgICBTYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCBjb250YWluZXJPcGVuVmFsdWUsIGNvbnRhaW5lck9wZW4pO1xyXG4gICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gU2F2ZU5ld0VsZW1lbnQoY29udGFpbmVyVHlwZSwgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIFN0YXJ0TmV3U3RhdGVtZW50KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFN0YXJ0TmV3U3RhdGVtZW50KEN1cnJlbnRDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIFN0YXJ0TmV3U3RhdGVtZW50KE5vZGUgdGFyZ2V0Tm9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5ld1N0YXRlbWVudER1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBOb2RlIG5ld1N0YXRlbWVudCA9IFNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5ULCBcIlwiLCB0YXJnZXROb2RlKTtcclxuICAgICAgICAgICAgQ3VycmVudENvbnRhaW5lciA9IFNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFLCBcIlwiLCBuZXdTdGF0ZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBFc2NhcGVBbnlCZXR3ZWVuQ29uZGl0aW9ucygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX1VQUEVSQk9VTkQpXHJcbiAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fQ09ORElUSU9OKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL3dlIGp1c3QgZW5kZWQgdGhlIHVwcGVyIGJvdW5kIG9mIGEgXCJCRVRXRUVOXCIgY29uZGl0aW9uLCBuZWVkIHRvIHBvcCBiYWNrIHRvIHRoZSBlbmNsb3NpbmcgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgRXNjYXBlTWVyZ2VBY3Rpb24oKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9BQ1RJT04pXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgSGFzTm9uV2hpdGVTcGFjZU5vbkNvbW1lbnRDb250ZW50KEN1cnJlbnRDb250YWluZXIpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcig0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgRXNjYXBlUGFydGlhbFN0YXRlbWVudENvbnRhaW5lcnMoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICB8fCBQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9PVEhFUl9CTE9DSylcclxuICAgICAgICAgICAgICAgIHx8IFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0RFQ0xBUkVfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfT1BUSU9OUylcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDMpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5UKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMyk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIChQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9PVEhFUl9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMyk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfV0hFTikpXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAmJiAoUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgRXNjYXBlQW55U2luZ2xlT3JQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBFc2NhcGVBbnlCZXR3ZWVuQ29uZGl0aW9ucygpO1xyXG4gICAgICAgICAgICBFc2NhcGVBbnlTZWxlY3Rpb25UYXJnZXQoKTtcclxuICAgICAgICAgICAgRXNjYXBlSm9pbkNvbmRpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKEhhc05vbldoaXRlU3BhY2VOb25Db21tZW50Q29udGVudChDdXJyZW50Q29udGFpbmVyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRXNjYXBlQ3Vyc29yRm9yQmxvY2soKTtcclxuICAgICAgICAgICAgICAgIEVzY2FwZU1lcmdlQWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBFc2NhcGVQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGN1cnJlbnRTaW5nbGVDb250YWluZXIgPSBDdXJyZW50Q29udGFpbmVyLlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQYXRoTmFtZU1hdGNoZXMoY3VycmVudFNpbmdsZUNvbnRhaW5lciwgMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VMU0VfQ0xBVVNFKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93ZSBqdXN0IGVuZGVkIHRoZSBvbmUgYW5kIG9ubHkgc3RhdGVtZW50IGluIGFuIGVsc2UgY2xhdXNlLCBhbmQgbmVlZCB0byBwb3Agb3V0IHRvIHRoZSBzYW1lIGxldmVsIGFzIGl0cyBwYXJlbnQgaWZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZUNvbnRhaW5lci5lbHNlLmlmLkNBTkRJREFURVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudENvbnRhaW5lciA9IGN1cnJlbnRTaW5nbGVDb250YWluZXIuUGFyZW50LlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGp1c3QgZW5kZWQgdGhlIG9uZSBzdGF0ZW1lbnQgb2YgYW4gaWYgb3Igd2hpbGUsIGFuZCBuZWVkIHRvIHBvcCBvdXQgdGhlIHNhbWUgbGV2ZWwgYXMgdGhhdCBpZiBvciB3aGlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlQ29udGFpbmVyLihpZiBvciB3aGlsZSkuQ0FORElEQVRFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gY3VycmVudFNpbmdsZUNvbnRhaW5lci5QYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIEVzY2FwZUN1cnNvckZvckJsb2NrKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0ZPUl9CTE9DSylcclxuICAgICAgICAgICAgICAgICYmIEhhc05vbldoaXRlU3BhY2VOb25Db21tZW50Q29udGVudChDdXJyZW50Q29udGFpbmVyKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLy93ZSBqdXN0IGVuZGVkIHRoZSBvbmUgc2VsZWN0IHN0YXRlbWVudCBpbiBhIGN1cnNvciBkZWNsYXJhdGlvbiwgYW5kIG5lZWQgdG8gcG9wIG91dCB0byB0aGUgc2FtZSBsZXZlbCBhcyB0aGUgY3Vyc29yXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcig1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgTm9kZSBFc2NhcGVBbmRMb2NhdGVOZXh0U3RhdGVtZW50Q29udGFpbmVyKGJvb2wgZXNjYXBlRW1wdHlDb250YWluZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBFc2NhcGVBbnlTaW5nbGVPclBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CT09MRUFOX0VYUFJFU1NJT04pXHJcbiAgICAgICAgICAgICAgICAmJiAoUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JRl9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElMRV9MT09QKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy93ZSBqdXN0IGVuZGVkIHRoZSBib29sZWFuIGNsYXVzZSBvZiBhbiBpZiBvciB3aGlsZSwgYW5kIG5lZWQgdG8gcG9wIHRvIHRoZSBzaW5nbGUtc3RhdGVtZW50IGNvbnRhaW5lci5cclxuICAgICAgICAgICAgICAgIHJldHVybiBTYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVCwgXCJcIiwgQ3VycmVudENvbnRhaW5lci5QYXJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICYmIChlc2NhcGVFbXB0eUNvbnRhaW5lciB8fCBIYXNOb25XaGl0ZVNwYWNlTm9uU2luZ2xlQ29tbWVudENvbnRlbnQoQ3VycmVudENvbnRhaW5lcikpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ3VycmVudENvbnRhaW5lci5QYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBNaWdyYXRlQXBwbGljYWJsZUNvbW1lbnRzRnJvbUNvbnRhaW5lcihOb2RlIHByZXZpb3VzQ29udGFpbmVyRWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgbWlncmF0aW9uQ29udGV4dCA9IHByZXZpb3VzQ29udGFpbmVyRWxlbWVudDtcclxuICAgICAgICAgICAgTm9kZSBtaWdyYXRpb25DYW5kaWRhdGUgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3Q8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4ocHJldmlvdXNDb250YWluZXJFbGVtZW50LkNoaWxkcmVuKTtcclxuXHJcbiAgICAgICAgICAgIC8va2VlcCB0cmFjayBvZiB3aGVyZSB3ZSdyZSBnb2luZyB0byBiZSBwcmVwZW5kaW5nIC0gdGhpcyB3aWxsIGNoYW5nZSBhcyB3ZSBnbyBtb3Zpbmcgc3R1ZmYuXHJcbiAgICAgICAgICAgIE5vZGUgaW5zZXJ0QmVmb3JlTm9kZSA9IEN1cnJlbnRDb250YWluZXI7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAobWlncmF0aW9uQ2FuZGlkYXRlICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChtaWdyYXRpb25DYW5kaWRhdGUuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0UpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pZ3JhdGlvbkNhbmRpZGF0ZSA9IG1pZ3JhdGlvbkNhbmRpZGF0ZS5QcmV2aW91c1NpYmxpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1pZ3JhdGlvbkNhbmRpZGF0ZS5QcmV2aW91c1NpYmxpbmcoKSAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgU3lzdGVtLkFycmF5RXh0ZW5zaW9ucy5Db250YWluczxzdHJpbmc+KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfQ09NTUVOVCxtaWdyYXRpb25DYW5kaWRhdGUuTmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAmJiBTeXN0ZW0uQXJyYXlFeHRlbnNpb25zLkNvbnRhaW5zPHN0cmluZz4oU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5ULG1pZ3JhdGlvbkNhbmRpZGF0ZS5QcmV2aW91c1NpYmxpbmcoKS5OYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWlncmF0aW9uQ2FuZGlkYXRlLlByZXZpb3VzU2libGluZygpLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElURVNQQUNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBSZWdleC5Jc01hdGNoKG1pZ3JhdGlvbkNhbmRpZGF0ZS5QcmV2aW91c1NpYmxpbmcoKS5UZXh0VmFsdWUsIEBcIihcXHJ8XFxuKStcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93ZSBoYXZlIGEgbWF0Y2gsIHNvIG1pZ3JhdGUgZXZlcnl0aGluZyBjb25zaWRlcmVkIHNvIGZhciAoYmFja3dhcmRzIGZyb20gdGhlIGVuZCkuIG5lZWQgdG8ga2VlcCB0cmFjayBvZiB3aGVyZSB3ZSdyZSBpbnNlcnRpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5MYXN0PGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGU+KG1pZ3JhdGlvbkNvbnRleHQuQ2hpbGRyZW4pLkVxdWFscyhtaWdyYXRpb25DYW5kaWRhdGUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIG1vdmluZ05vZGUgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3Q8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4obWlncmF0aW9uQ29udGV4dC5DaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZpbmdOb2RlLlBhcmVudC5SZW1vdmVDaGlsZChtb3ZpbmdOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIuUGFyZW50Lkluc2VydENoaWxkQmVmb3JlKG1vdmluZ05vZGUsIGluc2VydEJlZm9yZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTm9kZSA9IG1vdmluZ05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uQ2FuZGlkYXRlLlBhcmVudC5SZW1vdmVDaGlsZChtaWdyYXRpb25DYW5kaWRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyLlBhcmVudC5JbnNlcnRDaGlsZEJlZm9yZShtaWdyYXRpb25DYW5kaWRhdGUsIGluc2VydEJlZm9yZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVOb2RlID0gbWlncmF0aW9uQ2FuZGlkYXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tb3ZlIG9uIHRvIHRoZSBuZXh0IGNhbmRpZGF0ZSBlbGVtZW50IGZvciBjb25zaWRlcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWdyYXRpb25DYW5kaWRhdGUgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3Q8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4obWlncmF0aW9uQ29udGV4dC5DaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBvbmUgd2Fzbid0IHByb3Blcmx5IHNlcGFyYXRlZCBmcm9tIHRoZSBwcmV2aW91cyBub2RlL2VudHJ5LCBrZWVwIGdvaW5nIGluIGNhc2UgdGhlcmUncyBhIGxpbmVicmVhayBmdXJ0aGVyIHVwLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWdyYXRpb25DYW5kaWRhdGUgPSBtaWdyYXRpb25DYW5kaWRhdGUuUHJldmlvdXNTaWJsaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXN0cmluZy5Jc051bGxPckVtcHR5KG1pZ3JhdGlvbkNhbmRpZGF0ZS5UZXh0VmFsdWUpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vd2UgZm91bmQgYSBub24td2hpdGVzcGFjZSBub24tY29tbWVudCBub2RlIHdpdGggdGV4dCBjb250ZW50LiBTdG9wIHRyeWluZyB0byBtaWdyYXRlIGNvbW1lbnRzLlxyXG4gICAgICAgICAgICAgICAgICAgIG1pZ3JhdGlvbkNhbmRpZGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy93YWxrIHVwIHRoZSBsYXN0IGZvdW5kIG5vZGUsIGluIGNhc2UgdGhlIGNvbW1lbnQgZ290IHRyYXBwZWQgaW4gc29tZSBzdWJzdHJ1Y3R1cmUuXHJcbiAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uQ29udGV4dCA9IG1pZ3JhdGlvbkNhbmRpZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICBtaWdyYXRpb25DYW5kaWRhdGUgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3RPckRlZmF1bHQ8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4obWlncmF0aW9uQ2FuZGlkYXRlLkNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBDb25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKCk7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueVNlbGVjdGlvblRhcmdldCgpO1xyXG4gICAgICAgICAgICBFc2NhcGVKb2luQ29uZGl0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAvL2JlZm9yZSBzaW5nbGUtc3RhdGVtZW50LWVzY2FwaW5nXHJcbiAgICAgICAgICAgIE5vZGUgcHJldmlvdXNDb250YWluZXJFbGVtZW50ID0gQ3VycmVudENvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIC8vY29udGV4dCBtaWdodCBjaGFuZ2UgQU5EIHN1aXRhYmxlIGFuY2VzdG9yIHNlbGVjdGVkXHJcbiAgICAgICAgICAgIE5vZGUgbmV4dFN0YXRlbWVudENvbnRhaW5lciA9IEVzY2FwZUFuZExvY2F0ZU5leHRTdGF0ZW1lbnRDb250YWluZXIoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgLy9pZiBzdWl0YWJsZSBhbmNlc3RvciBmb3VuZCwgc3RhcnQgc3RhdGVtZW50IGFuZCBtaWdyYXRlIGluLWJldHdlZW4gY29tbWVudHMgdG8gdGhlIG5ldyBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgaWYgKG5leHRTdGF0ZW1lbnRDb250YWluZXIgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTm9kZSBpbkJldHdlZW5Db250YWluZXJFbGVtZW50ID0gQ3VycmVudENvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIFN0YXJ0TmV3U3RhdGVtZW50KG5leHRTdGF0ZW1lbnRDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbkJldHdlZW5Db250YWluZXJFbGVtZW50LkVxdWFscyhwcmV2aW91c0NvbnRhaW5lckVsZW1lbnQpKVxyXG4gICAgICAgICAgICAgICAgICAgIE1pZ3JhdGVBcHBsaWNhYmxlQ29tbWVudHNGcm9tQ29udGFpbmVyKGluQmV0d2VlbkNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgTWlncmF0ZUFwcGxpY2FibGVDb21tZW50c0Zyb21Db250YWluZXIocHJldmlvdXNDb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBDb25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueVNlbGVjdGlvblRhcmdldCgpO1xyXG4gICAgICAgICAgICBFc2NhcGVBbnlCZXR3ZWVuQ29uZGl0aW9ucygpO1xyXG4gICAgICAgICAgICBFc2NhcGVQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpO1xyXG4gICAgICAgICAgICBFc2NhcGVKb2luQ29uZGl0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICYmIEhhc05vbldoaXRlU3BhY2VOb25TaW5nbGVDb21tZW50Q29udGVudChDdXJyZW50Q29udGFpbmVyKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbXBsZXRlIGN1cnJlbnQgY2xhdXNlLCBzdGFydCBhIG5ldyBvbmUgaW4gdGhlIHNhbWUgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICBOb2RlIHByZXZpb3VzQ29udGFpbmVyRWxlbWVudCA9IEN1cnJlbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UsIFwiXCIsIEN1cnJlbnRDb250YWluZXIuUGFyZW50KTtcclxuICAgICAgICAgICAgICAgIE1pZ3JhdGVBcHBsaWNhYmxlQ29tbWVudHNGcm9tQ29udGFpbmVyKHByZXZpb3VzQ29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMpXHJcblx0XHRcdFx0fHwgQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TKVxyXG5cdFx0XHRcdHx8IEN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMpXHJcblx0XHRcdFx0fHwgQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuXHRcdFx0XHQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlIG5ldyBjbGF1c2UgYW5kIHNldCBjb250ZXh0IHRvIGl0LlxyXG4gICAgICAgICAgICAgICAgQ3VycmVudENvbnRhaW5lciA9IFNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFLCBcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBFc2NhcGVBbnlTZWxlY3Rpb25UYXJnZXQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUKSlcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIgPSBDdXJyZW50Q29udGFpbmVyLlBhcmVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgRXNjYXBlSm9pbkNvbmRpdGlvbigpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0pPSU5fT05fU0VDVElPTilcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgYm9vbCBGaW5kVmFsaWRCYXRjaEVuZCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIG5leHRTdGF0ZW1lbnRDb250YWluZXIgPSBFc2NhcGVBbmRMb2NhdGVOZXh0U3RhdGVtZW50Q29udGFpbmVyKHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlbWVudENvbnRhaW5lciAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAmJiAobmV4dFN0YXRlbWVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1JPT1QpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKG5leHRTdGF0ZW1lbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgbmV4dFN0YXRlbWVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9BU19CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBib29sIFBhdGhOYW1lTWF0Y2hlcyhpbnQgbGV2ZWxzVXAsIHN0cmluZyBuYW1lVG9NYXRjaClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQYXRoTmFtZU1hdGNoZXMoQ3VycmVudENvbnRhaW5lciwgbGV2ZWxzVXAsIG5hbWVUb01hdGNoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIGJvb2wgUGF0aE5hbWVNYXRjaGVzKE5vZGUgdGFyZ2V0Tm9kZSwgaW50IGxldmVsc1VwLCBzdHJpbmcgbmFtZVRvTWF0Y2gpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIGN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgd2hpbGUgKGxldmVsc1VwID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXZlbHNVcC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Tm9kZSAhPSBudWxsICYmIGN1cnJlbnROb2RlLk5hbWUuRXF1YWxzKG5hbWVUb01hdGNoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJvb2wgSGFzTm9uV2hpdGVTcGFjZU5vblNpbmdsZUNvbW1lbnRDb250ZW50KE5vZGUgY29udGFpbmVyTm9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgdGVzdEVsZW1lbnQgaW4gY29udGFpbmVyTm9kZS5DaGlsZHJlbilcclxuICAgICAgICAgICAgICAgIGlmICghdGVzdEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0UpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgIXRlc3RFbGVtZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkUpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgIXRlc3RFbGVtZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFKVxyXG4gICAgICAgICAgICAgICAgICAgICYmICghdGVzdEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfTVVMVElMSU5FKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBSZWdleC5Jc01hdGNoKHRlc3RFbGVtZW50LlRleHRWYWx1ZSwgQFwiKFxccnxcXG4pK1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgYm9vbCBIYXNOb25XaGl0ZVNwYWNlTm9uQ29tbWVudENvbnRlbnQoTm9kZSBjb250YWluZXJOb2RlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuQW55PGdsb2JhbDo6UG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlLk5vZGU+KGNvbnRhaW5lck5vZGUuQ2hpbGRyZW5FeGNsdWRpbmdOYW1lcyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVMSVNUX05PTkNPTlRFTlQpKTtcclxuICAgICAgICB9XHJcblxyXG5cdFx0aW50ZXJuYWwgTm9kZSBHZXRGaXJzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KE5vZGUgdGFyZ2V0RWxlbWVudClcclxuXHRcdHtcclxuICAgICAgICAgICAgcmV0dXJuIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuRmlyc3RPckRlZmF1bHQ8Z2xvYmFsOjpQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmUuTm9kZT4odGFyZ2V0RWxlbWVudC5DaGlsZHJlbkV4Y2x1ZGluZ05hbWVzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfTk9OQ09OVEVOVCkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGludGVybmFsIE5vZGUgR2V0TGFzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KE5vZGUgdGFyZ2V0RWxlbWVudClcclxuXHRcdHtcclxuICAgICAgICAgICAgcmV0dXJuIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuTGFzdE9yRGVmYXVsdDxnbG9iYWw6OlBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlPih0YXJnZXRFbGVtZW50LkNoaWxkcmVuRXhjbHVkaW5nTmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5UKSk7XHJcblx0XHR9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoaW50IGxldmVsc1VwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTW92ZVRvQW5jZXN0b3JDb250YWluZXIobGV2ZWxzVXAsIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKGludCBsZXZlbHNVcCwgc3RyaW5nIHRhcmdldENvbnRhaW5lck5hbWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIGNhbmRpZGF0ZUNvbnRhaW5lciA9IEN1cnJlbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIHdoaWxlIChsZXZlbHNVcCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZUNvbnRhaW5lciA9IGNhbmRpZGF0ZUNvbnRhaW5lci5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXZlbHNVcC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eSh0YXJnZXRDb250YWluZXJOYW1lKSB8fCBjYW5kaWRhdGVDb250YWluZXIuTmFtZS5FcXVhbHModGFyZ2V0Q29udGFpbmVyTmFtZSkpXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gY2FuZGlkYXRlQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiQW5jZXN0b3Igbm9kZSBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBuYW1lIVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlxyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgVG9rZW5MaXN0IDogTGlzdDxJVG9rZW4+LCBJVG9rZW5MaXN0XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIGJvb2wgSGFzVW5maW5pc2hlZFRva2VuIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFByZXR0eVByaW50KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgb3V0U3RyaW5nID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcclxuICAgICAgICAgICAgZm9yZWFjaChJVG9rZW4gY29udGVudFRva2VuIGluIHRoaXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyB0b2tlblR5cGUgPSBjb250ZW50VG9rZW4uVHlwZS5Ub1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZCh0b2tlblR5cGUuUGFkUmlnaHQoMjApKTtcclxuICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCI6IFwiKTtcclxuICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoY29udGVudFRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50VG9rZW4uRXF1YWxzKHRoaXMuTWFya2VyVG9rZW4pKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCIgKE1BUktFUiAtIHBvcyBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZCh0aGlzLk1hcmtlclBvc2l0aW9uLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZExpbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gb3V0U3RyaW5nLlRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgbmV3IElMaXN0PElUb2tlbj4gR2V0UmFuZ2UoaW50IGluZGV4LCBpbnQgY291bnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gYmFzZS5HZXRSYW5nZShpbmRleCwgY291bnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIElMaXN0PElUb2tlbj4gR2V0UmFuZ2VCeUluZGV4KGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuR2V0UmFuZ2UoZnJvbUluZGV4LCB0b0luZGV4IC0gZnJvbUluZGV4ICsgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgSVRva2VuIE1hcmtlclRva2VuIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIGxvbmc/IE1hcmtlclBvc2l0aW9uIHsgZ2V0OyBzZXQ7IH1cclxuICAgIH1cclxufVxyXG4iXQp9Cg==
